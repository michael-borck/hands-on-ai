
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/teaching-repositories/ailabkit/mini-projects/">
      
      
        <link rel="prev" href="../project-tools/">
      
      
        <link rel="next" href="../projects/">
      
      
      <link rel="icon" href="../assets/icon-192.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.10">
    
    
      
        <title>Projects Overview - AiLabKit Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mini-project-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="AiLabKit Documentation" class="md-header__button md-logo" aria-label="AiLabKit Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AiLabKit Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Projects Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/teaching-repositories/ailabkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    teaching-repositories/ailabkit
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../configuration/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../chat-guide/" class="md-tabs__link">
          
  
  
  Modules

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../education-guide/" class="md-tabs__link">
          
  
  
  For Educators

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Mini-Projects

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../authors/" class="md-tabs__link">
          
  
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="AiLabKit Documentation" class="md-nav__button md-logo" aria-label="AiLabKit Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AiLabKit Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/teaching-repositories/ailabkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    teaching-repositories/ailabkit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ollama-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ollama Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../classroom-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Classroom Setup
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chat
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Chat
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chat-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bot-gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bot Gallery
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RAG
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            RAG
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rag-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rag-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rag-llm-explain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How RAG Works
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Agent
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding Agents
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    For Educators
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            For Educators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../education-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Education Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Projects Overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Projects Overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mini-project-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Mini-Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Mini-Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Projects Overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Projects Overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Gallery
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mini-project-examples">Mini Project Examples<a class="headerlink" href="#mini-project-examples" title="Permanent link">&para;</a></h1>
<p>This document contains ready-to-use mini-projects and activities for using AiLabKit in educational settings. Each project includes learning objectives, difficulty level, estimated time, and complete code examples.</p>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#agent-evaluation-framework">Agent Evaluation Framework</a></li>
<li><a href="#custom-tool-creator">Custom Tool Creator</a></li>
<li><a href="#date-calculator">Date Calculator</a></li>
<li><a href="#educational-assistant">Educational Assistant</a></li>
<li><a href="#multi-tool-problem-solver">Multi-Tool Problem Solver</a></li>
<li><a href="#personal-math-tutor">Personal Math Tutor</a></li>
<li><a href="#science-explorer">Science Explorer</a></li>
<li><a href="#simple-calculator-agent">Simple Calculator Agent</a></li>
<li><a href="#text-analyzer">Text Analyzer</a></li>
<li><a href="#unit-conversion-assistant">Unit Conversion Assistant</a></li>
<li><a href="#word-detective">Word Detective</a></li>
<li><a href="#advanced-journal-assistant">Advanced Journal Assistant</a></li>
<li><a href="#bot-personality-menu-generator">Bot Personality Menu Generator</a></li>
<li><a href="#build-your-own-personality-bot">Build Your Own Personality Bot</a></li>
<li><a href="#choose-your-own-adventure">Choose Your Own Adventure</a></li>
<li><a href="#classroom-simulation-bot">Classroom Simulation Bot</a></li>
<li><a href="#code-explainer-tool">Code Explainer Tool</a></li>
<li><a href="#creative-writing-partner">Creative Writing Partner</a></li>
<li><a href="#data-visualisation-dashboard">Data Visualisation Dashboard</a></li>
<li><a href="#ai-persona-dialogue-simulator">AI Persona Dialogue Simulator</a></li>
<li><a href="#emotional-support-bot">Emotional Support Bot</a></li>
<li><a href="#historical-figure-chat">Historical Figure Chat</a></li>
<li><a href="#image-gallery-creator">Image Gallery Creator</a></li>
<li><a href="#journal-or-reflection-bot">Journal or Reflection Bot</a></li>
<li><a href="#knowledge-quiz-bot">Knowledge Quiz Bot</a></li>
<li><a href="#language-translation-helper">Language Translation Helper</a></li>
<li><a href="#mood-journal-assistant">Mood Journal Assistant</a></li>
<li><a href="#personality-bot-creator">Personality Bot Creator</a></li>
<li><a href="#smart-to-do-list">Smart To-Do List</a></li>
<li><a href="#subject-expert-tutor">Subject Expert Tutor</a></li>
<li><a href="#text-adventure-game-engine">Text Adventure Game Engine</a></li>
<li><a href="#trivia-or-quiz-bot">Trivia or Quiz Bot</a></li>
<li><a href="#weather-dashboard">Weather Dashboard</a></li>
<li><a href="#youtube-to-blog-converter">YouTube to Blog Converter</a></li>
<li><a href="#build-your-own-q&amp;a-cli">Build Your Own Q&amp;A CLI</a></li>
<li><a href="#🧠-my-first-rag-bot">🧠 My First RAG Bot</a></li>
<li><a href="#hybrid-reasoning-bot">Hybrid Reasoning Bot</a></li>
<li><a href="#pdf-question-answering-chatbot">PDF Question Answering Chatbot</a></li>
</ol>
<hr />
<h1 id="agent-evaluation-framework">Agent Evaluation Framework<a class="headerlink" href="#agent-evaluation-framework" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Advanced<br />
<strong>Time</strong>: 90 minutes<br />
<strong>Learning Focus</strong>: Critical analysis, agent limitations, structured evaluation<br />
<strong>Module</strong>: agent</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Develop a framework to evaluate the agent's performance across different types of tasks and identify its strengths and limitations.</p>
<h2 id="instructions">Instructions<a class="headerlink" href="#instructions" title="Permanent link">&para;</a></h2>
<ol>
<li>Design a test suite with 3-5 questions in each of these categories:</li>
<li>Factual (using educational tools)</li>
<li>Computational (using calculator tools)</li>
<li>Analytical (requiring multiple reasoning steps)</li>
<li>Creative (open-ended tasks)</li>
<li>For each question, define what an ideal answer would include</li>
<li>Run the agent through your test suite and score its responses</li>
<li>Analyze the results to identify patterns in the agent's performance:</li>
<li>Which types of questions does it handle well?</li>
<li>Where does it struggle or make mistakes?</li>
<li>How clear is its reasoning process?</li>
<li>Write a brief report summarizing your findings and recommendations for effective agent use</li>
</ol>
<h2 id="extension-ideas">Extension Ideas<a class="headerlink" href="#extension-ideas" title="Permanent link">&para;</a></h2>
<ul>
<li>Compare the agent's performance with and without access to specific tools</li>
<li>Test edge cases and ambiguous questions to see how the agent handles uncertainty</li>
<li>Design prompts that intentionally challenge the agent's reasoning capabilities</li>
</ul>
<hr />
<h1 id="custom-tool-creator">Custom Tool Creator<a class="headerlink" href="#custom-tool-creator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Advanced<br />
<strong>Time</strong>: 75 minutes<br />
<strong>Learning Focus</strong>: Custom tool development, Python coding<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_1">Overview<a class="headerlink" href="#overview_1" title="Permanent link">&para;</a></h2>
<p>Design and implement your own custom tools to extend the agent's capabilities for specialized tasks.</p>
<h2 id="instructions_1">Instructions<a class="headerlink" href="#instructions_1" title="Permanent link">&para;</a></h2>
<ol>
<li>Review the custom tool example in the documentation</li>
<li>Create a Python file to define your custom tools (e.g., <code>my_tools.py</code>)</li>
<li>Implement at least 2 of the following custom tools:</li>
<li>A random quote generator that returns an inspirational quote</li>
<li>A tool that generates a strong password of a specified length</li>
<li>A simple game like rock-paper-scissors or number guessing</li>
<li>A tool that provides current weather information for a given location</li>
<li>Register your tools using the <code>register_tool</code> function</li>
<li>Test your tools by asking the agent to use them in various scenarios</li>
<li>Document how the agent integrates your custom tools with its existing capabilities</li>
</ol>
<h2 id="extension-ideas_1">Extension Ideas<a class="headerlink" href="#extension-ideas_1" title="Permanent link">&para;</a></h2>
<ul>
<li>Create a tool that connects to an external API (like weather, news, or sports data)</li>
<li>Design a tool that performs a specialized calculation relevant to your field of study</li>
<li>Implement a tool that works with files (e.g., reading CSV data or creating simple charts)</li>
</ul>
<hr />
<h1 id="date-calculator">Date Calculator<a class="headerlink" href="#date-calculator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 40 minutes<br />
<strong>Learning Focus</strong>: Date and time tools, practical applications<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_2">Overview<a class="headerlink" href="#overview_2" title="Permanent link">&para;</a></h2>
<p>Create a date calculator that helps plan projects, calculate age, and work with calendar-based information.</p>
<h2 id="instructions_2">Instructions<a class="headerlink" href="#instructions_2" title="Permanent link">&para;</a></h2>
<ol>
<li>Start the agent in interactive mode using <code>ailabkit agent interactive</code></li>
<li>Explore the date tools by asking questions like:</li>
<li>"How many days until Christmas?"</li>
<li>"What's the difference between March 15, 2023 and today?"</li>
<li>"How old would someone be if they were born on July 4, 1990?"</li>
<li>Create a project timeline with 3-4 milestones and ask the agent to calculate the duration between them</li>
<li>Ask the agent to format dates in different styles (short, long, with weekday, etc.)</li>
<li>Document which queries worked well and which required more specific instructions</li>
</ol>
<h2 id="extension-ideas_2">Extension Ideas<a class="headerlink" href="#extension-ideas_2" title="Permanent link">&para;</a></h2>
<ul>
<li>Create a birthday calculator that tells you interesting facts about your birth date</li>
<li>Plan an international trip across different time zones and ask the agent for help</li>
<li>Ask about historical date calculations, like "How many days passed between the moon landing and the fall of the Berlin Wall?"</li>
</ul>
<hr />
<h1 id="educational-assistant">Educational Assistant<a class="headerlink" href="#educational-assistant" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Advanced<br />
<strong>Time</strong>: 120 minutes<br />
<strong>Learning Focus</strong>: Planning, educational content creation, tool orchestration<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_3">Overview<a class="headerlink" href="#overview_3" title="Permanent link">&para;</a></h2>
<p>Create a comprehensive educational assistant that helps students learn a specific topic by providing explanations, examples, practice problems, and personalized feedback.</p>
<h2 id="instructions_3">Instructions<a class="headerlink" href="#instructions_3" title="Permanent link">&para;</a></h2>
<ol>
<li>Choose an educational topic that can leverage multiple agent tools (e.g., chemistry, mathematics, language learning)</li>
<li>Design a learning plan with these components:</li>
<li>A diagnostic assessment to identify what the student already knows</li>
<li>Explanations of key concepts with relevant examples</li>
<li>Interactive practice problems of varying difficulty</li>
<li>A final assessment to measure learning progress</li>
<li>Implement your plan by creating specific prompts for the agent</li>
<li>Test your educational assistant with at least 3 different scenarios:</li>
<li>A beginner with no prior knowledge</li>
<li>An intermediate learner who needs to fill knowledge gaps</li>
<li>An advanced student looking for challenging applications</li>
<li>Document how the agent adapts to different learning needs and which tools are most useful for educational purposes</li>
</ol>
<h2 id="extension-ideas_3">Extension Ideas<a class="headerlink" href="#extension-ideas_3" title="Permanent link">&para;</a></h2>
<ul>
<li>Create a spaced repetition system that uses the agent to generate review questions</li>
<li>Develop a project-based learning module where the agent guides students through a complex problem</li>
<li>Design a collaborative learning activity where multiple students interact with the agent together</li>
</ul>
<hr />
<h1 id="multi-tool-problem-solver">Multi-Tool Problem Solver<a class="headerlink" href="#multi-tool-problem-solver" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 60 minutes<br />
<strong>Learning Focus</strong>: Tool combinations, complex problem-solving<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_4">Overview<a class="headerlink" href="#overview_4" title="Permanent link">&para;</a></h2>
<p>Challenge the agent to solve complex problems that require using multiple tools together in creative ways.</p>
<h2 id="instructions_4">Instructions<a class="headerlink" href="#instructions_4" title="Permanent link">&para;</a></h2>
<ol>
<li>Launch the agent using <code>ailabkit agent interactive</code></li>
<li>Create 3 multi-step problems that each require at least 2 different tools. For example:</li>
<li>"If I drive 65 miles at 55 mph, then walk 3 kilometers, how many minutes will my journey take in total?"</li>
<li>"I need to mix a solution that's 35% acid. If I have 200ml of 50% acid solution, how much water should I add?"</li>
<li>"A recipe needs 2 cups of flour for 12 cookies. If I want to make 30 cookies but measure in grams, how much flour do I need?"</li>
<li>For each problem, ask the agent to explain its reasoning step by step</li>
<li>Identify which tools were used to solve each problem</li>
<li>Document any creative or unexpected approaches the agent took</li>
</ol>
<h2 id="extension-ideas_4">Extension Ideas<a class="headerlink" href="#extension-ideas_4" title="Permanent link">&para;</a></h2>
<ul>
<li>Create a scavenger hunt with clues that require different tools to solve</li>
<li>Design a multi-stage problem where each answer leads to the next question</li>
<li>Challenge the agent with a problem where the most obvious tool isn't the best approach</li>
</ul>
<hr />
<h1 id="personal-math-tutor">Personal Math Tutor<a class="headerlink" href="#personal-math-tutor" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 30 minutes<br />
<strong>Learning Focus</strong>: Basic agent interaction, calculator tools<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_5">Overview<a class="headerlink" href="#overview_5" title="Permanent link">&para;</a></h2>
<p>Create a math tutor agent that helps solve arithmetic problems and explains the steps involved.</p>
<h2 id="instructions_5">Instructions<a class="headerlink" href="#instructions_5" title="Permanent link">&para;</a></h2>
<ol>
<li>Start the agent in interactive mode using <code>ailabkit agent interactive</code></li>
<li>Ask the agent to solve basic math problems like "What is 24 × 7?" or "Calculate 125 ÷ 5"</li>
<li>For each problem, ask the agent to explain its reasoning step by step</li>
<li>Try more complex problems like "If I have 3 boxes with 12 items each, and I add 7 more items, how many do I have total?"</li>
<li>Observe how the agent uses the calculator tools to solve these problems</li>
<li>Create a list of 5 progressively harder math problems that demonstrate the agent's capabilities</li>
</ol>
<h2 id="extension-ideas_5">Extension Ideas<a class="headerlink" href="#extension-ideas_5" title="Permanent link">&para;</a></h2>
<ul>
<li>Ask the agent to solve algebraic equations like "If 2x + 7 = 15, what is x?"</li>
<li>Challenge the agent with word problems that require multiple calculation steps</li>
<li>Compare the agent's approach with how you would solve the same problems</li>
</ul>
<hr />
<h1 id="science-explorer">Science Explorer<a class="headerlink" href="#science-explorer" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45 minutes<br />
<strong>Learning Focus</strong>: Educational tools, multi-tool queries<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_6">Overview<a class="headerlink" href="#overview_6" title="Permanent link">&para;</a></h2>
<p>Use the agent as a science learning companion to explore elements, mathematical properties, and scientific concepts.</p>
<h2 id="instructions_6">Instructions<a class="headerlink" href="#instructions_6" title="Permanent link">&para;</a></h2>
<ol>
<li>Launch the agent using <code>ailabkit agent interactive</code></li>
<li>Explore the periodic table tool by asking about different elements:</li>
<li>"Tell me about oxygen"</li>
<li>"What's the atomic number of gold?"</li>
<li>"Compare the properties of sodium and potassium"</li>
<li>Use the prime check tool to investigate number properties:</li>
<li>"Is 97 a prime number?"</li>
<li>"What are the factors of 144?"</li>
<li>Combine tools by asking questions that require multiple lookups:</li>
<li>"What's the sum of the atomic numbers of iron and calcium?"</li>
<li>"If I have a sample with 12 atoms of carbon and 18 atoms of oxygen, what's the ratio?"</li>
<li>Create a mini science quiz with 5 questions that the agent can help answer</li>
</ol>
<h2 id="extension-ideas_6">Extension Ideas<a class="headerlink" href="#extension-ideas_6" title="Permanent link">&para;</a></h2>
<ul>
<li>Design a chemistry experiment and ask the agent to help with calculations</li>
<li>Create a periodic table scavenger hunt with clues about element properties</li>
<li>Compare how the agent answers science questions with and without using tools</li>
</ul>
<hr />
<h1 id="simple-calculator-agent">Simple Calculator Agent<a class="headerlink" href="#simple-calculator-agent" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner - A simple introduction to agent functionality
<strong>Learning Focus</strong>: Agents, Tool Use, ReAct Framework
<strong>Module</strong>: agent</p>
<p>This mini-project creates a simple calculator agent that can solve math problems using the ReAct framework. It demonstrates how to create and use tools with an agent.</p>
<h2 id="project-overview">Project Overview<a class="headerlink" href="#project-overview" title="Permanent link">&para;</a></h2>
<p>In this project, you'll create an agent that can:</p>
<ol>
<li>Parse mathematical expressions</li>
<li>Break down complex calculations into steps</li>
<li>Use a calculator tool to solve sub-problems</li>
<li>Show its reasoning process</li>
</ol>
<p>This is a great introduction to how agents work and how they can use tools to solve problems.</p>
<h2 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h2>
<p>Start by importing the necessary modules:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">run_agent</span><span class="p">,</span> <span class="n">register_tool</span>

<span class="c1"># Define a calculator function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calculator</span><span class="p">(</span><span class="n">expression</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate a mathematical expression.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Using a safe eval environment</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;__builtins__&quot;</span><span class="p">:</span> <span class="p">{}},</span> <span class="p">{</span>
            <span class="s2">&quot;abs&quot;</span><span class="p">:</span> <span class="nb">abs</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="nb">max</span><span class="p">,</span> <span class="s2">&quot;round&quot;</span><span class="p">:</span> <span class="nb">round</span><span class="p">,</span> 
            <span class="s2">&quot;sum&quot;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">,</span> <span class="s2">&quot;pow&quot;</span><span class="p">:</span> <span class="nb">pow</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;float&quot;</span><span class="p">:</span> <span class="nb">float</span>
        <span class="p">})</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Register the calculator tool</span>
<span class="n">register_tool</span><span class="p">(</span>
    <span class="s2">&quot;calculator&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;Evaluate a mathematical expression. Example: 2 + 2 * 10&quot;</span><span class="p">,</span> 
    <span class="n">calculator</span>
<span class="p">)</span>

<span class="c1"># Create a function to run the agent</span>
<span class="k">def</span><span class="w"> </span><span class="nf">solve_math_problem</span><span class="p">(</span><span class="n">question</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Solve a math problem using the agent.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Question: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Run the agent with the question</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">run_agent</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Final Answer:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response</span>

<span class="c1"># Example usage</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;What is 25 * 3?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;If I have 125 apples and give away 1/5 of them, how many do I have left?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is the square root of 144?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What is 15</span><span class="si">% o</span><span class="s2">f 240?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;If a triangle has sides of length 3, 4, and 5, what is its area?&quot;</span>
    <span class="p">]</span>

    <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">questions</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">)</span>
        <span class="n">solve_math_problem</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div>
<h2 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h2>
<ol>
<li>We define a <code>calculator</code> function that can safely evaluate mathematical expressions.</li>
<li>We register this tool with the agent system using <code>register_tool</code>.</li>
<li>We create a <code>solve_math_problem</code> function that runs the agent with a question.</li>
<li>The agent uses ReAct prompting to break down the problem and use the calculator tool.</li>
<li>The agent returns a final answer based on its reasoning and the tool results.</li>
</ol>
<h2 id="sample-output">Sample Output<a class="headerlink" href="#sample-output" title="Permanent link">&para;</a></h2>
<p>When you run this code, you'll see output like:</p>
<div class="highlight"><pre><span></span><code>==================================================
Question: What is 25 * 3?

Thought: I need to multiply 25 by 3. I can use the calculator tool for this.
Action: calculator
Action Input: 25 * 3
Observation: Result: 75

Final Answer: The result of 25 * 3 is 75.
==================================================
</code></pre></div>
<h2 id="extensions-and-variations">Extensions and Variations<a class="headerlink" href="#extensions-and-variations" title="Permanent link">&para;</a></h2>
<p>Here are some ways to extend this project:</p>
<ol>
<li>
<p><strong>Add more mathematical functions</strong>: Extend the calculator to handle more complex operations like logarithms, trigonometry, etc.</p>
</li>
<li>
<p><strong>Create a multi-step calculator</strong>: Modify the agent to show intermediate steps for complex calculations.</p>
</li>
<li>
<p><strong>Add unit conversion</strong>: Create a unit conversion tool and let the agent solve problems involving different units.</p>
</li>
<li>
<p><strong>Create a word problem solver</strong>: Enhance the agent to parse word problems and solve them step-by-step.</p>
</li>
<li>
<p><strong>Add visualization</strong>: Create a web interface that displays the agent's reasoning steps alongside the calculations.</p>
</li>
</ol>
<h2 id="educational-applications">Educational Applications<a class="headerlink" href="#educational-applications" title="Permanent link">&para;</a></h2>
<p>This project can be used to:</p>
<ul>
<li>Teach how agents break down problems into steps</li>
<li>Demonstrate the ReAct framework in practice</li>
<li>Show how tools can extend an AI system's capabilities</li>
<li>Help students understand mathematical problem-solving strategies</li>
</ul>
<h2 id="assessment-ideas">Assessment Ideas<a class="headerlink" href="#assessment-ideas" title="Permanent link">&para;</a></h2>
<ul>
<li>Have students modify the calculator tool to handle additional operations</li>
<li>Ask students to analyze the agent's reasoning for different types of problems</li>
<li>Challenge students to create a word problem generator that the agent can solve</li>
<li>Have students compare the agent's approach to their own problem-solving methods</li>
</ul>
<hr />
<h1 id="text-analyzer">Text Analyzer<a class="headerlink" href="#text-analyzer" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 50 minutes<br />
<strong>Learning Focus</strong>: Text analysis tools, data interpretation<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_7">Overview<a class="headerlink" href="#overview_7" title="Permanent link">&para;</a></h2>
<p>Build a text analysis tool that helps evaluate and improve writing by providing metrics and suggestions.</p>
<h2 id="instructions_7">Instructions<a class="headerlink" href="#instructions_7" title="Permanent link">&para;</a></h2>
<ol>
<li>Start the agent using <code>ailabkit agent interactive</code></li>
<li>Write a short paragraph (5-7 sentences) on a topic of your choice</li>
<li>Ask the agent to analyze your text using the word_count tool</li>
<li>Request a readability analysis of your paragraph</li>
<li>Ask the agent to summarize your text and compare it to your original</li>
<li>Based on the analysis, ask for specific suggestions to improve:</li>
<li>Sentence length variation</li>
<li>Vocabulary diversity</li>
<li>Overall readability</li>
<li>Revise your paragraph and run the analysis again to see the changes</li>
</ol>
<h2 id="extension-ideas_7">Extension Ideas<a class="headerlink" href="#extension-ideas_7" title="Permanent link">&para;</a></h2>
<ul>
<li>Analyze different types of writing (technical, creative, persuasive) and compare the metrics</li>
<li>Ask the agent to help you rewrite the same content for different audiences (children, experts, general public)</li>
<li>Create a writing improvement workflow that uses multiple text analysis tools in sequence</li>
</ul>
<hr />
<h1 id="unit-conversion-assistant">Unit Conversion Assistant<a class="headerlink" href="#unit-conversion-assistant" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 30 minutes<br />
<strong>Learning Focus</strong>: Conversion tools, formatting responses<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_8">Overview<a class="headerlink" href="#overview_8" title="Permanent link">&para;</a></h2>
<p>Build a helpful unit conversion assistant that can convert between different measurement systems.</p>
<h2 id="instructions_8">Instructions<a class="headerlink" href="#instructions_8" title="Permanent link">&para;</a></h2>
<ol>
<li>Launch the agent using <code>ailabkit agent interactive</code></li>
<li>Explore the different conversion tools by asking the agent about them</li>
<li>Test basic conversions like "Convert 5 miles to kilometers" or "How many kilograms is 150 pounds?"</li>
<li>Try more complex queries like "If my recipe needs 350g of flour but I only have a cup measure, how much should I use?"</li>
<li>Create a travel scenario where you need to convert temperatures, distances, and weights</li>
<li>Document how the agent selects the appropriate conversion tool for each query</li>
</ol>
<h2 id="extension-ideas_8">Extension Ideas<a class="headerlink" href="#extension-ideas_8" title="Permanent link">&para;</a></h2>
<ul>
<li>Ask for conversions between multiple units in a single question</li>
<li>Create a cooking recipe that uses mixed measurement systems and ask the agent to standardize it</li>
<li>Challenge the agent with historical units like leagues, stones, or furlongs</li>
</ul>
<hr />
<h1 id="word-detective">Word Detective<a class="headerlink" href="#word-detective" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 45 minutes<br />
<strong>Learning Focus</strong>: Dictionary tools, crafting effective queries<br />
<strong>Module</strong>: agent</p>
<h2 id="overview_9">Overview<a class="headerlink" href="#overview_9" title="Permanent link">&para;</a></h2>
<p>Use the agent's dictionary tools to explore word meanings, find synonyms and antonyms, and improve your vocabulary.</p>
<h2 id="instructions_9">Instructions<a class="headerlink" href="#instructions_9" title="Permanent link">&para;</a></h2>
<ol>
<li>Start the agent using <code>ailabkit agent interactive</code></li>
<li>Choose 5 interesting or unfamiliar words to explore</li>
<li>For each word, ask the agent to:</li>
<li>Define the word</li>
<li>Provide synonyms and antonyms</li>
<li>Show example sentences</li>
<li>Create a short story (3-4 sentences) using at least 3 of these words</li>
<li>Ask the agent to suggest improvements to your story by recommending more precise or interesting word choices</li>
<li>Document how the agent's suggestions changed your understanding of the words</li>
</ol>
<h2 id="extension-ideas_9">Extension Ideas<a class="headerlink" href="#extension-ideas_9" title="Permanent link">&para;</a></h2>
<ul>
<li>Challenge the agent to explain the subtle differences between similar words</li>
<li>Ask for words related to a specific theme or emotion</li>
<li>Create a word game where you and the agent take turns providing synonyms for a starting word</li>
</ul>
<hr />
<h1 id="advanced-journal-assistant">Advanced Journal Assistant<a class="headerlink" href="#advanced-journal-assistant" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate-Advanced<br />
<strong>Time</strong>: 60-90 minutes<br />
<strong>Learning Focus</strong>: Data structures, file I/O, data visualisation, natural language processing, user experience design<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_10">Overview<a class="headerlink" href="#overview_10" title="Permanent link">&para;</a></h2>
<p>Create a comprehensive journaling application that combines structured mood tracking with flexible reflection prompts, offering users deep insights through data visualisation and AI-powered analysis.</p>
<h2 id="instructions_10">Instructions<a class="headerlink" href="#instructions_10" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>

<span class="k">class</span><span class="w"> </span><span class="nc">AdvancedJournalAssistant</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the journal assistant with necessary directories and files&quot;&quot;&quot;</span>
        <span class="c1"># Set up storage directories</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.advanced_journal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;visualizations&quot;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Define file paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">journal_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;journal_entries.json&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prompt_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;custom_prompts.json&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize data structures</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_entries</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_custom_prompts</span><span class="p">()</span>

        <span class="c1"># Default prompts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_prompts</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;What&#39;s something that happened today that you&#39;d like to reflect on?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you learned today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you&#39;re grateful for today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something that challenged you today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you&#39;re looking forward to?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;How did you take care of yourself today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Was there a moment today that stood out? Why?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you&#39;d like to remember about today?&quot;</span>
        <span class="p">]</span>

        <span class="c1"># Define mood labels for better interpretation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mood_labels</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;Very Low&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;Low&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;Somewhat Low&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;Below Average&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;Neutral&quot;</span><span class="p">,</span> 
            <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;Slightly Positive&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s2">&quot;Good&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s2">&quot;Very Good&quot;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s2">&quot;Excellent&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s2">&quot;Outstanding&quot;</span>
        <span class="p">}</span>

        <span class="c1"># Track user preferences</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_preferences</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load_entries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load existing journal entries or return an empty list&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load_custom_prompts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load custom prompts or return an empty list&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prompt_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prompt_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_load_preferences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load user preferences or set defaults&quot;&quot;&quot;</span>
        <span class="n">pref_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;preferences.json&quot;</span><span class="p">)</span>
        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;auto_insights&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;daily_reminder&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;reminder_time&quot;</span><span class="p">:</span> <span class="s2">&quot;20:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;favorite_prompts&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;theme&quot;</span><span class="p">:</span> <span class="s2">&quot;standard&quot;</span><span class="p">,</span>
            <span class="s2">&quot;insight_frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;weekly&quot;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">pref_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pref_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">stored_prefs</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                    <span class="c1"># Update defaults with stored preferences</span>
                    <span class="n">defaults</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">stored_prefs</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">pass</span>

        <span class="k">return</span> <span class="n">defaults</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save_entries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save journal entries to file&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save_custom_prompts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save custom prompts to file&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prompt_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_save_preferences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save user preferences to file&quot;&quot;&quot;</span>
        <span class="n">pref_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;preferences.json&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pref_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">display_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display the main menu and handle user choices&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">======================================&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Advanced Journal Assistant ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;======================================&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Create new journal entry&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. View past entries&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Get insights and analytics&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Manage custom prompts&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Set goals and intentions&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Preferences&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;7. Export journal&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;8. Exit&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? (1-8): &quot;</span><span class="p">)</span>

            <span class="n">menu_actions</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_entry</span><span class="p">,</span>
                <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_entries</span><span class="p">,</span>
                <span class="s2">&quot;3&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_insights</span><span class="p">,</span>
                <span class="s2">&quot;4&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">manage_prompts</span><span class="p">,</span>
                <span class="s2">&quot;5&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">,</span>
                <span class="s2">&quot;6&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_preferences</span><span class="p">,</span>
                <span class="s2">&quot;7&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_journal</span><span class="p">,</span>
                <span class="s2">&quot;8&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_app</span>
            <span class="p">}</span>

            <span class="c1"># Execute the chosen action or show error</span>
            <span class="k">if</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">menu_actions</span><span class="p">:</span>
                <span class="n">menu_actions</span><span class="p">[</span><span class="n">choice</span><span class="p">]()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Please try again.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exit_app</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new journal entry with structured and free-form components&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== New Journal Entry ===&quot;</span><span class="p">)</span>

        <span class="c1"># Get date/time</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">time_str</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H:%M&quot;</span><span class="p">)</span>

        <span class="c1"># Check if we already have an entry for today</span>
        <span class="n">existing_entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="k">if</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date_str</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">existing_entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You already have </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">existing_entries</span><span class="p">)</span><span class="si">}</span><span class="s2"> entries for today.&quot;</span><span class="p">)</span>
            <span class="n">add_another</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Would you like to add another entry? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">add_another</span> <span class="o">!=</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
                <span class="k">return</span>

        <span class="c1"># Collect mood data</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mood</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How would you rate your mood right now (1-10)? &quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">mood</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please enter a number between 1 and 10.&quot;</span><span class="p">)</span>
                <span class="n">mood</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Default to neutral if invalid</span>
            <span class="n">mood_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mood_labels</span><span class="p">[</span><span class="n">mood</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mood: </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">/10 - </span><span class="si">{</span><span class="n">mood_label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Setting mood to neutral (5/10).&quot;</span><span class="p">)</span>
            <span class="n">mood</span> <span class="o">=</span> <span class="mi">5</span>
            <span class="n">mood_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mood_labels</span><span class="p">[</span><span class="n">mood</span><span class="p">]</span>

        <span class="c1"># Get energy level</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">energy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How is your energy level (1-10)? &quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">energy</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
                <span class="n">energy</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Default if invalid</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">energy</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="c1"># Get prompt for reflection</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose a prompt for reflection:&quot;</span><span class="p">)</span>
        <span class="n">all_prompts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_prompts</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span>

        <span class="c1"># Show prompts</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_prompts</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_prompts</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. Create a custom prompt&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">prompt_choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select a prompt (number): &quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">prompt_choice</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_prompts</span><span class="p">):</span>
                <span class="n">selected_prompt</span> <span class="o">=</span> <span class="n">all_prompts</span><span class="p">[</span><span class="n">prompt_choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">custom_prompt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your custom prompt: &quot;</span><span class="p">)</span>
                <span class="n">selected_prompt</span> <span class="o">=</span> <span class="n">custom_prompt</span>
                <span class="c1"># Ask if they want to save this prompt for future use</span>
                <span class="n">save_prompt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Would you like to save this prompt for future use? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">save_prompt</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">custom_prompt</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_save_custom_prompts</span><span class="p">()</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom prompt saved.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="c1"># Default to first prompt if invalid</span>
            <span class="n">selected_prompt</span> <span class="o">=</span> <span class="n">all_prompts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using default prompt: </span><span class="si">{</span><span class="n">selected_prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Display the selected prompt and get reflection</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&gt; </span><span class="si">{</span><span class="n">selected_prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">reflection</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Your reflection: &quot;</span><span class="p">)</span>

        <span class="c1"># Get activities</span>
        <span class="n">activities</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What activities did you do today? (comma-separated): &quot;</span><span class="p">)</span>
        <span class="n">activity_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">activities</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>

        <span class="c1"># Get any tags the user wants to associate with this entry</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Add any tags to help categorize this entry (comma-separated): &quot;</span><span class="p">)</span>
        <span class="n">tag_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tags</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>

        <span class="c1"># Create the entry object</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">date_str</span><span class="p">,</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time_str</span><span class="p">,</span>
            <span class="s2">&quot;mood&quot;</span><span class="p">:</span> <span class="n">mood</span><span class="p">,</span>
            <span class="s2">&quot;mood_label&quot;</span><span class="p">:</span> <span class="n">mood_label</span><span class="p">,</span>
            <span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="n">energy</span><span class="p">,</span>
            <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">selected_prompt</span><span class="p">,</span>
            <span class="s2">&quot;reflection&quot;</span><span class="p">:</span> <span class="n">reflection</span><span class="p">,</span>
            <span class="s2">&quot;activities&quot;</span><span class="p">:</span> <span class="n">activity_list</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="n">tag_list</span><span class="p">,</span>
            <span class="s2">&quot;ai_insights&quot;</span><span class="p">:</span> <span class="kc">None</span>  <span class="c1"># Will be filled in by AI</span>
        <span class="p">}</span>

        <span class="c1"># Get AI reflection if user wants it</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s2">&quot;auto_insights&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating insights for your entry...&quot;</span><span class="p">)</span>
            <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_entry_insight</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== AI Reflection ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">])</span>

        <span class="c1"># Add entry to the list and save</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save_entries</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Journal entry saved successfully!&quot;</span><span class="p">)</span>

        <span class="c1"># Return to menu</span>
        <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">view_entries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;View and search past journal entries&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No journal entries found.&quot;</span><span class="p">)</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== View Journal Entries ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. View recent entries&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Search by date&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Search by mood&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Search by tag&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Search by text&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Return to main menu&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? (1-6): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="c1"># Show recent entries</span>
            <span class="n">recent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]</span>  <span class="c1"># Last 10 entries</span>
            <span class="n">recent</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>  <span class="c1"># Most recent first</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_list</span><span class="p">(</span><span class="n">recent</span><span class="p">,</span> <span class="s2">&quot;Recent Entries&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="c1"># Search by date</span>
            <span class="n">date_query</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter date (YYYY-MM-DD) or month (YYYY-MM): &quot;</span><span class="p">)</span>
            <span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="k">if</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">date_query</span><span class="p">)]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_list</span><span class="p">(</span><span class="n">matching</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Entries for </span><span class="si">{</span><span class="n">date_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="c1"># Search by mood</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mood_min</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter minimum mood (1-10): &quot;</span><span class="p">))</span>
                <span class="n">mood_max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter maximum mood (1-10): &quot;</span><span class="p">))</span>
                <span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                           <span class="k">if</span> <span class="n">mood_min</span> <span class="o">&lt;=</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">mood_max</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_list</span><span class="p">(</span><span class="n">matching</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Entries with mood </span><span class="si">{</span><span class="n">mood_min</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">mood_max</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Please enter numbers for mood range.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="c1"># Search by tag</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter tag to search for: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                       <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">tag</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">])]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_list</span><span class="p">(</span><span class="n">matching</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Entries tagged with &#39;</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="c1"># Search by text</span>
            <span class="n">text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter text to search for: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                       <span class="k">if</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span> 
                       <span class="n">text</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;prompt&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span>
                       <span class="nb">any</span><span class="p">(</span><span class="n">text</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_list</span><span class="p">(</span><span class="n">matching</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Entries containing &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;6&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># After any search, go back to view menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_entries</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_display_entry_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entries</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display a list of entries and allow user to select one to view in detail&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No entries found for </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">date_str</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span>
            <span class="n">mood</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span>

            <span class="c1"># Get a preview of the reflection (first 40 chars)</span>
            <span class="n">preview</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">][:</span><span class="mi">40</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;...&quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">40</span> <span class="k">else</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">date_str</span><span class="si">}</span><span class="s2"> - Mood: </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">/10 - </span><span class="si">{</span><span class="n">preview</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. Back&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select an entry to view (number): &quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">choice</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_detail</span><span class="p">(</span><span class="n">entries</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Please enter a number.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_display_entry_detail</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display details of a single entry&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10 - </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood_label&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Energy: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Prompt:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Reflection:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Activities:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">activity</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Tags:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]))</span>

        <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Insights:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">])</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>

        <span class="c1"># Options after viewing an entry</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">1. Edit this entry&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Delete this entry&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Generate AI insights for this entry&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Back&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? (1-4): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_edit_entry</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_delete_entry</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating insights...&quot;</span><span class="p">)</span>
                <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_entry_insight</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_save_entries</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== AI Insights ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">])</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_detail</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_edit_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Edit an existing journal entry&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Edit Entry ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;What would you like to modify?&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Mood rating&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Energy rating&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Reflection text&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Activities&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Tags&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Cancel edit&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter your choice (1-6): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">new_mood</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new mood rating (1-10): &quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">new_mood</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
                    <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_mood</span>
                    <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;mood_label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mood_labels</span><span class="p">[</span><span class="n">new_mood</span><span class="p">]</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mood updated.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid mood rating. Must be between 1 and 10.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Mood not changed.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">new_energy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new energy rating (1-10): &quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">new_energy</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">:</span>
                    <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_energy</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Energy updated.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid energy rating. Must be between 1 and 10.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Energy not changed.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current reflection: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">new_text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new reflection (or press Enter to keep current): &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">new_text</span><span class="p">:</span>
                <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_text</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reflection updated.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">new_activities</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new activities (comma-separated): &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">new_activities</span><span class="p">:</span>
                <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">new_activities</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Activities updated.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">new_tags</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new tags (comma-separated): &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">new_tags</span><span class="p">:</span>
                <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">new_tags</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tags updated.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;6&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Edit canceled.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_detail</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_edit_entry</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># After any edit, regenerate insights if auto-insights is enabled</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s2">&quot;auto_insights&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Regenerating insights for updated entry...&quot;</span><span class="p">)</span>
            <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;ai_insights&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_entry_insight</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="c1"># Save changes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save_entries</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Entry updated successfully.&quot;</span><span class="p">)</span>

        <span class="c1"># Show the updated entry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_detail</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_delete_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a journal entry&quot;&quot;&quot;</span>
        <span class="n">confirm</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Are you sure you want to delete this entry? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">confirm</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_entries</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Entry deleted successfully.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deletion canceled.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_display_entry_detail</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_entry_insight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate AI insights for a journal entry&quot;&quot;&quot;</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        The user wrote a journal entry with the following details:</span>
<span class="s2">        - Date: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">        - Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10 (</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood_label&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)</span>
<span class="s2">        - Energy: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10</span>
<span class="s2">        - Prompt: &quot;</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;prompt&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="s2">        - Reflection: &quot;</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="s2">        - Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;None mentioned&#39;</span><span class="si">}</span>
<span class="s2">        - Tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;None&#39;</span><span class="si">}</span>

<span class="s2">        Please provide a thoughtful, empathetic reflection on this entry. Include:</span>
<span class="s2">        1. An observation about their mood and energy</span>
<span class="s2">        2. A meaningful insight about their reflection</span>
<span class="s2">        3. A gentle question to deepen their self-awareness</span>

<span class="s2">        Keep your response concise and supportive (150 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                          <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an empathetic journaling assistant who helps users gain deeper insights from their reflections.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_insights</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate analytics and AI insights from journal entries&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You need at least 3 journal entries to generate insights.&quot;</span><span class="p">)</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Journal Insights &amp; Analytics ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Mood trends visualization&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Activity impact analysis&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Word cloud and themes&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Weekly summary&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Monthly review&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Custom date range analysis&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;7. Return to main menu&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to see? (1-7): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visualize_mood_trends</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_analyze_activity_impact</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_generate_word_cloud</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_generate_weekly_summary</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_generate_monthly_review</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;6&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_custom_date_analysis</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;7&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># Return to insights menu</span>
        <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_insights</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_visualize_mood_trends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Visualize mood trends over time&quot;&quot;&quot;</span>
        <span class="c1"># Extract dates and moods</span>
        <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">]</span>
        <span class="n">moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">]</span>
        <span class="n">energy</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">]</span>

        <span class="c1"># Create the visualization</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">moods</span><span class="p">,</span> <span class="s1">&#39;b-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mood&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">energy</span><span class="p">,</span> <span class="s1">&#39;r-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Energy&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Neutral&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mood and Energy Trends&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Rating (1-10)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

        <span class="c1"># Format the x-axis to show dates nicely</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>

        <span class="c1"># Save the visualization</span>
        <span class="n">viz_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;mood_trends_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">viz_path</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Mood trend visualization saved to: </span><span class="si">{</span><span class="n">viz_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Insights about your mood trends:&quot;</span><span class="p">)</span>

        <span class="c1"># Calculate some basic statistics</span>
        <span class="n">avg_mood</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span>
        <span class="n">avg_energy</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">energy</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">energy</span><span class="p">)</span>
        <span class="n">mood_trend</span> <span class="o">=</span> <span class="s2">&quot;improving&quot;</span> <span class="k">if</span> <span class="n">moods</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">moods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;declining&quot;</span> <span class="k">if</span> <span class="n">moods</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">moods</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;stable&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- Your average mood is </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- Your average energy level is </span><span class="si">{</span><span class="n">avg_energy</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- Your overall mood trend appears to be </span><span class="si">{</span><span class="n">mood_trend</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI insights on mood trends</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>  <span class="c1"># Need enough data for meaningful trends</span>
            <span class="n">entries_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
                <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Mood: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, Energy: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]</span>  <span class="c1"># Last 10 entries</span>
            <span class="p">])</span>

            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Here are the user&#39;s recent journal entries with mood and energy ratings:</span>

<span class="s2">            </span><span class="si">{</span><span class="n">entries_text</span><span class="si">}</span>

<span class="s2">            Based on this data, provide:</span>
<span class="s2">            1. Any patterns you notice in their mood and energy levels</span>
<span class="s2">            2. Potential correlations between activities and mood</span>
<span class="s2">            3. A gentle suggestion based on these patterns</span>

<span class="s2">            Keep your response concise (150 words max).</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                                  <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an analytical journaling assistant who helps identify patterns in mood, energy, and behavior.&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Analysis:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_analyze_activity_impact</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Analyze how different activities impact mood&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough activity data found in your entries.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Create a dictionary to track activities and associated moods</span>
        <span class="n">activity_moods</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Collect data</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">:</span>
            <span class="n">mood</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">activity</span> <span class="ow">in</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">,</span> <span class="p">[]):</span>
                <span class="n">activity</span> <span class="o">=</span> <span class="n">activity</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">activity</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">activity</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">activity_moods</span><span class="p">:</span>
                        <span class="n">activity_moods</span><span class="p">[</span><span class="n">activity</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="n">activity_moods</span><span class="p">[</span><span class="n">activity</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mood</span><span class="p">)</span>

        <span class="c1"># Filter to activities with at least 2 data points</span>
        <span class="n">activity_moods</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">activity_moods</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">activity_moods</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough repeated activities found to analyze impact.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Calculate average mood for each activity</span>
        <span class="n">activity_avg_moods</span> <span class="o">=</span> <span class="p">{</span><span class="n">activity</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span> 
                             <span class="k">for</span> <span class="n">activity</span><span class="p">,</span> <span class="n">moods</span> <span class="ow">in</span> <span class="n">activity_moods</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

        <span class="c1"># Sort activities by average mood (highest first)</span>
        <span class="n">sorted_activities</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">activity_avg_moods</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> 
                                  <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Display results</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Activity Impact Analysis ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Activities sorted by average mood impact:&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">activity</span><span class="p">,</span> <span class="n">avg_mood</span> <span class="ow">in</span> <span class="n">sorted_activities</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">activity_moods</span><span class="p">[</span><span class="n">activity</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">activity</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10 (mentioned </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> times)&quot;</span><span class="p">)</span>

        <span class="c1"># Visualize top activities</span>
        <span class="n">top_activities</span> <span class="o">=</span> <span class="n">sorted_activities</span><span class="p">[:</span><span class="nb">min</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_activities</span><span class="p">))]</span>

        <span class="n">activities</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">top_activities</span><span class="p">]</span>
        <span class="n">avg_moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">top_activities</span><span class="p">]</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">bars</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">activities</span><span class="p">,</span> <span class="n">avg_moods</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>

        <span class="c1"># Add value labels on top of bars</span>
        <span class="k">for</span> <span class="n">bar</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="n">height</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">height</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Activities and Their Impact on Mood&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Activities&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Average Mood (1-10)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">)</span>  <span class="c1"># Set y-axis limit with some padding</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

        <span class="c1"># Rotate x-axis labels for better readability</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

        <span class="c1"># Save the visualization</span>
        <span class="n">viz_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;activity_impact_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">viz_path</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Activity impact visualization saved to: </span><span class="si">{</span><span class="n">viz_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI insights</span>
        <span class="n">activities_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="sa">f</span><span class="s2">&quot;Activity: </span><span class="si">{</span><span class="n">activity</span><span class="si">}</span><span class="s2">, Average Mood: </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10, Occurrences: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">activity_moods</span><span class="p">[</span><span class="n">activity</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">activity</span><span class="p">,</span> <span class="n">avg_mood</span> <span class="ow">in</span> <span class="n">sorted_activities</span>
        <span class="p">])</span>

        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Here&#39;s an analysis of how different activities affect the user&#39;s mood:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">activities_text</span><span class="si">}</span>

<span class="s2">        Based on this data, provide:</span>
<span class="s2">        1. Observations about which activities seem to have the most positive impact</span>
<span class="s2">        2. Suggestions for which activities they might want to prioritize</span>
<span class="s2">        3. A gentle question about their activity patterns</span>

<span class="s2">        Keep your response concise (150 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                              <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an analytical journaling assistant who helps identify patterns between activities and well-being.&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Analysis:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_word_cloud</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a word frequency analysis of journal entries&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No journal entries found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Combine all reflections</span>
        <span class="n">all_text</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;reflection&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">])</span>

        <span class="c1"># Remove common stop words (simplified)</span>
        <span class="n">stop_words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;the&quot;</span><span class="p">,</span> <span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;to&quot;</span><span class="p">,</span> <span class="s2">&quot;of&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;it&quot;</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="s2">&quot;that&quot;</span><span class="p">,</span> 
                     <span class="s2">&quot;was&quot;</span><span class="p">,</span> <span class="s2">&quot;for&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;you&quot;</span><span class="p">,</span> <span class="s2">&quot;he&quot;</span><span class="p">,</span> <span class="s2">&quot;be&quot;</span><span class="p">,</span> <span class="s2">&quot;with&quot;</span><span class="p">,</span> <span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="s2">&quot;by&quot;</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">,</span> 
                     <span class="s2">&quot;have&quot;</span><span class="p">,</span> <span class="s2">&quot;are&quot;</span><span class="p">,</span> <span class="s2">&quot;this&quot;</span><span class="p">,</span> <span class="s2">&quot;but&quot;</span><span class="p">,</span> <span class="s2">&quot;not&quot;</span><span class="p">,</span> <span class="s2">&quot;from&quot;</span><span class="p">,</span> <span class="s2">&quot;had&quot;</span><span class="p">,</span> <span class="s2">&quot;has&quot;</span><span class="p">,</span> <span class="s2">&quot;was&quot;</span><span class="p">,</span> 
                     <span class="s2">&quot;were&quot;</span><span class="p">,</span> <span class="s2">&quot;they&quot;</span><span class="p">,</span> <span class="s2">&quot;will&quot;</span><span class="p">,</span> <span class="s2">&quot;would&quot;</span><span class="p">,</span> <span class="s2">&quot;could&quot;</span><span class="p">,</span> <span class="s2">&quot;should&quot;</span><span class="p">,</span> <span class="s2">&quot;did&quot;</span><span class="p">,</span> <span class="s2">&quot;do&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;does&quot;</span><span class="p">,</span> <span class="s2">&quot;their&quot;</span><span class="p">,</span> <span class="s2">&quot;there&quot;</span><span class="p">,</span> <span class="s2">&quot;then&quot;</span><span class="p">,</span> <span class="s2">&quot;than&quot;</span><span class="p">,</span> <span class="s2">&quot;them&quot;</span><span class="p">,</span> <span class="s2">&quot;these&quot;</span><span class="p">,</span> <span class="s2">&quot;those&quot;</span><span class="p">]</span>

        <span class="c1"># Extract words, convert to lowercase, and remove punctuation</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[a-zA-Z]+\b&#39;</span><span class="p">,</span> <span class="n">all_text</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

        <span class="c1"># Filter out stop words</span>
        <span class="n">filtered_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>

        <span class="c1"># Count word frequencies</span>
        <span class="n">word_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">filtered_words</span><span class="p">)</span>

        <span class="c1"># Get the top 20 most frequent words</span>
        <span class="n">top_words</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

        <span class="c1"># Display results</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Word Frequency Analysis ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Most common words in your journal:&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">top_words</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> occurrences&quot;</span><span class="p">)</span>

        <span class="c1"># Visualize word frequencies</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">top_words</span><span class="p">]</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">top_words</span><span class="p">]</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">bars</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">words</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">counts</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">)</span>  <span class="c1"># Reverse to show highest at top</span>

        <span class="c1"># Add value labels</span>
        <span class="k">for</span> <span class="n">bar</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_y</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> 
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Most Common Words in Journal Entries&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

        <span class="c1"># Save the visualization</span>
        <span class="n">viz_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;word_frequency_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">viz_path</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Word frequency visualization saved to: </span><span class="si">{</span><span class="n">viz_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI insights on themes</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        These are the most common words in the user&#39;s journal entries:</span>

<span class="s2">        </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">)&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">word</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">top_words</span><span class="p">])</span><span class="si">}</span>

<span class="s2">        Based on these words, please:</span>
<span class="s2">        1. Identify potential themes or patterns in their journaling</span>
<span class="s2">        2. Suggest areas for deeper reflection</span>
<span class="s2">        3. Provide a gentle observation about what these themes might indicate</span>

<span class="s2">        Keep your response concise (150 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                              <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an insightful journaling assistant who helps identify themes and patterns in journal entries.&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Theme Analysis:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_weekly_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a weekly summary of journal entries&quot;&quot;&quot;</span>
        <span class="c1"># Get entries from the past 7 days</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
        <span class="n">week_ago</span> <span class="o">=</span> <span class="n">today</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

        <span class="n">weekly_entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                         <span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">week_ago</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">weekly_entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough entries in the past week for a meaningful summary.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Compile weekly data</span>
        <span class="n">weekly_moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">weekly_entries</span><span class="p">]</span>
        <span class="n">avg_mood</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">weekly_moods</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">weekly_moods</span><span class="p">)</span>

        <span class="n">weekly_energy</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">weekly_entries</span><span class="p">]</span>
        <span class="n">avg_energy</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">weekly_energy</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">weekly_energy</span><span class="p">)</span>

        <span class="c1"># Get all activities</span>
        <span class="n">all_activities</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">weekly_entries</span><span class="p">:</span>
            <span class="n">all_activities</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">,</span> <span class="p">[]))</span>

        <span class="c1"># Count activity frequencies</span>
        <span class="n">activity_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_activities</span><span class="p">)</span>
        <span class="n">most_common</span> <span class="o">=</span> <span class="n">activity_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># Display weekly summary</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Weekly Summary ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Period: </span><span class="si">{</span><span class="n">week_ago</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of entries: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">weekly_entries</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average mood: </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average energy: </span><span class="si">{</span><span class="n">avg_energy</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">most_common</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Most common activities:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">activity</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">most_common</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">activity</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> times&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI summary</span>
        <span class="n">entries_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Mood: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10</span><span class="se">\n</span><span class="s2">Energy: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="se">\n</span><span class="s2">Reflection: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">weekly_entries</span>
        <span class="p">])</span>

        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Here&#39;s a summary of the user&#39;s journal entries for the past week:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">entries_text</span><span class="si">}</span>

<span class="s2">        Please provide a weekly reflection that includes:</span>
<span class="s2">        1. Notable patterns or trends in their mood and energy</span>
<span class="s2">        2. Observations about activities and their potential impact</span>
<span class="s2">        3. A gentle suggestion for the coming week</span>
<span class="s2">        4. A thoughtful reflection question</span>

<span class="s2">        Keep your response concise and supportive (200 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                              <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an empathetic journaling assistant who helps provide weekly summaries and insights.&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Weekly Reflection:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_monthly_review</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a monthly review of journal entries&quot;&quot;&quot;</span>
        <span class="c1"># Get entries from the current month</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">first_day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># For previous month, use:</span>
        <span class="c1"># prev_month = first_day - datetime.timedelta(days=1)</span>
        <span class="c1"># first_day = datetime.datetime(prev_month.year, prev_month.month, 1)</span>

        <span class="n">monthly_entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                          <span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">first_day</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">monthly_entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough entries this month for a meaningful review.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Compile monthly data</span>
        <span class="n">monthly_moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">monthly_entries</span><span class="p">]</span>
        <span class="n">avg_mood</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">monthly_moods</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">monthly_moods</span><span class="p">)</span>
        <span class="n">high_mood</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">monthly_moods</span><span class="p">)</span>
        <span class="n">low_mood</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">monthly_moods</span><span class="p">)</span>

        <span class="n">high_entry</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">monthly_entries</span> <span class="k">if</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">high_mood</span><span class="p">)</span>
        <span class="n">low_entry</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">monthly_entries</span> <span class="k">if</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">low_mood</span><span class="p">)</span>

        <span class="c1"># Get all activities and tags</span>
        <span class="n">all_activities</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">all_tags</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">monthly_entries</span><span class="p">:</span>
            <span class="n">all_activities</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;activities&quot;</span><span class="p">,</span> <span class="p">[]))</span>
            <span class="n">all_tags</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">,</span> <span class="p">[]))</span>

        <span class="c1"># Count frequencies</span>
        <span class="n">activity_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_activities</span><span class="p">)</span>
        <span class="n">tag_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_tags</span><span class="p">)</span>

        <span class="c1"># Display monthly review</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Monthly Review ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Month: </span><span class="si">{</span><span class="n">first_day</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B %Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of entries: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">monthly_entries</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average mood: </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Highest mood: </span><span class="si">{</span><span class="n">high_mood</span><span class="si">}</span><span class="s2">/10 on </span><span class="si">{</span><span class="n">high_entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Lowest mood: </span><span class="si">{</span><span class="n">low_mood</span><span class="si">}</span><span class="s2">/10 on </span><span class="si">{</span><span class="n">low_entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">activity_counts</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top activities this month:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">activity</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">activity_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">activity</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> times&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tag_counts</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top themes/tags this month:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">tag</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">tag_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> times&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI review</span>
        <span class="n">entries_summary</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Mood: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, Energy: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="s2">, Tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">monthly_entries</span>
        <span class="p">])</span>

        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Here&#39;s a summary of the user&#39;s journal entries for </span><span class="si">{</span><span class="n">first_day</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B %Y&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">entries_summary</span><span class="si">}</span>

<span class="s2">        Please provide a monthly review that includes:</span>
<span class="s2">        1. Overall patterns in mood and energy</span>
<span class="s2">        2. Key achievements or challenges that stood out</span>
<span class="s2">        3. Activities that seemed most beneficial</span>
<span class="s2">        4. Gentle suggestions for next month</span>
<span class="s2">        5. A thoughtful reflection question</span>

<span class="s2">        Keep your response supportive and actionable (250 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                              <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an insightful journaling assistant who helps provide monthly reviews and insights.&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Monthly Review:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_custom_date_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate insights for a custom date range&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Custom Date Range Analysis ===&quot;</span><span class="p">)</span>

        <span class="c1"># Get start date</span>
        <span class="n">start_date_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter start date (YYYY-MM-DD): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">start_date_str</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid date format. Using 30 days ago as default.&quot;</span><span class="p">)</span>
            <span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

        <span class="c1"># Get end date</span>
        <span class="n">end_date_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter end date (YYYY-MM-DD) or press Enter for today: &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">end_date_str</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">end_date_str</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid date format. Using today as default.&quot;</span><span class="p">)</span>
                <span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

        <span class="c1"># Validate date range</span>
        <span class="k">if</span> <span class="n">start_date</span> <span class="o">&gt;</span> <span class="n">end_date</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start date must be before end date. Swapping dates.&quot;</span><span class="p">)</span>
            <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">start_date</span>

        <span class="c1"># Filter entries by date range</span>
        <span class="n">filtered_entries</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> 
                           <span class="k">if</span> <span class="n">start_date</span> <span class="o">&lt;=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough entries between </span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s2"> for analysis.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Display basic stats</span>
        <span class="n">moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">filtered_entries</span><span class="p">]</span>
        <span class="n">avg_mood</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">moods</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Period: </span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of entries: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filtered_entries</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average mood: </span><span class="si">{</span><span class="n">avg_mood</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>

        <span class="c1"># Create mood trend visualization</span>
        <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">filtered_entries</span><span class="p">]</span>
        <span class="n">moods</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;mood&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">filtered_entries</span><span class="p">]</span>
        <span class="n">energy</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">filtered_entries</span><span class="p">]</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">moods</span><span class="p">,</span> <span class="s1">&#39;b-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mood&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">energy</span><span class="p">,</span> <span class="s1">&#39;r-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Energy&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Neutral&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Mood and Energy Trends (</span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s1"> to </span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Rating (1-10)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

        <span class="c1"># Format the x-axis to show dates nicely</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

        <span class="c1"># Save the visualization</span>
        <span class="n">viz_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">visualization_dir</span><span class="p">,</span> 
                              <span class="sa">f</span><span class="s2">&quot;custom_trend_</span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">viz_path</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Custom trend visualization saved to: </span><span class="si">{</span><span class="n">viz_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Generate AI insights</span>
        <span class="n">entries_summary</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Mood: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, Energy: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="s2">, Reflection: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">filtered_entries</span>
        <span class="p">])</span>

        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Here&#39;s a summary of the user&#39;s journal entries from </span><span class="si">{</span><span class="n">start_date</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">end_date</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">entries_summary</span><span class="si">}</span>

<span class="s2">        Please provide a custom period analysis that includes:</span>
<span class="s2">        1. Notable trends or patterns in mood and energy</span>
<span class="s2">        2. Key themes or recurring topics</span>
<span class="s2">        3. Activities that appeared to influence mood</span>
<span class="s2">        4. A thoughtful observation about this period</span>

<span class="s2">        Keep your response insightful and supportive (200 words max).</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                              <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an analytical journaling assistant who helps identify patterns across custom time periods.&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AI Period Analysis:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">manage_prompts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Manage custom prompts&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Manage Custom Prompts ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. View all prompts&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Add new prompt&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Delete prompt&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Return to main menu&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? (1-4): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="c1"># View all prompts</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Available Prompts ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Default prompts:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_prompts</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Custom prompts:&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No custom prompts yet.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="c1"># Add new prompt</span>
            <span class="n">new_prompt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter a new journal prompt: &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">new_prompt</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_prompt</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_save_custom_prompts</span><span class="p">()</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Custom prompt added successfully!&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="c1"># Delete prompt</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No custom prompts to delete.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">manage_prompts</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Custom prompts:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter the number of the prompt to delete: &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="p">):</span>
                    <span class="n">deleted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_prompts</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_save_custom_prompts</span><span class="p">()</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Deleted prompt: </span><span class="si">{</span><span class="n">deleted</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid prompt number.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Please enter a number.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># Return to prompt management menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">manage_prompts</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_goals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set goals and intentions&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Goals and Intentions ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. View current goals&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Add new goal&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Update goal progress&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Delete goal&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Generate goal suggestions&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Return to main menu&quot;</span><span class="p">)</span>

        <span class="c1"># Load goals from file</span>
        <span class="n">goals_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;goals.json&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">goals_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">goals_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">goals</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="n">goals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">goals</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? (1-6): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="c1"># View current goals</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">goals</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No goals found.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Current Goals ===&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">goal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;progress&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">% complete&quot;</span> <span class="k">if</span> <span class="s1">&#39;progress&#39;</span> <span class="ow">in</span> <span class="n">goal</span> <span class="k">else</span> <span class="s2">&quot;Not started&quot;</span>
                    <span class="n">target_date</span> <span class="o">=</span> <span class="n">goal</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;target_date&#39;</span><span class="p">,</span> <span class="s1">&#39;No target date&#39;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> - Target: </span><span class="si">{</span><span class="n">target_date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="s1">&#39;milestones&#39;</span> <span class="ow">in</span> <span class="n">goal</span> <span class="ow">and</span> <span class="n">goal</span><span class="p">[</span><span class="s1">&#39;milestones&#39;</span><span class="p">]:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   Milestones:&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">goal</span><span class="p">[</span><span class="s1">&#39;milestones&#39;</span><span class="p">]:</span>
                            <span class="n">check</span> <span class="o">=</span> <span class="s2">&quot;✓&quot;</span> <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;○&quot;</span>
                            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   </span><span class="si">{</span><span class="n">check</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">m</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="c1"># Add new goal</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Add New Goal ===&quot;</span><span class="p">)</span>
            <span class="n">description</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Goal description: &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">description</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Goal description cannot be empty.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="n">target_date</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Target date (YYYY-MM-DD) or leave blank: &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">target_date</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Validate date format</span>
                    <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">target_date</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid date format. Using no target date.&quot;</span><span class="p">)</span>
                    <span class="n">target_date</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="c1"># Create goal object</span>
            <span class="n">goal</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
                <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span>
                <span class="s2">&quot;progress&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">target_date</span><span class="p">:</span>
                <span class="n">goal</span><span class="p">[</span><span class="s2">&quot;target_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_date</span>

            <span class="c1"># Ask for milestones</span>
            <span class="n">add_milestones</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Would you like to add milestones? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">add_milestones</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="n">milestones</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                    <span class="n">milestone</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter milestone (or leave blank to finish): &quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">milestone</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="n">milestones</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">milestone</span><span class="p">,</span> <span class="s2">&quot;completed&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>

                <span class="k">if</span> <span class="n">milestones</span><span class="p">:</span>
                    <span class="n">goal</span><span class="p">[</span><span class="s2">&quot;milestones&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">milestones</span>

            <span class="c1"># Add goal to list and save</span>
            <span class="n">goals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">goal</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">goals_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Goal added successfully!&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="c1"># Update goal progress</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">goals</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No goals found.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Update Goal Progress ===&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">goal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">status</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;progress&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">% complete&quot;</span> <span class="k">if</span> <span class="s1">&#39;progress&#39;</span> <span class="ow">in</span> <span class="n">goal</span> <span class="k">else</span> <span class="s2">&quot;Not started&quot;</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter the number of the goal to update: &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">goals</span><span class="p">):</span>
                    <span class="n">goal</span> <span class="o">=</span> <span class="n">goals</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Updating goal: </span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="c1"># Update progress</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">new_progress</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter new progress (0-100) [current: </span><span class="si">{</span><span class="n">goal</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;progress&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="si">}</span><span class="s2">%]: &quot;</span><span class="p">))</span>
                        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">new_progress</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">:</span>
                            <span class="n">goal</span><span class="p">[</span><span class="s1">&#39;progress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_progress</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Progress must be between 0 and 100.&quot;</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Progress not updated.&quot;</span><span class="p">)</span>

                    <span class="c1"># Update milestones if they exist</span>
                    <span class="k">if</span> <span class="s1">&#39;milestones&#39;</span> <span class="ow">in</span> <span class="n">goal</span> <span class="ow">and</span> <span class="n">goal</span><span class="p">[</span><span class="s1">&#39;milestones&#39;</span><span class="p">]:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Update milestones:&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">milestone</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;milestones&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">):</span>
                            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Completed&quot;</span> <span class="k">if</span> <span class="n">milestone</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;Not completed&quot;</span>
                            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">milestone</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                            <span class="n">update</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mark as </span><span class="si">{</span><span class="s1">&#39;not &#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">milestone</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">False</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">completed? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                            <span class="k">if</span> <span class="n">update</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                                <span class="n">milestone</span><span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">milestone</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

                    <span class="c1"># Save updated goals</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">goals_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Goal updated successfully!&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid goal number.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Please enter a number.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="c1"># Delete goal</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">goals</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No goals found.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Delete Goal ===&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">goal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter the number of the goal to delete: &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">goals</span><span class="p">):</span>
                    <span class="n">goal</span> <span class="o">=</span> <span class="n">goals</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>

                    <span class="c1"># Save updated goals</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">goals_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Goal &#39;</span><span class="si">{</span><span class="n">goal</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; deleted successfully!&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid goal number.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Please enter a number.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="c1"># Generate goal suggestions</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Not enough journal entries to generate meaningful goal suggestions.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">()</span>
                <span class="k">return</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating goal suggestions based on your journal entries...&quot;</span><span class="p">)</span>

            <span class="c1"># Get recent entries</span>
            <span class="n">recent_entries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">15</span><span class="p">:]</span>  <span class="c1"># Last 15 entries</span>
            <span class="n">entries_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
                <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Mood: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10</span><span class="se">\n</span><span class="s2">Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="se">\n</span><span class="s2">Reflection: </span><span class="si">{</span><span class="n">e</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">recent_entries</span>
            <span class="p">])</span>

            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Here are some recent journal entries from the user:</span>

<span class="s2">            </span><span class="si">{</span><span class="n">entries_text</span><span class="si">}</span>

<span class="s2">            Based on these entries, suggest 3-5 meaningful goals or intentions that might help the user&#39;s wellbeing or personal growth. For each goal:</span>
<span class="s2">            1. Provide a clear, actionable description</span>
<span class="s2">            2. Explain briefly why this goal might be beneficial (based on patterns in their journal)</span>
<span class="s2">            3. Suggest 2-3 possible milestones for the goal</span>

<span class="s2">            Make the goals specific, measurable, and aligned with what seems to matter to the user.</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">suggestions</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> 
                                     <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive goal-setting assistant who helps users identify meaningful goals based on their journal patterns.&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Goal Suggestions ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">suggestions</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;6&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># Return to goals menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_goals</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_preferences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set user preferences&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Preferences ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;1. Auto-generate insights: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;auto_insights&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;2. Daily reminder: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;daily_reminder&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;3. Reminder time: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;reminder_time&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;4. Theme: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;5. Insight frequency: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;insight_frequency&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Return to main menu&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to change? (1-6): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="c1"># Toggle auto-insights</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;auto_insights&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;auto_insights&#39;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Auto-generate insights: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;auto_insights&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="c1"># Toggle daily reminder</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;daily_reminder&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;daily_reminder&#39;</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Daily reminder: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;daily_reminder&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="c1"># Set reminder time</span>
            <span class="n">time_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter reminder time (HH:MM): &quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Validate time format</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">time_str</span><span class="p">,</span> <span class="s2">&quot;%H:%M&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;reminder_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time_str</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reminder time set to: </span><span class="si">{</span><span class="n">time_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid time format. Using previous setting.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="c1"># Set theme</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available themes:&quot;</span><span class="p">)</span>
            <span class="n">themes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="s2">&quot;dark&quot;</span><span class="p">,</span> <span class="s2">&quot;light&quot;</span><span class="p">,</span> <span class="s2">&quot;colorful&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">theme</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">themes</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">theme</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select theme number: &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">themes</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">themes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Theme set to: </span><span class="si">{</span><span class="n">themes</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid theme number.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Theme not changed.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="c1"># Set insight frequency</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Insight frequency options:&quot;</span><span class="p">)</span>
            <span class="n">frequencies</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;daily&quot;</span><span class="p">,</span> <span class="s2">&quot;weekly&quot;</span><span class="p">,</span> <span class="s2">&quot;monthly&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">frequencies</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">freq</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select frequency number: &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">frequencies</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="s1">&#39;insight_frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frequencies</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Insight frequency set to: </span><span class="si">{</span><span class="n">frequencies</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid frequency number.&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Frequency not changed.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;6&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_preferences</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># Save preferences after any change</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save_preferences</span><span class="p">()</span>

        <span class="c1"># Return to preferences menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_preferences</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_journal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Export journal to different formats&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No journal entries to export.&quot;</span><span class="p">)</span>
            <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Export Journal ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Export as text file&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Export as CSV&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Export as PDF (plain)&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Export with visualizations&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Return to main menu&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose export format (1-5): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="c1"># Export as text</span>
            <span class="n">export_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;journal_export_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.txt&quot;</span><span class="p">)</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">export_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;===== JOURNAL EXPORT =====</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]):</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;00:00&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10 - </span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mood_label&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Energy: </span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;N/A&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/10</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prompt: </span><span class="si">{</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;prompt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No prompt&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reflection:</span><span class="se">\n</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">):</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">):</span>
                        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">])</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">50</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Journal exported to: </span><span class="si">{</span><span class="n">export_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="c1"># Export as CSV</span>
            <span class="n">export_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">journal_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;journal_export_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.csv&quot;</span><span class="p">)</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">export_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="c1"># Write header</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;date,time,mood,energy,prompt,reflection,activities,tags</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># Write entries</span>
                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entries</span><span class="p">:</span>
                    <span class="n">date</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">mood</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span>
                    <span class="n">energy</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                    <span class="n">prompt</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;prompt&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;&quot;&#39;</span><span class="p">)</span>
                    <span class="n">reflection</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s1">&#39;reflection&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
                    <span class="n">activities</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;activities&#39;</span><span class="p">,</span> <span class="p">[]))</span>
                    <span class="n">tags</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="p">[]))</span>

                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s1">&quot;,&quot;</span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s1">&quot;,</span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">energy</span><span class="si">}</span><span class="s1">,&quot;</span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s1">&quot;,&quot;</span><span class="si">{</span><span class="n">reflection</span><span class="si">}</span><span class="s1">&quot;,&quot;</span><span class="si">{</span><span class="n">activities</span><span class="si">}</span><span class="s1">&quot;,&quot;</span><span class="si">{</span><span class="n">tags</span><span class="si">}</span><span class="s1">&quot;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Journal exported to: </span><span class="si">{</span><span class="n">export_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span> <span class="ow">or</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="c1"># Export as PDF (would require additional libraries like reportlab)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">PDF export would require additional libraries not included in this example.&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In a full implementation, this would generate a formatted PDF document.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

        <span class="c1"># Return to export menu</span>
        <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Press Enter to continue...&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_journal</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">exit_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Exit the application&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Thank you for using Advanced Journal Assistant. Goodbye!&quot;</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main function to run the application&quot;&quot;&quot;</span>
    <span class="n">journal</span> <span class="o">=</span> <span class="n">AdvancedJournalAssistant</span><span class="p">()</span>
    <span class="n">journal</span><span class="o">.</span><span class="n">display_menu</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_10">Extension Ideas<a class="headerlink" href="#extension-ideas_10" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Data Visualisation Enhancements</strong>: Add interactive visualisations using libraries like Plotly or Bokeh</li>
<li><strong>Natural Language Processing</strong>: Implement sentiment analysis to automatically detect the emotional tone of entries</li>
<li><strong>Machine Learning Integration</strong>: Build a recommendation system that suggests activities based on past mood correlations</li>
<li><strong>Multiple Journaling Modes</strong>: Add specialised templates for gratitude journaling, goal tracking, habit formation, etc.</li>
<li><strong>Social Features</strong>: Add optional sharing of insights (anonymised) with trusted friends or mentors</li>
<li><strong>Integrations</strong>: Connect with other applications like calendar, fitness trackers, or meditation apps</li>
<li><strong>Mobile Compatibility</strong>: Create a companion mobile app for on-the-go journaling</li>
<li><strong>Voice Journaling</strong>: Add speech-to-text functionality for verbal journaling</li>
<li><strong>Export Options</strong>: Enhanced export formats including PDF with embedded visualisations, interactive web formats</li>
<li><strong>Cloud Sync</strong>: Add secure cloud synchronisation for access across multiple devices</li>
<li><strong>Guided Journaling Sessions</strong>: AI-guided journaling sessions focused on specific topics or goals</li>
</ul>
<hr />
<hr />
<h1 id="bot-personality-menu-generator">Bot Personality Menu Generator<a class="headerlink" href="#bot-personality-menu-generator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Dictionaries, functions, menu systems<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_11">Overview<a class="headerlink" href="#overview_11" title="Permanent link">&para;</a></h2>
<p>Create a flexible menu system that allows users to interact with multiple bot personalities on demand, practicing dictionary management, function mappings, and user interface design.</p>
<h2 id="instructions_11">Instructions<a class="headerlink" href="#instructions_11" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">personality_menu</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Bot Personality Menu Generator ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Interact with various bot personalities!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type &#39;exit&#39; at any time to quit.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Define different bot personalities</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">friendly_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a friendly, helpful assistant who is always positive and encouraging. You use warm language and provide supportive responses.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">emoji_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an emoji enthusiast who includes multiple relevant emojis in every response. Your tone is upbeat and playful. Make sure to use at least 3-5 emojis in each message.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pirate_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a salty pirate captain from the Golden Age of Piracy. You speak with pirate slang (arr, matey, avast, etc.) and make frequent references to sailing, treasure, and the sea. Your responses are brief and colorful.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">teacher_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a patient, knowledgeable teacher who explains concepts clearly. You break down complex ideas into simple terms and use examples to illustrate points. Your tone is educational but never condescending.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">detective_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a sharp-witted detective with keen analytical skills. You approach every question like a mystery to solve, looking for clues and making deductions. Your tone is contemplative and slightly dramatic, similar to classic detective novels.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">poet_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a lyrical poet who often speaks in verse or uses metaphorical language. Your responses are thoughtful and artistic, with attention to the rhythm and beauty of language. Occasionally include short poems in your responses.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Store bot functions in a dictionary for easy access</span>
    <span class="n">bots</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Friendly Assistant&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">friendly_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Warm and supportive&quot;</span><span class="p">},</span>
        <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Emoji Enthusiast&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">emoji_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Playful with lots of emojis&quot;</span><span class="p">},</span>
        <span class="s2">&quot;3&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Pirate Captain&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">pirate_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Salty sea dog with nautical flair&quot;</span><span class="p">},</span>
        <span class="s2">&quot;4&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wise Teacher&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">teacher_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient and educational&quot;</span><span class="p">},</span>
        <span class="s2">&quot;5&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Detective&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">detective_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Analytical problem-solver&quot;</span><span class="p">},</span>
        <span class="s2">&quot;6&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Poet&quot;</span><span class="p">,</span> <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="n">poet_bot</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Lyrical and metaphorical&quot;</span><span class="p">}</span>
    <span class="p">}</span>

    <span class="c1"># Function to display the menu</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_menu</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Available Bot Personalities ===&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">bot_info</span> <span class="ow">in</span> <span class="n">bots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">bot_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">bot_info</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;7. Exit&quot;</span><span class="p">)</span>

    <span class="c1"># Main interaction loop</span>
    <span class="n">current_bot</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">current_bot_name</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">current_bot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">show_menu</span><span class="p">()</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select a bot personality (1-7): &quot;</span><span class="p">)</span>

            <span class="c1"># Exit condition</span>
            <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;7&quot;</span> <span class="ow">or</span> <span class="n">choice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thanks for using the Bot Personality Menu! Goodbye!&quot;</span><span class="p">)</span>
                <span class="k">break</span>

            <span class="k">if</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">bots</span><span class="p">:</span>
                <span class="n">current_bot</span> <span class="o">=</span> <span class="n">bots</span><span class="p">[</span><span class="n">choice</span><span class="p">][</span><span class="s2">&quot;function&quot;</span><span class="p">]</span>
                <span class="n">current_bot_name</span> <span class="o">=</span> <span class="n">bots</span><span class="p">[</span><span class="n">choice</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You&#39;re now chatting with the </span><span class="si">{</span><span class="n">current_bot_name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>

                <span class="c1"># Welcome message from the selected bot</span>
                <span class="n">welcome</span> <span class="o">=</span> <span class="n">current_bot</span><span class="p">(</span><span class="s2">&quot;Give a brief introduction of yourself.&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">current_bot_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">welcome</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Please select a number from 1-7.&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

        <span class="c1"># Interaction with the current bot</span>
        <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You: &quot;</span><span class="p">)</span>

        <span class="c1"># Check for exit or menu commands</span>
        <span class="k">if</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thanks for using the Bot Personality Menu! Goodbye!&quot;</span><span class="p">)</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;menu&quot;</span><span class="p">:</span>
            <span class="n">current_bot</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">continue</span>

        <span class="c1"># Get response from the current bot</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">current_bot</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">current_bot_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Option to change bots</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Type &#39;menu&#39; to switch bots or &#39;exit&#39; to quit&quot;</span><span class="p">)</span>

<span class="c1"># Run the personality menu</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">personality_menu</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_11">Extension Ideas<a class="headerlink" href="#extension-ideas_11" title="Permanent link">&para;</a></h2>
<ul>
<li>Allow users to create and save their own custom bot personalities</li>
<li>Add a "random" option that selects a personality at random</li>
<li>Create a rating system where users can score responses</li>
<li>Implement a "conversation history" feature that remembers past interactions</li>
<li>Create themed conversation scenarios for different bot personalities</li>
</ul>
<hr />
<h1 id="build-your-own-personality-bot">Build Your Own Personality Bot<a class="headerlink" href="#build-your-own-personality-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Functions, system prompts, creative writing<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_12">Overview<a class="headerlink" href="#overview_12" title="Permanent link">&para;</a></h2>
<p>Create a new bot personality that responds in a unique way — like a movie character, animal, celebrity, or completely invented creature. Students will learn how to craft system prompts that reflect specific voices or styles.</p>
<h2 id="instructions_12">Instructions<a class="headerlink" href="#instructions_12" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="c1"># Example bot personality</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cat_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">prompt</span><span class="p">,</span> 
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a lazy cat who answers everything with sass, yawns, or meows.&quot;</span>
    <span class="p">)</span>

<span class="c1"># Create your own unique bot personality</span>
<span class="k">def</span><span class="w"> </span><span class="nf">custom_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">prompt</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a [personality type] who [describes behavior/speaking style].&quot;</span>
    <span class="p">)</span>

<span class="c1"># Test your bot with different prompts</span>
<span class="n">test_prompts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;What&#39;s the weather like today?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Explain quantum physics to me.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;What should I do this weekend?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tell me a joke.&quot;</span>
<span class="p">]</span>

<span class="c1"># Choose which bot to use</span>
<span class="n">my_bot</span> <span class="o">=</span> <span class="n">cat_bot</span>  <span class="c1"># Replace with your custom bot</span>

<span class="c1"># Test with each prompt</span>
<span class="k">for</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="n">test_prompts</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bot: </span><span class="si">{</span><span class="n">my_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>

<span class="c1"># You can also create a short conversation script</span>
<span class="n">conversation</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Hello there!&quot;</span><span class="p">,</span>
    <span class="s2">&quot;What&#39;s your favorite food?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tell me something interesting about yourself.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Goodbye!&quot;</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Conversation with Bot ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="n">conversation</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bot: </span><span class="si">{</span><span class="n">my_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_12">Extension Ideas<a class="headerlink" href="#extension-ideas_12" title="Permanent link">&para;</a></h2>
<ul>
<li>Create multiple personalities and compare how they respond to the same questions</li>
<li>Hold a "bot showcase" where students introduce their bots to the class</li>
<li>Design a bot personality based on a character from literature the class is studying</li>
<li>Create a bot with a specific expertise or profession (scientist, chef, historian)</li>
</ul>
<hr />
<hr />
<h1 id="choose-your-own-adventure">Choose Your Own Adventure<a class="headerlink" href="#choose-your-own-adventure" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 60-90 minutes<br />
<strong>Learning Focus</strong>: State management, narrative design, user input handling<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_13">Overview<a class="headerlink" href="#overview_13" title="Permanent link">&para;</a></h2>
<p>Create an interactive story where the bot generates narrative segments based on user choices.</p>
<h2 id="instructions_13">Instructions<a class="headerlink" href="#instructions_13" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">adventure_game</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive Choose Your Own Adventure game powered by an LLM&quot;&quot;&quot;</span>
    <span class="c1"># Story state tracking</span>
    <span class="n">story_context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;setting&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;character&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;inventory&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;goals&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;events&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Choose Your Own Adventure Generator ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Let&#39;s create your custom adventure!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Get initial story parameters</span>
    <span class="n">setting_options</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fantasy kingdom&quot;</span><span class="p">,</span> <span class="s2">&quot;space station&quot;</span><span class="p">,</span> <span class="s2">&quot;haunted mansion&quot;</span><span class="p">,</span> 
                       <span class="s2">&quot;prehistoric world&quot;</span><span class="p">,</span> <span class="s2">&quot;cyberpunk city&quot;</span><span class="p">,</span> <span class="s2">&quot;desert island&quot;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choose a setting:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">setting</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">setting_options</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">setting</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">setting_choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Setting (1-6): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">story_context</span><span class="p">[</span><span class="s2">&quot;setting&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">setting_options</span><span class="p">[</span><span class="n">setting_choice</span><span class="p">]</span>

    <span class="n">character_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What type of character do you want to play? &quot;</span><span class="p">)</span>
    <span class="n">story_context</span><span class="p">[</span><span class="s2">&quot;character&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">character_type</span>

    <span class="n">goal</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What is your character&#39;s main goal? &quot;</span><span class="p">)</span>
    <span class="n">story_context</span><span class="p">[</span><span class="s2">&quot;goals&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">goal</span><span class="p">)</span>

    <span class="c1"># Generate story intro</span>
    <span class="n">story_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Create the introduction to an interactive adventure story with these details:</span>
<span class="s2">    - Setting: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;setting&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">    - Main character: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;character&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">    - Character&#39;s goal: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;goals&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span>

<span class="s2">    End with exactly two choices the player can make.</span>
<span class="s2">    Format the choices as:</span>
<span class="s2">    CHOICE 1: (first option)</span>
<span class="s2">    CHOICE 2: (second option)</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">story_system</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    You are a creative storyteller crafting an interactive adventure.</span>
<span class="s2">    Create vivid descriptions and meaningful choices.</span>
<span class="s2">    For each story segment, provide exactly two choices for the player.</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="c1"># Generate and print first segment</span>
    <span class="n">current_segment</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">story_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">story_system</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Your Adventure Begins ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Split segment from choices</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">current_segment</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CHOICE 1:&quot;</span><span class="p">)</span>
    <span class="n">narrative</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">choices</span> <span class="o">=</span> <span class="s2">&quot;CHOICE 1:&quot;</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">narrative</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>

    <span class="c1"># Story loop</span>
    <span class="n">turns</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">max_turns</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="k">while</span> <span class="n">turns</span> <span class="o">&lt;</span> <span class="n">max_turns</span><span class="p">:</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter 1 or 2 to choose: &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please enter 1 or 2.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c1"># Add to story context</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">chosen_option</span> <span class="o">=</span> <span class="n">choices</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CHOICE 1:&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CHOICE 2:&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">chosen_option</span> <span class="o">=</span> <span class="n">choices</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CHOICE 2:&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="n">story_context</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">chosen_option</span><span class="p">)</span>

        <span class="c1"># Generate next segment based on choice and story so far</span>
        <span class="n">context_summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Setting: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;setting&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">        Character: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;character&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">        Goal: </span><span class="si">{</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;goals&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span>
<span class="s2">        Previous events: </span><span class="si">{</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">story_context</span><span class="p">[</span><span class="s1">&#39;events&#39;</span><span class="p">])</span><span class="si">}</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">continuation_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Continue the story based on these details:</span>
<span class="s2">        </span><span class="si">{</span><span class="n">context_summary</span><span class="si">}</span>

<span class="s2">        The player just chose: </span><span class="si">{</span><span class="n">chosen_option</span><span class="si">}</span>

<span class="s2">        Continue the story from there and provide two new choices.</span>
<span class="s2">        End with:</span>
<span class="s2">        CHOICE 1: (first option)</span>
<span class="s2">        CHOICE 2: (second option)</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="c1"># Generate next segment</span>
        <span class="n">next_segment</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">continuation_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">story_system</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Split segment from choices</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">next_segment</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CHOICE 1:&quot;</span><span class="p">)</span>
        <span class="n">narrative</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># Check if we&#39;ve reached the ending</span>
        <span class="k">if</span> <span class="s2">&quot;CHOICE 1:&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">next_segment</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">next_segment</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== The End ===&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="n">choices</span> <span class="o">=</span> <span class="s2">&quot;CHOICE 1:&quot;</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">narrative</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>

        <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Final turn</span>
        <span class="k">if</span> <span class="n">turns</span> <span class="o">&gt;=</span> <span class="n">max_turns</span><span class="p">:</span>
            <span class="c1"># Generate conclusion</span>
            <span class="n">conclusion_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Create a satisfying conclusion to the story based on these details:</span>
<span class="s2">            </span><span class="si">{</span><span class="n">context_summary</span><span class="si">}</span>

<span class="s2">            The player just chose: </span><span class="si">{</span><span class="n">chosen_option</span><span class="si">}</span>

<span class="s2">            Write a final paragraph that wraps up the adventure.</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">conclusion</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">conclusion_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">story_system</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">conclusion</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== The End ===&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Thanks for playing!&quot;</span><span class="p">)</span>

<span class="c1"># Run the adventure game</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">adventure_game</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_13">Extension Ideas<a class="headerlink" href="#extension-ideas_13" title="Permanent link">&para;</a></h2>
<p>Add inventory management, character stats, or multiple endings based on decisions.</p>
<hr />
<hr />
<h1 id="classroom-simulation-bot">Classroom Simulation Bot<a class="headerlink" href="#classroom-simulation-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Functions, menu systems, multiple bot use<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_14">Overview<a class="headerlink" href="#overview_14" title="Permanent link">&para;</a></h2>
<p>Create a classroom simulation where students can interact with different characters or experts on various topics, practicing both coding skills and exploring different perspectives.</p>
<h2 id="instructions_14">Instructions<a class="headerlink" href="#instructions_14" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">classroom_simulation</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Virtual Classroom Simulation ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ask questions to different characters about any topic!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type &#39;exit&#39; at any time to quit.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Define different bot personalities</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">teacher_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a knowledgeable, patient teacher who explains concepts clearly with examples. You encourage critical thinking and use analogies to simplify complex ideas. Keep explanations concise but thorough.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">hacker_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an ethical hacker with expertise in cybersecurity. You explain technical concepts with a slightly rebellious attitude but always emphasize ethical practices and security. Never provide instructions for illegal activities. Use technical terminology but explain it.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pirate_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a pirate captain from the Golden Age of Piracy. You speak with pirate slang and terminology (arr, matey, etc.). Despite your rough manner, you&#39;re surprisingly knowledgeable about navigation, history, and seafaring. Keep responses brief and entertaining.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">scientist_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a brilliant scientist who is excited about all fields of science. You explain scientific concepts with enthusiasm and wonder, citing relevant research and discoveries. You are factual and precise but can make complex ideas accessible.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Display available characters</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">show_menu</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Available Characters ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Teacher - Clear explanations and educational guidance&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Hacker - Cybersecurity and tech knowledge with attitude&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Pirate - Nautical expertise with a swashbuckling style&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Scientist - Enthusiastic scientific explanations&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Exit simulation&quot;</span><span class="p">)</span>

    <span class="c1"># Main interaction loop</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">show_menu</span><span class="p">()</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose a character (1-5): &quot;</span><span class="p">)</span>

        <span class="c1"># Exit condition</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span> <span class="ow">or</span> <span class="n">choice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the classroom simulation. Thanks for participating!&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="c1"># Select the appropriate bot based on user choice</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">bot</span> <span class="o">=</span> <span class="n">teacher_bot</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Teacher&quot;</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="n">bot</span> <span class="o">=</span> <span class="n">hacker_bot</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Hacker&quot;</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="n">bot</span> <span class="o">=</span> <span class="n">pirate_bot</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Pirate Captain&quot;</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="n">bot</span> <span class="o">=</span> <span class="n">scientist_bot</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Scientist&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Please enter a number from 1-5.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>

        <span class="c1"># Get the question from the user</span>
        <span class="n">question</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to ask the </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">? &quot;</span><span class="p">)</span>

        <span class="c1"># Exit condition</span>
        <span class="k">if</span> <span class="n">question</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the classroom simulation. Thanks for participating!&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="c1"># Get the response from the selected bot</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">bot</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="c1"># Ask if they want to ask another question to the same character</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">another</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like to ask the </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> another question? (yes/no): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">another</span> <span class="o">==</span> <span class="s2">&quot;no&quot;</span> <span class="ow">or</span> <span class="n">another</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="n">another</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span>
                <span class="n">question</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What&#39;s your next question for the </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">? &quot;</span><span class="p">)</span>

                <span class="c1"># Exit condition</span>
                <span class="k">if</span> <span class="n">question</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the classroom simulation. Thanks for participating!&quot;</span><span class="p">)</span>
                    <span class="k">return</span>

                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">bot</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please answer &#39;yes&#39; or &#39;no&#39;.&quot;</span><span class="p">)</span>

<span class="c1"># Run the classroom simulation</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">classroom_simulation</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_14">Extension Ideas<a class="headerlink" href="#extension-ideas_14" title="Permanent link">&para;</a></h2>
<ul>
<li>Add more character types like historian, artist, or fictional character</li>
<li>Create a debate mode where two characters discuss the same topic</li>
<li>Add a quiz feature where characters test the user's knowledge</li>
<li>Create a storyline or scenario that involves multiple characters</li>
<li>Allow characters to "remember" previous interactions in the session</li>
</ul>
<hr />
<hr />
<h1 id="code-explainer-tool">Code Explainer Tool<a class="headerlink" href="#code-explainer-tool" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Code analysis, documentation<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_15">Overview<a class="headerlink" href="#overview_15" title="Permanent link">&para;</a></h2>
<p>Create a tool that explains code snippets and helps users understand programming concepts.</p>
<h2 id="instructions_15">Instructions<a class="headerlink" href="#instructions_15" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="k">def</span><span class="w"> </span><span class="nf">code_explainer</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tool to explain code and help with programming concepts&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Code Explainer Tool ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Explain a code snippet&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Simplify complex code&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Debug problematic code&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Learn a programming concept&quot;</span><span class="p">)</span>

    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="c1"># Explain code</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Paste your code snippet below (type &#39;DONE&#39; on a new line when finished):&quot;</span><span class="p">)</span>
        <span class="n">code_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;DONE&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">code_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">code_lines</span><span class="p">)</span>

        <span class="n">detail_level</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Explanation detail (brief/detailed/step-by-step): &quot;</span><span class="p">)</span>
        <span class="n">audience</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Target audience (beginner/intermediate/advanced): &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are an expert programming tutor specializing in code explanation.</span>
<span class="s2">        You break down code in a way that&#39;s understandable to </span><span class="si">{</span><span class="n">audience</span><span class="si">}</span><span class="s2"> programmers.</span>
<span class="s2">        You provide </span><span class="si">{</span><span class="n">detail_level</span><span class="si">}</span><span class="s2"> explanations that help users truly understand the code.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">explain_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Explain this code:</span>
<span class="s2">        ```</span>
<span class="s2">        </span><span class="si">{</span><span class="n">code</span><span class="si">}</span>
<span class="s2">        ```</span>

<span class="s2">        Provide a </span><span class="si">{</span><span class="n">detail_level</span><span class="si">}</span><span class="s2"> explanation suitable for a </span><span class="si">{</span><span class="n">audience</span><span class="si">}</span><span class="s2"> programmer.</span>
<span class="s2">        If possible, identify:</span>
<span class="s2">        1. The programming language</span>
<span class="s2">        2. What the code does</span>
<span class="s2">        3. Key concepts it demonstrates</span>
<span class="s2">        4. Any potential issues or improvements</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Analyzing code...&quot;</span><span class="p">)</span>
        <span class="n">explanation</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">explain_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Code Explanation ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">explanation</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># Simplify complex code</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Paste the complex code below (type &#39;DONE&#39; on a new line when finished):&quot;</span><span class="p">)</span>
        <span class="n">code_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;DONE&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">code_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">code_lines</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are an expert in code refactoring and simplification.</span>
<span class="s2">        You take complex code and make it more readable while preserving functionality.</span>
<span class="s2">        You explain your changes clearly so the user understands the improvements.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">simplify_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Simplify this code to make it more readable and maintainable:</span>
<span class="s2">        ```</span>
<span class="s2">        </span><span class="si">{</span><span class="n">code</span><span class="si">}</span>
<span class="s2">        ```</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. A simplified version of the code</span>
<span class="s2">        2. An explanation of what changes you made and why</span>
<span class="s2">        3. How the simplified version improves upon the original</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Simplifying code...&quot;</span><span class="p">)</span>
        <span class="n">simplified</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">simplify_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Simplified Code ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">simplified</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="c1"># Debug code</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Paste the problematic code below (type &#39;DONE&#39; on a new line when finished):&quot;</span><span class="p">)</span>
        <span class="n">code_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;DONE&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">code_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">code_lines</span><span class="p">)</span>

        <span class="n">error</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Describe any error messages you&#39;re seeing: &quot;</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What did you expect the code to do? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are an expert debugging assistant who helps find and fix code issues.</span>
<span class="s2">        You are an expert debugging assistant who helps find and fix code issues.</span>
<span class="s2">        You carefully analyze code to identify bugs, logic errors, and other problems.</span>
<span class="s2">        You explain issues clearly and provide working solutions.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">debug_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Debug this code:</span>
<span class="s2">        ```</span>
<span class="s2">        </span><span class="si">{</span><span class="n">code</span><span class="si">}</span>
<span class="s2">        ```</span>

<span class="s2">        Error information: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span>
<span class="s2">        Expected behavior: </span><span class="si">{</span><span class="n">expected</span><span class="si">}</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. Identification of the likely issue(s)</span>
<span class="s2">        2. An explanation of what&#39;s causing the problem</span>
<span class="s2">        3. A corrected version of the code</span>
<span class="s2">        4. Testing suggestions to verify the fix</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Debugging code...&quot;</span><span class="p">)</span>
        <span class="n">debug_info</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">debug_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Debugging Results ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">debug_info</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
        <span class="c1"># Learn programming concept</span>
        <span class="n">concept</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What programming concept would you like to learn about? &quot;</span><span class="p">)</span>
        <span class="n">language</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;For which programming language? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a programming educator who excels at explaining technical concepts clearly.</span>
<span class="s2">        You use examples and analogies to make abstract ideas concrete and understandable.</span>
<span class="s2">        You provide practical code examples to illustrate concepts.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">learn_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Explain the programming concept of </span><span class="si">{</span><span class="n">concept</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">        Include:</span>
<span class="s2">        1. A clear definition of the concept</span>
<span class="s2">        2. Why it&#39;s important and when to use it</span>
<span class="s2">        3. At least 2 practical code examples in </span><span class="si">{</span><span class="n">language</span><span class="si">}</span>
<span class="s2">        4. Common pitfalls or misconceptions</span>
<span class="s2">        5. Best practices when using this concept</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Researching </span><span class="si">{</span><span class="n">concept</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">concept_explanation</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">learn_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">concept</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">language</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">concept_explanation</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

<span class="c1"># Run the code explainer</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">code_explainer</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_15">Extension Ideas<a class="headerlink" href="#extension-ideas_15" title="Permanent link">&para;</a></h2>
<p>Add functionality to generate test cases or convert code between languages.</p>
<hr />
<hr />
<h1 id="creative-writing-partner">Creative Writing Partner<a class="headerlink" href="#creative-writing-partner" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Narrative development, creative collaboration, editing<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_16">Overview<a class="headerlink" href="#overview_16" title="Permanent link">&para;</a></h2>
<p>A collaborative writing tool that helps students develop stories, poems, or essays.</p>
<h2 id="instructions_16">Instructions<a class="headerlink" href="#instructions_16" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">writing_partner</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive creative writing assistant&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Creative Writing Partner ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Story development&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Poetry assistant&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Essay outliner&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Character creator&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Writing feedback&quot;</span><span class="p">)</span>

    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="c1"># Story development</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Story Development ===&quot;</span><span class="p">)</span>
        <span class="n">genre</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What genre is your story? &quot;</span><span class="p">)</span>
        <span class="n">premise</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What&#39;s the basic premise or idea? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a creative writing coach who helps develop stories.</span>
<span class="s2">        You ask thoughtful questions, offer suggestions, and help organize ideas.</span>
<span class="s2">        You&#39;re supportive and encouraging while providing constructive guidance.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">story_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Help the user develop a </span><span class="si">{</span><span class="n">genre</span><span class="si">}</span><span class="s2"> story with this premise:</span>
<span class="s2">        &quot;</span><span class="si">{</span><span class="n">premise</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. Three potential directions the story could take</span>
<span class="s2">        2. Key elements that would make this story engaging</span>
<span class="s2">        3. Suggestions for main characters and their motivations</span>
<span class="s2">        4. A potential outline for the beginning, middle, and end</span>
<span class="s2">        5. Questions that would help the user further develop their idea</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Developing story ideas...&quot;</span><span class="p">)</span>
        <span class="n">story_ideas</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">story_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">story_ideas</span><span class="p">)</span>

        <span class="c1"># Follow-up questions</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like help with a specific aspect of your story?&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Develop a character&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Create a setting&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Generate a plot twist&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Write an opening paragraph&quot;</span><span class="p">)</span>

        <span class="n">follow_up</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose an option (1-4): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">follow_up</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
            <span class="n">character_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What type of character (protagonist, villain, sidekick, etc.)? &quot;</span><span class="p">)</span>

            <span class="n">character_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Help create a compelling </span><span class="si">{</span><span class="n">character_type</span><span class="si">}</span><span class="s2"> for a </span><span class="si">{</span><span class="n">genre</span><span class="si">}</span><span class="s2"> story with this premise:</span>
<span class="s2">            &quot;</span><span class="si">{</span><span class="n">premise</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">            Develop:</span>
<span class="s2">            1. Name and brief physical description</span>
<span class="s2">            2. Background/history</span>
<span class="s2">            3. Personality traits and quirks</span>
<span class="s2">            4. Motivations and goals</span>
<span class="s2">            5. Internal and external conflicts</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">character</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">character_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Character Profile ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">character</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">follow_up</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
            <span class="n">setting_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What type of setting (time period, location, etc.)? &quot;</span><span class="p">)</span>

            <span class="n">setting_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Create a vivid setting for a </span><span class="si">{</span><span class="n">genre</span><span class="si">}</span><span class="s2"> story with this premise:</span>
<span class="s2">            &quot;</span><span class="si">{</span><span class="n">premise</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">            The setting is: </span><span class="si">{</span><span class="n">setting_type</span><span class="si">}</span>

<span class="s2">            Include:</span>
<span class="s2">            1. Detailed sensory descriptions (sights, sounds, smells)</span>
<span class="s2">            2. Unique features of this world/place</span>
<span class="s2">            3. How the setting influences the story</span>
<span class="s2">            4. Potential conflicts arising from the setting</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">setting</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">setting_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Setting Description ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">setting</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">follow_up</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
            <span class="n">twist_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Generate three potential plot twists for a </span><span class="si">{</span><span class="n">genre</span><span class="si">}</span><span class="s2"> story with this premise:</span>
<span class="s2">            &quot;</span><span class="si">{</span><span class="n">premise</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">            For each twist, explain:</span>
<span class="s2">            1. What the twist is</span>
<span class="s2">            2. When it might occur in the story</span>
<span class="s2">            3. How it would change the direction of the narrative</span>
<span class="s2">            4. Why it would be surprising but still logical within the story</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">twists</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">twist_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Plot Twist Ideas ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">twists</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">follow_up</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
            <span class="n">style</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Describe the writing style you&#39;d like to use: &quot;</span><span class="p">)</span>

            <span class="n">opening_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Write an engaging opening paragraph for a </span><span class="si">{</span><span class="n">genre</span><span class="si">}</span><span class="s2"> story with this premise:</span>
<span class="s2">            &quot;</span><span class="si">{</span><span class="n">premise</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">            Using this writing style: </span><span class="si">{</span><span class="n">style</span><span class="si">}</span>

<span class="s2">            The opening should:</span>
<span class="s2">            1. Hook the reader&#39;s attention</span>
<span class="s2">            2. Establish tone and atmosphere</span>
<span class="s2">            3. Introduce either a character, setting, or conflict</span>
<span class="s2">            4. Hint at the larger story to come</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="n">opening</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">opening_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Opening Paragraph ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">opening</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># Poetry assistant</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Poetry Assistant ===&quot;</span><span class="p">)</span>
        <span class="n">poetry_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What type of poem (sonnet, haiku, free verse, etc.)? &quot;</span><span class="p">)</span>
        <span class="n">theme</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What theme or topic for your poem? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a poetry writing coach who helps develop beautiful, meaningful poems.</span>
<span class="s2">        You provide guidance on form, structure, language, and imagery.</span>
<span class="s2">        You&#39;re artistic and thoughtful while remaining accessible and supportive.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">poetry_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Help the user write a </span><span class="si">{</span><span class="n">poetry_type</span><span class="si">}</span><span class="s2"> about </span><span class="si">{</span><span class="n">theme</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. A brief explanation of the </span><span class="si">{</span><span class="n">poetry_type</span><span class="si">}</span><span class="s2"> form and its characteristics</span>
<span class="s2">        2. Suggested imagery, metaphors, or symbols related to </span><span class="si">{</span><span class="n">theme</span><span class="si">}</span>
<span class="s2">        3. A list of evocative words related to the theme</span>
<span class="s2">        4. An example first stanza or line to get started</span>
<span class="s2">        5. Tips for writing effectively in this form</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating poetry guidance...&quot;</span><span class="p">)</span>
        <span class="n">poetry_guidance</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">poetry_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">poetry_guidance</span><span class="p">)</span>

        <span class="c1"># User writes poem</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Write your poem below (type &#39;DONE&#39; on a new line when finished):&quot;</span><span class="p">)</span>
        <span class="n">poem_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;DONE&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">poem_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">poem</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">poem_lines</span><span class="p">)</span>

        <span class="c1"># Feedback on poem</span>
        <span class="n">feedback_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        The user has written this </span><span class="si">{</span><span class="n">poetry_type</span><span class="si">}</span><span class="s2"> about </span><span class="si">{</span><span class="n">theme</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">poem</span><span class="si">}</span>

<span class="s2">        Provide constructive, supportive feedback, including:</span>
<span class="s2">        1. What works well in the poem</span>
<span class="s2">        2. Suggestions for strengthening imagery or language</span>
<span class="s2">        3. Ideas for revision if appropriate</span>
<span class="s2">        4. One or two specific lines that could be enhanced, with suggestions</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Analyzing your poem...&quot;</span><span class="p">)</span>
        <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">feedback_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Poetry Feedback ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">feedback</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="c1"># Essay outliner</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Essay Outliner ===&quot;</span><span class="p">)</span>
        <span class="n">essay_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What type of essay (argumentative, expository, etc.)? &quot;</span><span class="p">)</span>
        <span class="n">topic</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What&#39;s your essay topic? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are an academic writing coach who helps develop well-structured essays.</span>
<span class="s2">        You help organize ideas, develop arguments, and create coherent outlines.</span>
<span class="s2">        You provide guidance on thesis statements, evidence, and logical flow.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">essay_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Help the user outline a </span><span class="si">{</span><span class="n">essay_type</span><span class="si">}</span><span class="s2"> essay on the topic:</span>
<span class="s2">        &quot;</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. Potential thesis statements or research questions</span>
<span class="s2">        2. A suggested structure with main sections</span>
<span class="s2">        3. Key points to cover in each section</span>
<span class="s2">        4. Types of evidence or examples that could support each point</span>
<span class="s2">        5. Ideas for a strong introduction and conclusion</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Developing essay outline...&quot;</span><span class="p">)</span>
        <span class="n">essay_outline</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">essay_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">essay_outline</span><span class="p">)</span>

        <span class="c1"># Thesis refinement</span>
        <span class="n">thesis</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Based on these suggestions, write your thesis statement: &quot;</span><span class="p">)</span>

        <span class="n">refine_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Analyze this thesis statement for a </span><span class="si">{</span><span class="n">essay_type</span><span class="si">}</span><span class="s2"> essay on </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        &quot;</span><span class="si">{</span><span class="n">thesis</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">        Provide feedback on:</span>
<span class="s2">        1. Clarity and specificity</span>
<span class="s2">        2. Arguability (is it something that could be supported/contested?)</span>
<span class="s2">        3. Scope (is it appropriately focused for an essay?)</span>
<span class="s2">        4. Suggested revisions if needed</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Analyzing thesis statement...&quot;</span><span class="p">)</span>
        <span class="n">thesis_feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">refine_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Thesis Feedback ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">thesis_feedback</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
        <span class="c1"># Character creator</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Character Creator ===&quot;</span><span class="p">)</span>
        <span class="n">role</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What role will this character play (protagonist, villain, etc.)? &quot;</span><span class="p">)</span>
        <span class="n">story_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What type of story is this character for? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a character development coach who helps create deep, nuanced characters.</span>
<span class="s2">        You ask insightful questions and provide suggestions for well-rounded character creation.</span>
<span class="s2">        You focus on psychology, motivation, and authentic human behavior.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">character_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Help the user create a compelling </span><span class="si">{</span><span class="n">role</span><span class="si">}</span><span class="s2"> for a </span><span class="si">{</span><span class="n">story_type</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. Questions to consider about the character&#39;s background</span>
<span class="s2">        2. Suggestions for interesting personality traits and quirks</span>
<span class="s2">        3. Ideas for internal and external conflicts</span>
<span class="s2">        4. Potential character arcs or growth journeys</span>
<span class="s2">        5. Tips for making the character authentic and three-dimensional</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating character development ideas...&quot;</span><span class="p">)</span>
        <span class="n">character_ideas</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">character_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">character_ideas</span><span class="p">)</span>

        <span class="c1"># Character profile</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Based on these ideas, let&#39;s create a character profile.&quot;</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Character name: &quot;</span><span class="p">)</span>
        <span class="n">traits</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Three key personality traits: &quot;</span><span class="p">)</span>
        <span class="n">background</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Brief background: &quot;</span><span class="p">)</span>
        <span class="n">goal</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Main goal or motivation: &quot;</span><span class="p">)</span>

        <span class="n">profile_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Develop a complete character profile for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">, a </span><span class="si">{</span><span class="n">role</span><span class="si">}</span><span class="s2"> in a </span><span class="si">{</span><span class="n">story_type</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">        Use this information:</span>
<span class="s2">        - Key traits: </span><span class="si">{</span><span class="n">traits</span><span class="si">}</span>
<span class="s2">        - Background: </span><span class="si">{</span><span class="n">background</span><span class="si">}</span>
<span class="s2">        - Goal/motivation: </span><span class="si">{</span><span class="n">goal</span><span class="si">}</span>

<span class="s2">        Create a comprehensive profile including:</span>
<span class="s2">        1. Physical description and appearance</span>
<span class="s2">        2. Detailed personality analysis</span>
<span class="s2">        3. Relationships with other potential characters</span>
<span class="s2">        4. Internal contradictions or complexities</span>
<span class="s2">        5. How they might respond in various situations</span>
<span class="s2">        6. Character arc - how they might change throughout the story</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Creating detailed character profile...&quot;</span><span class="p">)</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">profile_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Character Profile: &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot; ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;5&quot;</span><span class="p">:</span>
        <span class="c1"># Writing feedback</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Writing Feedback ===&quot;</span><span class="p">)</span>
        <span class="n">writing_type</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What type of writing (story, poem, essay, etc.)? &quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Paste your writing below (type &#39;DONE&#39; on a new line when finished):&quot;</span><span class="p">)</span>
        <span class="n">writing_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="s2">&quot;DONE&quot;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">writing_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

        <span class="n">writing</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">writing_lines</span><span class="p">)</span>

        <span class="n">focus_areas</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What aspects would you like feedback on (e.g., structure, characters, language)? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a supportive writing coach who provides constructive feedback.</span>
<span class="s2">        You balance positive observations with suggestions for improvement.</span>
<span class="s2">        You&#39;re specific, actionable, and encouraging in your feedback.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">feedback_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Provide constructive feedback on this </span><span class="si">{</span><span class="n">writing_type</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">writing</span><span class="si">}</span>

<span class="s2">        Focus on these areas: </span><span class="si">{</span><span class="n">focus_areas</span><span class="si">}</span>

<span class="s2">        Include in your feedback:</span>
<span class="s2">        1. Overall impression and strengths</span>
<span class="s2">        2. Specific suggestions for improvement in the requested areas</span>
<span class="s2">        3. Examples from the text with suggested revisions</span>
<span class="s2">        4. Next steps for revision</span>

<span class="s2">        Be supportive and constructive while providing honest feedback.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Analyzing your writing...&quot;</span><span class="p">)</span>
        <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">feedback_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Writing Feedback ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">feedback</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

<span class="c1"># Run the writing partner</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">writing_partner</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_16">Extension Ideas<a class="headerlink" href="#extension-ideas_16" title="Permanent link">&para;</a></h2>
<p>Add a collaborative storytelling mode where student and bot take turns adding to a story.</p>
<hr />
<h1 id="implementation-tips">Implementation Tips<a class="headerlink" href="#implementation-tips" title="Permanent link">&para;</a></h1>
<p>When using these mini-projects in a classroom setting:</p>
<ol>
<li><strong>Scaffold appropriately</strong>: Start with simpler projects for beginners, then progress to more complex ones.</li>
<li><strong>Modify complexity</strong>: Adjust project requirements based on student skill level and available time.</li>
<li><strong>Pair programming</strong>: Have students work in pairs to encourage collaboration.</li>
<li><strong>Challenge extensions</strong>: Provide additional challenges for students who finish early.</li>
<li><strong>Focus on concepts</strong>: Emphasize the programming concepts being used rather than just creating a functioning bot.</li>
<li><strong>Ethical discussions</strong>: Use these projects as opportunities to discuss AI ethics, bias, and limitations.</li>
</ol>
<h1 id="assessment-ideas_1">Assessment Ideas<a class="headerlink" href="#assessment-ideas_1" title="Permanent link">&para;</a></h1>
<ul>
<li>Have students document their process in a digital portfolio</li>
<li>Create a "bot showcase" where students present their creations</li>
<li>Ask students to write reflections on what they learned</li>
<li>Evaluate code structure, comments, and organization</li>
<li>Have students peer-review each other's projects</li>
</ul>
<hr />
<p><em>These examples are designed to be flexible starting points. Adjust and expand them to suit your specific educational needs and student skill levels.</em></p>
<hr />
<h1 id="data-visualisation-dashboard">Data Visualisation Dashboard<a class="headerlink" href="#data-visualisation-dashboard" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 60-90 minutes<br />
<strong>Learning Focus</strong>: Data analysis, visualisation, pandas, matplotlib<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_17">Overview<a class="headerlink" href="#overview_17" title="Permanent link">&para;</a></h2>
<p>Create an interactive dashboard that allows users to visualise and explore data relationships through various chart types. Students will learn data manipulation with pandas and visualisation with matplotlib.</p>
<h2 id="instructions_17">Instructions<a class="headerlink" href="#instructions_17" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">io</span><span class="w"> </span><span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">data_dashboard</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive data visualization dashboard for exploring datasets&quot;&quot;&quot;</span>

    <span class="c1"># Sample dataset (students could replace with their own CSV)</span>
    <span class="n">sample_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Month&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Jan&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">],</span>
        <span class="s1">&#39;Temperature&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
        <span class="s1">&#39;Rainfall&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">48</span><span class="p">],</span>
        <span class="s1">&#39;Visitors&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">430</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="c1"># Create a DataFrame from the sample data</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sample_data</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Data Visualization Dashboard ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This dashboard allows you to explore relationships in data.&quot;</span><span class="p">)</span>

    <span class="c1"># Create directory for plots if it doesn&#39;t exist</span>
    <span class="n">plots_dir</span> <span class="o">=</span> <span class="s2">&quot;dashboard_plots&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">plots_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Options:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. View data summary&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Line chart&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Bar chart&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Scatter plot&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Get AI insights&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Exit&quot;</span><span class="p">)</span>

        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select an option (1-6): &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="c1"># Data summary</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Data Summary ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dataset shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> rows, </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> columns&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Columns:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Summary statistics:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">First few rows:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
            <span class="c1"># Line chart</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Line Chart ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available columns:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># Skip &#39;Month&#39; column</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">column_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select column to plot (1-3): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">column_to_plot</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">column_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># +1 to account for skipping &#39;Month&#39;</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">column_to_plot</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column_to_plot</span><span class="si">}</span><span class="s1"> by Month&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">column_to_plot</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

            <span class="c1"># Save plot to file</span>
            <span class="n">plot_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plots_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;line_</span><span class="si">{</span><span class="n">column_to_plot</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">plot_filename</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Line chart created and saved as </span><span class="si">{</span><span class="n">plot_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
            <span class="c1"># Bar chart</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Bar Chart ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available columns:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># Skip &#39;Month&#39; column</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">column_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select column to plot (1-3): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">column_to_plot</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">column_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># +1 to account for skipping &#39;Month&#39;</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">column_to_plot</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">column_to_plot</span><span class="si">}</span><span class="s1"> by Month&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">column_to_plot</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

            <span class="c1"># Save plot to file</span>
            <span class="n">plot_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plots_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;bar_</span><span class="si">{</span><span class="n">column_to_plot</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">plot_filename</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Bar chart created and saved as </span><span class="si">{</span><span class="n">plot_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span>
            <span class="c1"># Scatter plot</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Scatter Plot ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available columns for X-axis:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># Skip &#39;Month&#39; column</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">x_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select X-axis column (1-3): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">x_column</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">x_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># +1 to account for skipping &#39;Month&#39;</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available columns for Y-axis:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># Skip &#39;Month&#39; column</span>
                <span class="k">if</span> <span class="n">column</span> <span class="o">!=</span> <span class="n">x_column</span><span class="p">:</span>  <span class="c1"># Don&#39;t show the X column again</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">y_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select Y-axis column (1-3): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">y_column</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">y_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># +1 to account for skipping &#39;Month&#39;</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x_column</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">y_column</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

            <span class="c1"># Add month labels to each point</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]):</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x_column</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">y_column</span><span class="p">][</span><span class="n">i</span><span class="p">]),</span> 
                             <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">)</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">y_column</span><span class="si">}</span><span class="s1"> vs </span><span class="si">{</span><span class="n">x_column</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">x_column</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">y_column</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

            <span class="c1"># Optional: Add trendline</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x_column</span><span class="p">]),</span> 
                     <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x_column</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">y_column</span><span class="p">],</span> <span class="mi">1</span><span class="p">))(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x_column</span><span class="p">])),</span>
                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

            <span class="c1"># Save plot to file</span>
            <span class="n">plot_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">plots_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;scatter_</span><span class="si">{</span><span class="n">x_column</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">y_column</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">plot_filename</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Scatter plot created and saved as </span><span class="si">{</span><span class="n">plot_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span>
            <span class="c1"># AI insights</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== AI Data Insights ===&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Prepare data summary for AI</span>
                <span class="n">data_description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                Dataset with columns: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span>
<span class="s2">                Summary statistics:</span>
<span class="s2">                </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span><span class="si">}</span>

<span class="s2">                First few rows:</span>
<span class="s2">                </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">to_string</span><span class="p">()</span><span class="si">}</span>
<span class="s2">                &quot;&quot;&quot;</span>

                <span class="n">insight_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                Analyze this dataset and provide 3-5 key insights:</span>
<span class="s2">                </span><span class="si">{</span><span class="n">data_description</span><span class="si">}</span>

<span class="s2">                Focus on:</span>
<span class="s2">                1. Patterns or trends over months</span>
<span class="s2">                2. Correlations between variables</span>
<span class="s2">                3. Anomalies or interesting data points</span>
<span class="s2">                4. Suggestions for further analysis</span>
<span class="s2">                &quot;&quot;&quot;</span>

                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Generating AI insights...&quot;</span><span class="p">)</span>
                <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">insight_prompt</span><span class="p">)</span>

                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== AI Analysis Results ===&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error getting AI insights: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AI insight generation is not available.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exiting Dashboard. Goodbye!&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Invalid choice. Please select a number between 1 and 6.&quot;</span><span class="p">)</span>

<span class="c1"># Run the dashboard</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">data_dashboard</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_17">Extension Ideas<a class="headerlink" href="#extension-ideas_17" title="Permanent link">&para;</a></h2>
<ul>
<li>Add more visualisation types like pie charts, histograms, or heatmaps</li>
<li>Implement data filtering options to explore subsets of the data</li>
<li>Add the ability to load CSV files from disk</li>
<li>Create a feature to export all visualisations as a report</li>
<li>Implement interactive plots using libraries like Plotly</li>
<li>Add clustering or other basic data analysis techniques</li>
</ul>
<hr />
<hr />
<h1 id="ai-persona-dialogue-simulator">AI Persona Dialogue Simulator<a class="headerlink" href="#ai-persona-dialogue-simulator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Function calls, lists, creativity, dialogue simulation<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_18">Overview<a class="headerlink" href="#overview_18" title="Permanent link">&para;</a></h2>
<p>Simulate interactive dialogues between multiple AI personas with different personalities or perspectives. This flexible tool enables both multi-participant panel discussions and focused one-on-one debates, allowing students to explore how different characters approach the same topics. The simulator can also be configured to run simulated interviews by selecting appropriate personas and question formats.</p>
<p>Simulate an interview or debate between multiple bots with different personalities or perspectives, exploring how different characters might approach the same questions or topics.</p>
<p>This project offers flexibility to run either panel discussions with multiple participants or focused one-on-one debates, allowing students to explore how different personas respond to the same topics.</p>
<h2 id="instructions_18">Instructions<a class="headerlink" href="#instructions_18" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ai_persona_dialogue_simulator</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simulate a dialogue between multiple AI personas with different personalities,</span>
<span class="sd">    exploring how different characters approach the same questions or topics.</span>

<span class="sd">    This tool supports multiple dialogue formats:</span>
<span class="sd">    1. Panel discussion - Multiple personas exchange views with less structure</span>
<span class="sd">    2. Formal debate - Two personas engage in structured argument with multiple rounds</span>
<span class="sd">    3. Interview - One persona can be set as an &quot;interviewer&quot; asking questions </span>
<span class="sd">       of other personas serving as &quot;interviewees&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== AI Persona Dialogue Simulator ===&quot;</span><span class="p">)</span>

    <span class="c1"># Define different bot personalities</span>
    <span class="c1"># Each personality has a unique perspective that influences how they respond</span>
    <span class="n">bot_personalities</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Professor&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a logical, analytical professor who values facts, research, and intellectual rigor. You speak formally and cite evidence for your claims. You believe in rational inquiry and skepticism.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Coach&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an inspirational coach who focuses on motivation, emotional intelligence, and personal growth. You believe in the power of passion, intuition, and human potential. You speak with enthusiasm and use motivational language.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Artist&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a creative artist who values beauty, expression, and innovation. You think metaphorically and appreciate the abstract and subjective. You believe in breaking rules to create something new. Your language is colorful and expressive.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Entrepreneur&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a practical entrepreneur focused on results, efficiency, and real-world applications. You value solutions that work and ideas that can be implemented. You speak directly and focus on action.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Dr. Logic&quot;</span><span class="p">:</span> <span class="s2">&quot;You value logical reasoning and empirical evidence above all. You cite studies and statistics to support your points. You believe decisions should be made based on data, not emotions.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Empathetic Emma&quot;</span><span class="p">:</span> <span class="s2">&quot;You believe emotional impact and human stories are most important. You consider how policies and ideas affect real people. You speak with compassion and emphasize the human element in every issue.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Traditional Tom&quot;</span><span class="p">:</span> <span class="s2">&quot;You value tradition, stability, and time-tested approaches. You&#39;re skeptical of rapid change and new untested ideas. You believe in preserving what works and making careful, incremental improvements.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Interviewer&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a professional interviewer who asks insightful, probing questions. You&#39;re curious and neutral, aiming to bring out the most interesting perspectives from others. You follow up with clarifying questions when needed.&quot;</span>
    <span class="p">}</span>

    <span class="c1"># List of debate/discussion topics</span>
    <span class="c1"># These can be used for debates, panel discussions, or interview topics</span>
    <span class="n">dialogue_topics</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;What&#39;s more important: creativity or logic?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Is technology improving or harming society?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Should education focus more on facts or skills?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Is it better to be a specialist or a generalist?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Are humans naturally cooperative or competitive?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;What&#39;s the best way to measure success in life?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Should we prioritize individual freedom or collective welfare?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Is artificial intelligence more likely to help or harm humanity?&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Should governments regulate social media platforms?&quot;</span>
    <span class="p">]</span>

    <span class="c1"># Let user select a dialogue topic</span>
    <span class="c1"># TODO: Add input validation to handle non-integer inputs</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choose a topic:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">question</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dialogue_topics</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dialogue_topics</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. Custom topic (enter your own)&quot;</span><span class="p">)</span>

    <span class="c1"># Input validation could be added here to handle non-integer inputs</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter topic number: &quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">choice</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">dialogue_topics</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Using default topic #1.&quot;</span><span class="p">)</span>
            <span class="n">choice</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using default topic #1.&quot;</span><span class="p">)</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">dialogue_topics</span><span class="p">):</span>
        <span class="n">dialogue_topic</span> <span class="o">=</span> <span class="n">dialogue_topics</span><span class="p">[</span><span class="n">choice</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dialogue_topic</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter your custom topic: &quot;</span><span class="p">)</span>

    <span class="c1"># Choose dialogue format</span>
    <span class="c1"># The format affects how the personas interact with each other</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose dialogue format:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Panel discussion (multiple personas participate in an open exchange)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. One-on-one debate (two personas engage in structured argument)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Interview (one persona interviews the others)&quot;</span><span class="p">)</span>

    <span class="c1"># TODO: Add input validation for format choice</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">format_choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter format number (1-3): &quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">format_choice</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">format_choice</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid format. Using panel discussion (1).&quot;</span><span class="p">)</span>
            <span class="n">format_choice</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using panel discussion (1).&quot;</span><span class="p">)</span>
        <span class="n">format_choice</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># Select personas based on format</span>
    <span class="k">if</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># Panel discussion - let user select multiple participants</span>
        <span class="c1"># This mode simulates a roundtable where each persona responds to the previous one</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available personalities:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">perspective</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">perspective</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Add more robust input validation for selections</span>
        <span class="n">selections</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select personalities (comma-separated numbers, e.g., 1,3,4): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">selected_indices</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selections</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
            <span class="c1"># Check if indices are valid</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">idx</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bot_personalities</span><span class="p">)</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Some selections were invalid. Using first 3 personalities.&quot;</span><span class="p">)</span>
                <span class="n">selected_indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using first 3 personalities.&quot;</span><span class="p">)</span>
            <span class="n">selected_indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>

        <span class="c1"># Get the selected personalities</span>
        <span class="n">personalities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">participants</span> <span class="o">=</span> <span class="p">{</span><span class="n">personalities</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">personalities</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selected_indices</span> <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">personalities</span><span class="p">)}</span>

        <span class="c1"># Panel discussions typically have fewer rounds with more participants</span>
        <span class="n">rounds</span> <span class="o">=</span> <span class="mi">1</span>  

    <span class="k">elif</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># One-on-one debate - let user select exactly two participants</span>
        <span class="c1"># This mode creates a structured back-and-forth exchange with multiple rounds</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose two debaters:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">perspective</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">perspective</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Add input validation for debater selections</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">choice1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select first debater (1-8): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">choice2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Select second debater (1-8): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">choice1</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">choice1</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bot_personalities</span><span class="p">)</span> <span class="ow">or</span> <span class="n">choice2</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">choice2</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bot_personalities</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid selection. Using Professor and Coach.&quot;</span><span class="p">)</span>
                <span class="n">choice1</span><span class="p">,</span> <span class="n">choice2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using Professor and Coach.&quot;</span><span class="p">)</span>
            <span class="n">choice1</span><span class="p">,</span> <span class="n">choice2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>

        <span class="c1"># Get the selected personalities</span>
        <span class="n">personalities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">participants</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">personalities</span><span class="p">[</span><span class="n">choice1</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">personalities</span><span class="p">[</span><span class="n">choice1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">personalities</span><span class="p">[</span><span class="n">choice2</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">personalities</span><span class="p">[</span><span class="n">choice2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="c1"># Set number of rounds for one-on-one debate</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How many response rounds? (1-5): &quot;</span><span class="p">))</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rounds</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Ensure rounds is between 1 and 5</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using 2 rounds.&quot;</span><span class="p">)</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">else</span><span class="p">:</span>  <span class="c1"># format_choice == 3</span>
        <span class="c1"># Interview format - one interviewer, multiple interviewees</span>
        <span class="c1"># This mode has one persona asking questions and others responding</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select the interviewer:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">perspective</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Add input validation for interviewer selection</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">interviewer_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select interviewer (1-8, recommend #8 &#39;Interviewer&#39;): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">interviewer_idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">interviewer_idx</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bot_personalities</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid selection. Using &#39;Interviewer&#39; persona.&quot;</span><span class="p">)</span>
                <span class="c1"># Find the Interviewer in the list</span>
                <span class="n">interviewer_idx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Interviewer&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Interviewer&quot;</span> <span class="ow">in</span> <span class="n">bot_personalities</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using &#39;Interviewer&#39; persona.&quot;</span><span class="p">)</span>
            <span class="n">interviewer_idx</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Interviewer&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="s2">&quot;Interviewer&quot;</span> <span class="ow">in</span> <span class="n">bot_personalities</span> <span class="k">else</span> <span class="mi">0</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select interviewees:&quot;</span><span class="p">)</span>
        <span class="n">personalities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_personalities</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">interviewees</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">personalities</span><span class="p">)))</span>
        <span class="n">interviewees</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">interviewer_idx</span><span class="p">)</span>  <span class="c1"># Remove interviewer from potential interviewees</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">interviewees</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="o">=</span> <span class="n">personalities</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">perspective</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

        <span class="c1"># TODO: Add input validation for interviewee selections</span>
        <span class="n">selections</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select interviewees (comma-separated numbers): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">selected</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selections</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
            <span class="c1"># Convert selected indices to actual personality indices</span>
            <span class="n">selected_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">interviewees</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selected</span> <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">interviewees</span><span class="p">)]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No valid selections. Using first two personalities.&quot;</span><span class="p">)</span>
                <span class="n">selected_indices</span> <span class="o">=</span> <span class="n">interviewees</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using first two personalities.&quot;</span><span class="p">)</span>
            <span class="n">selected_indices</span> <span class="o">=</span> <span class="n">interviewees</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

        <span class="c1"># Add interviewer and interviewees to participants</span>
        <span class="n">participants</span> <span class="o">=</span> <span class="p">{</span><span class="n">personalities</span><span class="p">[</span><span class="n">interviewer_idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">personalities</span><span class="p">[</span><span class="n">interviewer_idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]}</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
            <span class="n">participants</span><span class="p">[</span><span class="n">personalities</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">personalities</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Set number of interview questions</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How many interview questions? (1-5): &quot;</span><span class="p">))</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rounds</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Ensure rounds is between 1 and 5</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid input. Using 3 questions.&quot;</span><span class="p">)</span>
            <span class="n">rounds</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="c1"># Function to get response from a bot</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_bot_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">perspective</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a response from a persona based on their perspective.&quot;&quot;&quot;</span>
        <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;You are </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">perspective</span><span class="si">}</span><span class="s2"> Keep responses under 100 words to keep the dialogue flowing.&quot;</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

    <span class="c1"># Start the dialogue</span>
    <span class="n">participant_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">participants</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Dialogue on: </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2"> ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Opening statements (except for interview format)</span>
    <span class="k">if</span> <span class="n">format_choice</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Not interview format</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Opening Statements ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">statements</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="ow">in</span> <span class="n">participants</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s opening statement:&quot;</span><span class="p">)</span>
            <span class="n">statement</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Give an opening statement on the topic of </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">perspective</span><span class="p">,</span>
                <span class="n">name</span>
            <span class="p">)</span>
            <span class="n">statements</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">statement</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Discussion rounds based on format</span>
    <span class="k">if</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># Panel discussion - each persona responds to the previous speaker</span>
        <span class="c1"># This creates a chain of responses where each builds on the last</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Panel Discussion ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">previous_statement</span> <span class="o">=</span> <span class="n">statements</span><span class="p">[</span><span class="n">participant_names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
        <span class="n">previous_name</span> <span class="o">=</span> <span class="n">participant_names</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">round_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rounds</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Round </span><span class="si">{</span><span class="n">round_num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">participant_names</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> responds to </span><span class="si">{</span><span class="n">previous_name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The topic is: </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">previous_name</span><span class="si">}</span><span class="s2"> said: &#39;</span><span class="si">{</span><span class="n">previous_statement</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n\n</span><span class="s2">Respond to </span><span class="si">{</span><span class="n">previous_name</span><span class="si">}</span><span class="s2">&#39;s perspective with your own viewpoint.&quot;</span><span class="p">,</span>
                    <span class="n">participants</span><span class="p">[</span><span class="n">name</span><span class="p">],</span>
                    <span class="n">name</span>
                <span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">()</span>

                <span class="n">previous_statement</span> <span class="o">=</span> <span class="n">response</span>
                <span class="n">previous_name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">elif</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># One-on-one debate - alternating responses with structured format</span>
        <span class="c1"># This simulates a formal debate with clear turns and direct responses</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Debate Rounds ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">debater1</span> <span class="o">=</span> <span class="n">participant_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">debater2</span> <span class="o">=</span> <span class="n">participant_names</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">current_statement</span> <span class="o">=</span> <span class="n">statements</span><span class="p">[</span><span class="n">debater2</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">round_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rounds</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Round </span><span class="si">{</span><span class="n">round_num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># First debater responds</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">debater1</span><span class="si">}</span><span class="s2"> responds:&quot;</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Respond to this statement on </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">: &#39;</span><span class="si">{</span><span class="n">current_statement</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                <span class="n">participants</span><span class="p">[</span><span class="n">debater1</span><span class="p">],</span>
                <span class="n">debater1</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
            <span class="n">current_statement</span> <span class="o">=</span> <span class="n">response</span>

            <span class="c1"># Second debater responds</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">debater2</span><span class="si">}</span><span class="s2"> responds:&quot;</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Respond to this statement on </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">: &#39;</span><span class="si">{</span><span class="n">current_statement</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                <span class="n">participants</span><span class="p">[</span><span class="n">debater2</span><span class="p">],</span>
                <span class="n">debater2</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
            <span class="n">current_statement</span> <span class="o">=</span> <span class="n">response</span>

    <span class="k">else</span><span class="p">:</span>  <span class="c1"># format_choice == 3</span>
        <span class="c1"># Interview format - interviewer asks questions, interviewees respond</span>
        <span class="c1"># This simulates a talk show or interview panel with one host</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Interview Session ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">interviewer</span> <span class="o">=</span> <span class="n">participant_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">interviewees</span> <span class="o">=</span> <span class="n">participant_names</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="c1"># Opening question about the topic</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewer</span><span class="si">}</span><span class="s2"> asks about </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
        <span class="n">question</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;As an interviewer, ask an insightful opening question about </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">participants</span><span class="p">[</span><span class="n">interviewer</span><span class="p">],</span>
            <span class="n">interviewer</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>

        <span class="c1"># Each interviewee responds to the opening question</span>
        <span class="k">for</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">interviewees</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewee</span><span class="si">}</span><span class="s2"> responds:&quot;</span><span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;You&#39;re being interviewed. The interviewer asked: &#39;</span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&#39; regarding </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">. Respond with your perspective.&quot;</span><span class="p">,</span>
                <span class="n">participants</span><span class="p">[</span><span class="n">interviewee</span><span class="p">],</span>
                <span class="n">interviewee</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

        <span class="c1"># Additional rounds of questions</span>
        <span class="k">for</span> <span class="n">round_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rounds</span><span class="p">):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Question </span><span class="si">{</span><span class="n">round_num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> ---</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Interviewer asks a follow-up question</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewer</span><span class="si">}</span><span class="s2"> asks:&quot;</span><span class="p">)</span>
            <span class="n">question</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Based on the previous responses about </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">, ask a follow-up question that explores a different angle or aspect of the topic.&quot;</span><span class="p">,</span>
                <span class="n">participants</span><span class="p">[</span><span class="n">interviewer</span><span class="p">],</span>
                <span class="n">interviewer</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

            <span class="c1"># Each interviewee responds to the new question</span>
            <span class="k">for</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">interviewees</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewee</span><span class="si">}</span><span class="s2"> responds:&quot;</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;You&#39;re being interviewed. The interviewer asked: &#39;</span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&#39; regarding </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">. Respond with your perspective.&quot;</span><span class="p">,</span>
                    <span class="n">participants</span><span class="p">[</span><span class="n">interviewee</span><span class="p">],</span>
                    <span class="n">interviewee</span>
                <span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">()</span>

    <span class="c1"># Closing statements (except for interview format which has a special closing)</span>
    <span class="k">if</span> <span class="n">format_choice</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Closing Statements ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">closing_statements</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="ow">in</span> <span class="n">participants</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s closing remarks:&quot;</span><span class="p">)</span>
            <span class="n">closing</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Give a brief closing statement summarizing your position on </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">perspective</span><span class="p">,</span>
                <span class="n">name</span>
            <span class="p">)</span>
            <span class="n">closing_statements</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">closing</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">closing</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Special closing for interview format</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Interview Wrap-up ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">closing_statements</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Interviewer provides a wrap-up</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewer</span><span class="si">}</span><span class="s2">&#39;s wrap-up:&quot;</span><span class="p">)</span>
        <span class="n">interviewer_closing</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Provide a thoughtful wrap-up to the interview about </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">, thanking your guests and highlighting key insights.&quot;</span><span class="p">,</span>
            <span class="n">participants</span><span class="p">[</span><span class="n">interviewer</span><span class="p">],</span>
            <span class="n">interviewer</span>
        <span class="p">)</span>
        <span class="n">closing_statements</span><span class="p">[</span><span class="n">interviewer</span><span class="p">]</span> <span class="o">=</span> <span class="n">interviewer_closing</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">interviewer_closing</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>

        <span class="c1"># Each interviewee gives a brief final thought</span>
        <span class="k">for</span> <span class="n">interviewee</span> <span class="ow">in</span> <span class="n">interviewees</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">interviewee</span><span class="si">}</span><span class="s2">&#39;s final thought:&quot;</span><span class="p">)</span>
            <span class="n">closing</span> <span class="o">=</span> <span class="n">get_bot_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The interview about </span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2"> is ending. Share a brief, impactful final thought in 1-2 sentences.&quot;</span><span class="p">,</span>
                <span class="n">participants</span><span class="p">[</span><span class="n">interviewee</span><span class="p">],</span>
                <span class="n">interviewee</span>
            <span class="p">)</span>
            <span class="n">closing_statements</span><span class="p">[</span><span class="n">interviewee</span><span class="p">]</span> <span class="o">=</span> <span class="n">closing</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">closing</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

    <span class="c1"># Moderator summary</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Summary ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">summary_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Summarize the dialogue on &#39;</span><span class="si">{</span><span class="n">dialogue_topic</span><span class="si">}</span><span class="s2">&#39; between the following participants:</span><span class="se">\n\n</span><span class="s2">&quot;</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">perspective</span> <span class="ow">in</span> <span class="n">participants</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">summary_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s perspective: </span><span class="si">{</span><span class="n">perspective</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">closing_statements</span><span class="p">:</span>
            <span class="n">summary_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;s closing: </span><span class="si">{</span><span class="n">closing_statements</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">summary_type</span> <span class="o">=</span> <span class="s2">&quot;panel discussion&quot;</span>
    <span class="k">elif</span> <span class="n">format_choice</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">summary_type</span> <span class="o">=</span> <span class="s2">&quot;debate&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">summary_type</span> <span class="o">=</span> <span class="s2">&quot;interview&quot;</span>

    <span class="n">summary_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Provide a neutral, balanced summary of this </span><span class="si">{</span><span class="n">summary_type</span><span class="si">}</span><span class="s2">, highlighting the key differences in their approaches and the strengths of each perspective.&quot;</span>

    <span class="n">moderator</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">summary_prompt</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a neutral, insightful moderator who can identify the merits of different viewpoints. Provide a balanced summary.&quot;</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">moderator</span><span class="p">)</span>

<span class="c1"># Run the dialogue simulator</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">ai_persona_dialogue_simulator</span><span class="p">()</span>
</code></pre></div>
<h2 id="using-the-simulator-for-interviews">Using the Simulator for Interviews<a class="headerlink" href="#using-the-simulator-for-interviews" title="Permanent link">&para;</a></h2>
<p>To use this simulator specifically for interview scenarios:</p>
<ol>
<li>
<p><strong>Select Format #3 (Interview)</strong> - This configures one persona to act as the interviewer and others as interviewees</p>
</li>
<li>
<p><strong>Choose the Interviewer</strong> - Select the "Interviewer" persona (option #8) for best results, though any persona can serve as an interviewer</p>
</li>
<li>
<p><strong>Select Interviewees</strong> - Choose which personas will be interviewed on the selected topic</p>
</li>
<li>
<p><strong>Set Number of Questions</strong> - Determine how many rounds of questions the interviewer will ask</p>
</li>
<li>
<p><strong>Interview Structure:</strong></p>
</li>
<li>The interviewer begins with an opening question about the topic</li>
<li>Each interviewee responds from their unique perspective</li>
<li>The interviewer asks follow-up questions in subsequent rounds</li>
<li>The session concludes with a wrap-up from the interviewer and final thoughts from interviewees</li>
</ol>
<p>This interview format is particularly useful for:
- Exploring multiple perspectives on controversial topics
- Demonstrating how different personality types respond to the same questions
- Simulating talk show or panel interview dynamics
- Teaching questioning techniques and response patterns</p>
<h2 id="extension-ideas_18">Extension Ideas<a class="headerlink" href="#extension-ideas_18" title="Permanent link">&para;</a></h2>
<ul>
<li>Add a feature for the user to join as an additional participant</li>
<li>Create specialised formats for specific topics (ethics, technology, etc.)</li>
<li>Implement a scoring system where users rate which perspective they found most compelling</li>
<li>Add follow-up questions that challenge each persona's perspective</li>
<li>Create a "change my mind" feature where personas try to persuade on a controversial topic</li>
<li>Allow students to create their own custom persona profiles</li>
<li>Add a feature to visualise the dialogue flow and connections between arguments</li>
<li>Implement a fact-checker persona that evaluates claims made during discussions</li>
<li>Create a mode where personas can switch perspectives mid-dialogue to show flexibility in thinking</li>
<li>Add the ability to save transcripts for later analysis or comparison</li>
</ul>
<hr />
<hr />
<h1 id="emotional-support-bot">Emotional Support Bot<a class="headerlink" href="#emotional-support-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Selection, text analysis, branching logic<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_19">Overview<a class="headerlink" href="#overview_19" title="Permanent link">&para;</a></h2>
<p>Create a bot that responds differently based on the user's emotional state, providing tailored support, advice, or encouragement depending on the mood expressed.</p>
<h2 id="instructions_19">Instructions<a class="headerlink" href="#instructions_19" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">emotional_support_bot</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Emotional Support Bot ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This bot will respond differently based on how you&#39;re feeling.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type &#39;exit&#39; at any time to quit.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Define different bot personalities for different moods</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">therapist_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a compassionate and empathetic therapist. Provide supportive, thoughtful responses that validate the user&#39;s feelings. Offer gentle guidance and perspective without being pushy. Keep responses brief and focused on emotional support.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">coach_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an energetic and motivational coach. Be enthusiastic, positive, and encouraging. Help channel the user&#39;s good energy into productive actions or goals. Keep responses upbeat and action-oriented.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">chill_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="n">prompt</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a calm, relaxed friend. Your responses are low-pressure and soothing. Suggest restful activities and ways to recharge. Keep responses brief and gentle.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Main interaction loop</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Ask how the user is feeling</span>
        <span class="n">mood</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How are you feeling today? (happy, sad, tired, anxious, exit): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="c1"># Exit condition</span>
        <span class="k">if</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Take care! Remember I&#39;m here whenever you need to talk.&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="c1"># Get more details about their state</span>
        <span class="k">if</span> <span class="n">mood</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;happy&quot;</span><span class="p">,</span> <span class="s2">&quot;sad&quot;</span><span class="p">,</span> <span class="s2">&quot;tired&quot;</span><span class="p">,</span> <span class="s2">&quot;anxious&quot;</span><span class="p">]:</span>
            <span class="n">details</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tell me more about why you&#39;re feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">: &quot;</span><span class="p">)</span>

            <span class="c1"># Select appropriate bot based on mood</span>
            <span class="k">if</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;sad&quot;</span> <span class="ow">or</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;anxious&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">therapist_bot</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I&#39;m feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;happy&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">coach_bot</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I&#39;m feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">! </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;tired&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">chill_bot</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I&#39;m feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Bot&#39;s response:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

            <span class="c1"># Follow-up question based on mood</span>
            <span class="k">if</span> <span class="n">mood</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;sad&quot;</span><span class="p">,</span> <span class="s2">&quot;anxious&quot;</span><span class="p">]:</span>
                <span class="n">follow_up</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like some suggestions to help you feel better? (yes/no): &quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">follow_up</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span>
                    <span class="n">suggestions</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The user is feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2"> because: </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">. Provide 3 specific, helpful suggestions to improve their mood.&quot;</span><span class="p">,</span>
                        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive counselor offering practical, actionable advice. Format your response as a numbered list.&quot;</span>
                    <span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Here are some suggestions:&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">suggestions</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;happy&quot;</span><span class="p">:</span>
                <span class="n">follow_up</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like ideas to make the most of your good mood? (yes/no): &quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">follow_up</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span>
                    <span class="n">ideas</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;The user is feeling </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2"> because: </span><span class="si">{</span><span class="n">details</span><span class="si">}</span><span class="s2">. Suggest 3 ways to channel this positive energy productively.&quot;</span><span class="p">,</span>
                        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an enthusiastic coach offering creative ways to use positive energy. Format your response as a numbered list.&quot;</span>
                    <span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Here are some ideas:&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">ideas</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">mood</span> <span class="o">==</span> <span class="s2">&quot;tired&quot;</span><span class="p">:</span>
                <span class="n">follow_up</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like some relaxation or energy tips? (relax/energy): &quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">follow_up</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;relax&quot;</span><span class="p">:</span>
                    <span class="n">tips</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                        <span class="s2">&quot;Suggest 3 calming activities for someone who is tired and wants to relax.&quot;</span><span class="p">,</span>
                        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a wellness coach specializing in restful activities. Format your response as a numbered list.&quot;</span>
                    <span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Relaxation suggestions:&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">tips</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">follow_up</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;energy&quot;</span><span class="p">:</span>
                    <span class="n">tips</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                        <span class="s2">&quot;Suggest 3 gentle ways to boost energy when feeling tired without causing stress.&quot;</span><span class="p">,</span>
                        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a wellness coach specializing in natural energy boosters. Format your response as a numbered list.&quot;</span>
                    <span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Energy-boosting suggestions:&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">tips</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t recognize that mood. Please try again with happy, sad, tired, or anxious.&quot;</span><span class="p">)</span>

<span class="c1"># Run the emotional support bot</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">emotional_support_bot</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_19">Extension Ideas<a class="headerlink" href="#extension-ideas_19" title="Permanent link">&para;</a></h2>
<ul>
<li>Add more emotional states and corresponding bot personalities</li>
<li>Create a mood tracking feature that remembers past interactions</li>
<li>Implement sentiment analysis to detect mood from user's free text input</li>
<li>Create a guided meditation or breathing exercise option</li>
<li>Allow users to rate how helpful the responses were to improve the bot</li>
</ul>
<hr />
<hr />
<h1 id="historical-figure-chat">Historical Figure Chat<a class="headerlink" href="#historical-figure-chat" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Historical research, character perspective, dialogue<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_20">Overview<a class="headerlink" href="#overview_20" title="Permanent link">&para;</a></h2>
<p>Chat with simulated historical figures to learn about their lives, achievements, and time periods.</p>
<h2 id="instructions_20">Instructions<a class="headerlink" href="#instructions_20" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="k">def</span><span class="w"> </span><span class="nf">historical_figure_chat</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Chat with simulated historical figures&quot;&quot;&quot;</span>
    <span class="c1"># Available historical figures</span>
    <span class="n">figures</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Albert Einstein&quot;</span><span class="p">:</span> <span class="s2">&quot;physicist who developed the theory of relativity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Marie Curie&quot;</span><span class="p">:</span> <span class="s2">&quot;physicist and chemist who conducted pioneering research on radioactivity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Leonardo da Vinci&quot;</span><span class="p">:</span> <span class="s2">&quot;Renaissance polymath known for art and inventions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Ada Lovelace&quot;</span><span class="p">:</span> <span class="s2">&quot;mathematician and writer, known for work on Babbage&#39;s Analytical Engine&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Martin Luther King Jr.&quot;</span><span class="p">:</span> <span class="s2">&quot;civil rights leader and advocate for nonviolent resistance&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Cleopatra&quot;</span><span class="p">:</span> <span class="s2">&quot;last active ruler of the Ptolemaic Kingdom of Egypt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Mahatma Gandhi&quot;</span><span class="p">:</span> <span class="s2">&quot;leader of India&#39;s nonviolent independence movement&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Confucius&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinese philosopher and politician of the Spring and Autumn period&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Frida Kahlo&quot;</span><span class="p">:</span> <span class="s2">&quot;Mexican painter known for her portraits and works inspired by nature&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nelson Mandela&quot;</span><span class="p">:</span> <span class="s2">&quot;revolutionary and political leader who served as President of South Africa&quot;</span>
    <span class="p">}</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Historical Figure Chat ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available historical figures:&quot;</span><span class="p">)</span>

    <span class="n">figure_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">figures</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">figure</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">figure_list</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">figures</span><span class="p">[</span><span class="n">figure</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">figure_choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select a figure (1-10): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">figure</span> <span class="o">=</span> <span class="n">figure_list</span><span class="p">[</span><span class="n">figure_choice</span><span class="p">]</span>

    <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    You are </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">figures</span><span class="p">[</span><span class="n">figure</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">    Respond as if you are this historical figure, with appropriate knowledge, perspective, and speaking style.</span>
<span class="s2">    Your knowledge is limited to what was known during your lifetime and your own experiences.</span>
<span class="s2">    If asked about events after your lifetime, you should acknowledge you wouldn&#39;t know about them.</span>
<span class="s2">    Maintain the personality, values, and worldview of </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2"> based on historical accounts.</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Conversation with </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You are now chatting with </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">. Type &#39;exit&#39; to end.&quot;</span><span class="p">)</span>

    <span class="c1"># Welcome message</span>
    <span class="n">greetings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;Greetings! I am </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">. What would you like to discuss?&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;Hello there! </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2"> at your service. How may I assist you?&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;Welcome! You&#39;re speaking with </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">. What&#39;s on your mind?&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;Ah, a visitor! I am </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">. What would you like to know?&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;Good day! It&#39;s </span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2"> here. What shall we talk about?&quot;</span>
    <span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">greetings</span><span class="p">))</span>

    <span class="c1"># Chat loop</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You: &quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">: Farewell! It was a pleasure speaking with you.&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">user_input</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">figure</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Run the historical figure chat</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">historical_figure_chat</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_20">Extension Ideas<a class="headerlink" href="#extension-ideas_20" title="Permanent link">&para;</a></h2>
<p>Add a "time travel interview" mode where students can interview multiple figures about the same topic or event.</p>
<hr />
<hr />
<h1 id="image-gallery-creator">Image Gallery Creator<a class="headerlink" href="#image-gallery-creator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: File handling, HTML generation, metadata management, API integration<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_21">Overview<a class="headerlink" href="#overview_21" title="Permanent link">&para;</a></h2>
<p>Create a tool that generates an HTML gallery from a collection of images. The tool manages image metadata, generates descriptions (optionally with AI assistance), and creates a responsive web gallery to showcase the images.</p>
<h2 id="instructions_21">Instructions<a class="headerlink" href="#instructions_21" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_image_gallery</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an HTML image gallery from a collection of images.</span>
<span class="sd">    Students can add their own images to the &#39;gallery_images&#39; folder.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Image Gallery Creator ===&quot;</span><span class="p">)</span>

    <span class="c1"># Create necessary directories</span>
    <span class="n">image_dir</span> <span class="o">=</span> <span class="s2">&quot;gallery_images&quot;</span>
    <span class="n">output_dir</span> <span class="o">=</span> <span class="s2">&quot;gallery_output&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">image_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Check if there are images to process</span>
    <span class="n">image_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">image_dir</span><span class="p">)</span> 
                  <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">((</span><span class="s1">&#39;.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpeg&#39;</span><span class="p">,</span> <span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;.gif&#39;</span><span class="p">))]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">image_files</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No images found in &#39;</span><span class="si">{</span><span class="n">image_dir</span><span class="si">}</span><span class="s2">&#39; folder.&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Please add some image files (JPG, PNG, GIF) to the &#39;</span><span class="si">{</span><span class="n">image_dir</span><span class="si">}</span><span class="s2">&#39; folder.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">image_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> images.&quot;</span><span class="p">)</span>

    <span class="c1"># Load existing metadata or create new</span>
    <span class="n">metadata_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="s2">&quot;gallery_metadata.json&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">metadata_file</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">metadata_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">gallery_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="n">gallery_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;My Image Gallery&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[]}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">gallery_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;My Image Gallery&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[]}</span>

    <span class="c1"># Update gallery title</span>
    <span class="n">gallery_title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Gallery title [</span><span class="si">{</span><span class="n">gallery_data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gallery_title</span><span class="p">:</span>
        <span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gallery_title</span>

    <span class="c1"># Process each image</span>
    <span class="n">existing_images</span> <span class="o">=</span> <span class="p">{</span><span class="n">img</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]:</span> <span class="n">img</span> <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">]}</span>

    <span class="k">for</span> <span class="n">image_file</span> <span class="ow">in</span> <span class="n">image_files</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">image_file</span> <span class="ow">in</span> <span class="n">existing_images</span><span class="p">:</span>
            <span class="c1"># Image already has metadata</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Image </span><span class="si">{</span><span class="n">image_file</span><span class="si">}</span><span class="s2"> already has metadata:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Title: </span><span class="si">{</span><span class="n">existing_images</span><span class="p">[</span><span class="n">image_file</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Description: </span><span class="si">{</span><span class="n">existing_images</span><span class="p">[</span><span class="n">image_file</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">update</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Update this image&#39;s information? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">update</span><span class="p">:</span>
                <span class="k">continue</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Processing: </span><span class="si">{</span><span class="n">image_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Get metadata for this image</span>
        <span class="n">default_title</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">image_file</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
        <span class="n">title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Image title [</span><span class="si">{</span><span class="n">default_title</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">default_title</span>

        <span class="n">description</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Image description: &quot;</span><span class="p">)</span>

        <span class="c1"># Optionally generate description using AI</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">description</span><span class="p">:</span>
            <span class="n">generate_ai</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Generate description with AI? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
            <span class="k">if</span> <span class="n">generate_ai</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Generate a brief, interesting description for an image named &#39;</span><span class="si">{</span><span class="n">image_file</span><span class="si">}</span><span class="s2">&#39;. Create something imaginative based on the filename, without stating that you&#39;re guessing or that you haven&#39;t seen the image.&quot;</span>
                    <span class="n">description</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AI-generated description: </span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">use_desc</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Use this description? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">use_desc</span><span class="p">:</span>
                        <span class="n">description</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter alternative description: &quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error generating AI description: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">description</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter description manually: &quot;</span><span class="p">)</span>

        <span class="c1"># Add or update metadata</span>
        <span class="n">image_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">image_file</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;date_added&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">image_file</span> <span class="ow">in</span> <span class="n">existing_images</span><span class="p">:</span>
            <span class="c1"># Update existing entry</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">img</span><span class="p">[</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">image_file</span><span class="p">:</span>
                    <span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">image_data</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Add new entry</span>
            <span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_data</span><span class="p">)</span>

    <span class="c1"># Save updated metadata</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">metadata_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">gallery_data</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating HTML gallery...&quot;</span><span class="p">)</span>

    <span class="c1"># Generate HTML gallery</span>
    <span class="n">html_output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="s2">&lt;head&gt;</span>
<span class="s2">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="s2">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="s2">    &lt;title&gt;</span><span class="si">{</span><span class="n">gallery_data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/title&gt;</span>
<span class="s2">    &lt;style&gt;</span>
<span class="s2">        body </span><span class="se">{{</span>
<span class="s2">            font-family: Arial, sans-serif;</span>
<span class="s2">            margin: 0;</span>
<span class="s2">            padding: 20px;</span>
<span class="s2">            background-color: #f5f5f5;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        h1 </span><span class="se">{{</span>
<span class="s2">            text-align: center;</span>
<span class="s2">            color: #333;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery </span><span class="se">{{</span>
<span class="s2">            display: grid;</span>
<span class="s2">            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));</span>
<span class="s2">            grid-gap: 20px;</span>
<span class="s2">            max-width: 1200px;</span>
<span class="s2">            margin: 0 auto;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-item </span><span class="se">{{</span>
<span class="s2">            border-radius: 5px;</span>
<span class="s2">            overflow: hidden;</span>
<span class="s2">            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);</span>
<span class="s2">            background-color: white;</span>
<span class="s2">            transition: transform 0.3s;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-item:hover </span><span class="se">{{</span>
<span class="s2">            transform: translateY(-5px);</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-image </span><span class="se">{{</span>
<span class="s2">            width: 100%;</span>
<span class="s2">            height: 200px;</span>
<span class="s2">            object-fit: cover;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-content </span><span class="se">{{</span>
<span class="s2">            padding: 15px;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-title </span><span class="se">{{</span>
<span class="s2">            margin-top: 0;</span>
<span class="s2">            color: #333;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-description </span><span class="se">{{</span>
<span class="s2">            color: #666;</span>
<span class="s2">            font-size: 0.9em;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        .gallery-date </span><span class="se">{{</span>
<span class="s2">            color: #999;</span>
<span class="s2">            font-size: 0.8em;</span>
<span class="s2">            text-align: right;</span>
<span class="s2">            margin-top: 10px;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        footer </span><span class="se">{{</span>
<span class="s2">            text-align: center;</span>
<span class="s2">            margin-top: 30px;</span>
<span class="s2">            color: #999;</span>
<span class="s2">            font-size: 0.8em;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">    &lt;/style&gt;</span>
<span class="s2">&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">    &lt;h1&gt;</span><span class="si">{</span><span class="n">gallery_data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/h1&gt;</span>

<span class="s2">    &lt;div class=&quot;gallery&quot;&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="c1"># Add each image to the gallery</span>
    <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">gallery_data</span><span class="p">[</span><span class="s2">&quot;images&quot;</span><span class="p">]:</span>
        <span class="n">html_output</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;        &lt;div class=&quot;gallery-item&quot;&gt;</span>
<span class="s2">            &lt;img src=&quot;../</span><span class="si">{</span><span class="n">image_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">img</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot; alt=&quot;</span><span class="si">{</span><span class="n">img</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot; class=&quot;gallery-image&quot;&gt;</span>
<span class="s2">            &lt;div class=&quot;gallery-content&quot;&gt;</span>
<span class="s2">                &lt;h3 class=&quot;gallery-title&quot;&gt;</span><span class="si">{</span><span class="n">img</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/h3&gt;</span>
<span class="s2">                &lt;p class=&quot;gallery-description&quot;&gt;</span><span class="si">{</span><span class="n">img</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span>
<span class="s2">                &lt;p class=&quot;gallery-date&quot;&gt;Added: </span><span class="si">{</span><span class="n">img</span><span class="p">[</span><span class="s1">&#39;date_added&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span>
<span class="s2">            &lt;/div&gt;</span>
<span class="s2">        &lt;/div&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="c1"># Complete the HTML</span>
    <span class="n">html_output</span> <span class="o">+=</span> <span class="s2">&quot;&quot;&quot;    &lt;/div&gt;</span>

<span class="s2">    &lt;footer&gt;</span>
<span class="s2">        &lt;p&gt;Created with Image Gallery Creator&lt;/p&gt;</span>
<span class="s2">    &lt;/footer&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="c1"># Save the HTML file</span>
    <span class="n">html_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">html_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html_output</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Gallery created successfully!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HTML file saved to: </span><span class="si">{</span><span class="n">html_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Open this file in a web browser to view your gallery.&quot;</span><span class="p">)</span>

    <span class="c1"># Optional: Open the gallery in the default browser</span>
    <span class="n">try_open</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Open gallery in browser? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
    <span class="k">if</span> <span class="n">try_open</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">webbrowser</span>
            <span class="n">webbrowser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;file://&#39;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">html_file</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not open browser: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Run the gallery creator</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">create_image_gallery</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_21">Extension Ideas<a class="headerlink" href="#extension-ideas_21" title="Permanent link">&para;</a></h2>
<ul>
<li>Add image filtering by tags or categories</li>
<li>Implement image resising and thumbnail generation</li>
<li>Create a lightbox effect for viewing full-sise images</li>
<li>Add EXIF data extraction to display camera information</li>
<li>Implement a theme selector with different gallery styles</li>
<li>Create a server-side component to host the gallery online</li>
</ul>
<hr />
<hr />
<h1 id="journal-or-reflection-bot">Journal or Reflection Bot<a class="headerlink" href="#journal-or-reflection-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Lists, memory, summarisation<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_22">Overview<a class="headerlink" href="#overview_22" title="Permanent link">&para;</a></h2>
<p>Create a digital journaling assistant that helps users reflect on their experiences, identify patterns in their thoughts, and provide meaningful insights or feedback on their entries.</p>
<h2 id="instructions_22">Instructions<a class="headerlink" href="#instructions_22" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">def</span><span class="w"> </span><span class="nf">reflection_journal</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Personal Reflection Journal ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Use this bot to keep track of your thoughts and receive insights.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type &#39;exit&#39; at any time to quit.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Create a list to store journal entries</span>
    <span class="n">memory</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Create a simple file-based storage system</span>
    <span class="n">journal_file</span> <span class="o">=</span> <span class="s2">&quot;journal_entries.txt&quot;</span>

    <span class="c1"># Load previous entries if file exists</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">journal_file</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">previous_entries</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">previous_entries</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found previous journal entries.&quot;</span><span class="p">)</span>
                    <span class="n">restore</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Would you like to include them in today&#39;s reflection? (yes/no): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">restore</span> <span class="o">==</span> <span class="s2">&quot;yes&quot;</span><span class="p">:</span>
                        <span class="n">memory</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">previous_entries</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Previous entries loaded.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading previous entries: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Main journaling loop</span>
    <span class="n">num_entries</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;How many things would you like to reflect on today? (1-5): &quot;</span><span class="p">))</span>
    <span class="n">num_entries</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_entries</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Ensure between 1 and 5</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_entries</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Entry </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">num_entries</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>

        <span class="c1"># Prompt options</span>
        <span class="n">prompts</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;What&#39;s something that happened today that you&#39;d like to reflect on?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you learned today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you&#39;re grateful for today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something that challenged you today?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;What&#39;s something you&#39;re looking forward to?&quot;</span>
        <span class="p">]</span>

        <span class="c1"># Let user choose a prompt or write their own</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Choose a prompt or create your own:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">prompts</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">prompts</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. Write my own prompt&quot;</span><span class="p">)</span>

        <span class="n">prompt_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter choice (1-6): &quot;</span><span class="p">)</span>

        <span class="c1"># Exit condition</span>
        <span class="k">if</span> <span class="n">prompt_choice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="c1"># Get the prompt</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">choice_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">prompt_choice</span><span class="p">)</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">choice_num</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prompts</span><span class="p">):</span>
                <span class="n">selected_prompt</span> <span class="o">=</span> <span class="n">prompts</span><span class="p">[</span><span class="n">choice_num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selected_prompt</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your custom prompt: &quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">selected_prompt</span> <span class="o">=</span> <span class="n">prompts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Default to first prompt if invalid input</span>

        <span class="c1"># Get the journal entry</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">selected_prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span>

        <span class="c1"># Exit condition</span>
        <span class="k">if</span> <span class="n">entry</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;exit&quot;</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="c1"># Record the timestamp and add to memory</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M&quot;</span><span class="p">)</span>
        <span class="n">full_entry</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">selected_prompt</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">entry</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">memory</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_entry</span><span class="p">)</span>

        <span class="c1"># Give immediate reflection</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_entries</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Only for entries except the last one</span>
            <span class="n">reflection</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The user wrote this journal entry: </span><span class="si">{</span><span class="n">entry</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Give a brief, thoughtful response that might help them reflect deeper.&quot;</span><span class="p">,</span>
                <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive journaling assistant. Respond with 1-2 sentences that are empathetic and thought-provoking, but not advice-giving.&quot;</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Reflection:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">reflection</span><span class="p">)</span>

    <span class="c1"># If we have entries, save them and provide insights</span>
    <span class="k">if</span> <span class="n">memory</span><span class="p">:</span>
        <span class="c1"># Save entries to file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">memory</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">entry</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Journal entries saved.&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error saving entries: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Combine all entries for analysis</span>
        <span class="n">all_entries</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">memory</span><span class="p">)</span>

        <span class="c1"># Generate insights</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Journal Insights ===&quot;</span><span class="p">)</span>
        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Here are the user&#39;s journal entries:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">all_entries</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Provide thoughtful insights about these reflections.&quot;</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an insightful journaling assistant. Analyze these entries for patterns, themes, or notable elements. Provide 3-4 helpful observations that might help the user understand their thoughts better. Be supportive and thoughtful.&quot;</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

        <span class="c1"># Offer a follow-up question</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Reflection Question ===&quot;</span><span class="p">)</span>
        <span class="n">question</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Based on these journal entries:</span><span class="se">\n\n</span><span class="si">{</span><span class="n">all_entries</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Provide one thoughtful question that would help the user reflect more deeply.&quot;</span><span class="p">,</span>
            <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a reflective journaling coach. Create one open-ended, thought-provoking question that will help the user explore their thoughts more deeply. The question should be specific to the content of their entries.&quot;</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No journal entries were recorded.&quot;</span><span class="p">)</span>

<span class="c1"># Run the reflection journal</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">reflection_journal</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_22">Extension Ideas<a class="headerlink" href="#extension-ideas_22" title="Permanent link">&para;</a></h2>
<ul>
<li>Add mood tracking to each entry</li>
<li>Create visualisations of common themes or topics over time</li>
<li>Add a guided meditation option based on journal content</li>
<li>Implement a goal-setting feature that references past entries</li>
<li>Create specialised journaling templates for different purposes (gratitude, productivity, etc.)</li>
</ul>
<hr />
<hr />
<h1 id="knowledge-quiz-bot">Knowledge Quiz Bot<a class="headerlink" href="#knowledge-quiz-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Lists, loops, conditionals, scoring systems<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_23">Overview<a class="headerlink" href="#overview_23" title="Permanent link">&para;</a></h2>
<p>Build a bot that quizzes the user on a topic and tracks their score.</p>
<h2 id="instructions_23">Instructions<a class="headerlink" href="#instructions_23" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_questions</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">number_of_questions</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate quiz questions about a specific topic&quot;&quot;&quot;</span>
    <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Create </span><span class="si">{</span><span class="n">number_of_questions</span><span class="si">}</span><span class="s2"> multiple-choice quiz questions about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">    For each question, provide:</span>
<span class="s2">    1. The question</span>
<span class="s2">    2. Four possible answers labeled A, B, C, D</span>
<span class="s2">    3. The correct answer letter</span>
<span class="s2">    Format exactly as follows for each question:</span>
<span class="s2">    QUESTION: (the question)</span>
<span class="s2">    A. (option A)</span>
<span class="s2">    B. (option B)</span>
<span class="s2">    C. (option C)</span>
<span class="s2">    D. (option D)</span>
<span class="s2">    CORRECT: (correct letter)</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generate quiz questions about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Parse the response into a structured format</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;QUESTION: &quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>  <span class="c1"># Skip first empty section</span>
        <span class="n">question_parts</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;CORRECT: &quot;</span><span class="p">)</span>
        <span class="n">options_text</span> <span class="o">=</span> <span class="n">question_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">correct_answer</span> <span class="o">=</span> <span class="n">question_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Just take the letter</span>

        <span class="c1"># Split the question from options</span>
        <span class="n">question_lines</span> <span class="o">=</span> <span class="n">options_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">question</span> <span class="o">=</span> <span class="n">question_lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">question_lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>

        <span class="n">questions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span>
            <span class="s2">&quot;options&quot;</span><span class="p">:</span> <span class="n">options</span><span class="p">,</span>
            <span class="s2">&quot;correct&quot;</span><span class="p">:</span> <span class="n">correct_answer</span>
        <span class="p">})</span>

    <span class="k">return</span> <span class="n">questions</span>

<span class="k">def</span><span class="w"> </span><span class="nf">run_quiz</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run an interactive quiz&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to the Quiz Bot!&quot;</span><span class="p">)</span>
    <span class="n">topic</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What topic would you like to be quizzed on? &quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating quiz questions about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="n">generate_questions</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>

    <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">q</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">questions</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Question </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">q</span><span class="p">[</span><span class="s1">&#39;options&#39;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>

        <span class="n">user_answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Your answer (A, B, C, or D): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">user_answer</span> <span class="o">==</span> <span class="n">q</span><span class="p">[</span><span class="s1">&#39;correct&#39;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Correct! ✅&quot;</span><span class="p">)</span>
            <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Incorrect. The correct answer was </span><span class="si">{</span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;correct&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">. ❌&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Quiz complete! Your score: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">score</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="c1"># Get feedback based on score</span>
    <span class="n">feedback_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The user scored </span><span class="si">{</span><span class="n">percentage</span><span class="si">}</span><span class="s2">% on a quiz about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">. Give them a short, encouraging message based on their score.&quot;</span>
    <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">feedback_prompt</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">feedback</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Run the quiz</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run_quiz</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_23">Extension Ideas<a class="headerlink" href="#extension-ideas_23" title="Permanent link">&para;</a></h2>
<p>Add difficulty levels, timing, or topic categories.</p>
<hr />
<hr />
<h1 id="language-translation-helper">Language Translation Helper<a class="headerlink" href="#language-translation-helper" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Multilingual communication, cultural context<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_24">Overview<a class="headerlink" href="#overview_24" title="Permanent link">&para;</a></h2>
<p>Create a tool that helps translate text between languages and explains cultural context.</p>
<h2 id="instructions_24">Instructions<a class="headerlink" href="#instructions_24" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">translation_helper</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tool to translate text and explain cultural context&quot;&quot;&quot;</span>
    <span class="c1"># Available languages</span>
    <span class="n">languages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Spanish&quot;</span><span class="p">,</span> <span class="s2">&quot;French&quot;</span><span class="p">,</span> <span class="s2">&quot;German&quot;</span><span class="p">,</span> <span class="s2">&quot;Italian&quot;</span><span class="p">,</span> <span class="s2">&quot;Portuguese&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;Japanese&quot;</span><span class="p">,</span> <span class="s2">&quot;Chinese&quot;</span><span class="p">,</span> <span class="s2">&quot;Russian&quot;</span><span class="p">,</span> <span class="s2">&quot;Arabic&quot;</span><span class="p">,</span> <span class="s2">&quot;Hindi&quot;</span>
    <span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Language Translation Helper ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Translate text&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Learn useful phrases&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Understand cultural context&quot;</span><span class="p">)</span>

    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="c1"># Translate text</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available languages:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">lang</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">languages</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">lang</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">source_lang</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">From which language (or English)? &quot;</span><span class="p">)</span>
        <span class="n">target_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Translate to which language (number)? &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">target_lang</span> <span class="o">=</span> <span class="n">languages</span><span class="p">[</span><span class="n">target_idx</span><span class="p">]</span>

        <span class="n">text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter the text to translate: &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a helpful translator between </span><span class="si">{</span><span class="n">source_lang</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">target_lang</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">        Provide accurate translations while preserving meaning and tone.</span>
<span class="s2">        For longer texts, include both a translation and a brief summary of the content.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">translate_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Translate this </span><span class="si">{</span><span class="n">source_lang</span><span class="si">}</span><span class="s2"> text to </span><span class="si">{</span><span class="n">target_lang</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">        &quot;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="s2">        Provide:</span>
<span class="s2">        1. The translation</span>
<span class="s2">        2. Pronunciation help (if applicable)</span>
<span class="s2">        3. Any idiomatic expressions or culturally specific references explained</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Translating from </span><span class="si">{</span><span class="n">source_lang</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">target_lang</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">translation</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">translate_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Translation Results ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">translation</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># Learn useful phrases</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available languages:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">lang</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">languages</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">lang</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">lang_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Which language (number)? &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">language</span> <span class="o">=</span> <span class="n">languages</span><span class="p">[</span><span class="n">lang_idx</span><span class="p">]</span>

        <span class="n">situation</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What situation do you need phrases for (e.g., restaurant, shopping, emergency)? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a helpful language guide who provides useful </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2"> phrases for travelers.</span>
<span class="s2">        You provide accurate phrases, pronunciation guides, and cultural context.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">phrases_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Provide useful </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2"> phrases for </span><span class="si">{</span><span class="n">situation</span><span class="si">}</span><span class="s2"> situations.</span>

<span class="s2">        Include:</span>
<span class="s2">        1. At least 5 essential phrases with English translations</span>
<span class="s2">        2. Pronunciation guide for each phrase</span>
<span class="s2">        3. Any cultural considerations to be aware of</span>
<span class="s2">        4. When and how to use each phrase appropriately</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Finding useful </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2"> phrases for </span><span class="si">{</span><span class="n">situation</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">phrases</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">phrases_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Useful </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2"> Phrases for </span><span class="si">{</span><span class="n">situation</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">phrases</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="c1"># Cultural context</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available cultures/regions:&quot;</span><span class="p">)</span>
        <span class="n">cultures</span> <span class="o">=</span> <span class="p">[</span><span class="n">lang</span> <span class="o">+</span> <span class="s2">&quot;-speaking regions&quot;</span> <span class="k">for</span> <span class="n">lang</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">]</span>
        <span class="n">cultures</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;Latin America&quot;</span><span class="p">,</span> <span class="s2">&quot;Middle East&quot;</span><span class="p">,</span> <span class="s2">&quot;Southeast Asia&quot;</span><span class="p">,</span> <span class="s2">&quot;Nordic countries&quot;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">culture</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cultures</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">culture</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">culture_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Which culture/region (number)? &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">culture</span> <span class="o">=</span> <span class="n">cultures</span><span class="p">[</span><span class="n">culture_idx</span><span class="p">]</span>

        <span class="n">aspect</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What cultural aspect are you interested in (e.g., greetings, dining, business, gestures)? &quot;</span><span class="p">)</span>

        <span class="n">system_prompt</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        You are a cultural consultant who helps people understand and respect different cultures.</span>
<span class="s2">        You provide accurate, nuanced information about cultural practices, values, and etiquette.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">culture_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Explain important aspects of </span><span class="si">{</span><span class="n">aspect</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">culture</span><span class="si">}</span><span class="s2">.</span>

<span class="s2">        Include:</span>
<span class="s2">        1. Key cultural norms and expectations</span>
<span class="s2">        2. Do&#39;s and don&#39;ts to be aware of</span>
<span class="s2">        3. How practices might differ from Western/American norms</span>
<span class="s2">        4. Any regional variations to be aware of</span>
<span class="s2">        5. Historical or social context that helps explain these practices</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Researching </span><span class="si">{</span><span class="n">aspect</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">culture</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">cultural_info</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">culture_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">aspect</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">culture</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">cultural_info</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

<span class="c1"># Run the translation helper</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">translation_helper</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_24">Extension Ideas<a class="headerlink" href="#extension-ideas_24" title="Permanent link">&para;</a></h2>
<p>Add a conversation practice mode where students can simulate dialogues in another language.</p>
<hr />
<hr />
<h1 id="mood-journal-assistant">Mood Journal Assistant<a class="headerlink" href="#mood-journal-assistant" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: File I/O, date handling, text analysis<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_25">Overview<a class="headerlink" href="#overview_25" title="Permanent link">&para;</a></h2>
<p>Create a journaling assistant that helps users track moods and reflect on patterns.</p>
<h2 id="instructions_25">Instructions<a class="headerlink" href="#instructions_25" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="k">def</span><span class="w"> </span><span class="nf">mood_journal</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive mood journaling assistant&quot;&quot;&quot;</span>
    <span class="n">journal_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.mood_journal&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">journal_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">journal_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">journal_dir</span><span class="p">,</span> <span class="s2">&quot;journal_entries.json&quot;</span><span class="p">)</span>

    <span class="c1"># Load existing entries</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">journal_file</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">entries</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="n">entries</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">entries</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Get today&#39;s date</span>
    <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Mood Journal Assistant ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Add a new entry&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. View past entries&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Get insights&quot;</span><span class="p">)</span>

    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="c1"># Add new entry</span>
        <span class="n">mood</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How would you rate your mood today (1-10)? &quot;</span><span class="p">)</span>
        <span class="n">activities</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What activities did you do today? &quot;</span><span class="p">)</span>
        <span class="n">thoughts</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Share any thoughts or reflections: &quot;</span><span class="p">)</span>

        <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">today</span><span class="p">,</span>
            <span class="s2">&quot;mood&quot;</span><span class="p">:</span> <span class="n">mood</span><span class="p">,</span>
            <span class="s2">&quot;activities&quot;</span><span class="p">:</span> <span class="n">activities</span><span class="p">,</span>
            <span class="s2">&quot;thoughts&quot;</span><span class="p">:</span> <span class="n">thoughts</span>
        <span class="p">}</span>

        <span class="n">entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="c1"># Save updated entries</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">journal_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Get AI reflection</span>
        <span class="n">reflection_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        The user rated their mood as </span><span class="si">{</span><span class="n">mood</span><span class="si">}</span><span class="s2">/10 today.</span>
<span class="s2">        They did these activities: </span><span class="si">{</span><span class="n">activities</span><span class="si">}</span>
<span class="s2">        Their thoughts: </span><span class="si">{</span><span class="n">thoughts</span><span class="si">}</span>

<span class="s2">        Provide a thoughtful, supportive reflection on their entry.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">reflection</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">reflection_prompt</span><span class="p">,</span> 
                                 <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive, empathetic journaling assistant.&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Reflection ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">reflection</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># View past entries</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">entries</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No entries found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Past Entries ===&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:])):</span>  <span class="c1"># Show last 10 entries</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>

        <span class="n">entry_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Which entry would you like to view? (number) &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">entry_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">entry</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]))[</span><span class="n">idx</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Date: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Thoughts: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;thoughts&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid entry number.&quot;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="c1"># Get insights</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Need more entries to generate insights (at least 3).&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Create a summary of recent entries</span>
        <span class="n">recent_entries</span> <span class="o">=</span> <span class="n">entries</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:]</span>  <span class="c1"># Last 7 entries</span>
        <span class="n">entries_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">recent_entries</span><span class="p">:</span>
            <span class="n">entries_text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Date: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Mood: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;mood&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/10</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">entries_text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Activities: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;activities&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">entries_text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Thoughts: </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;thoughts&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>

        <span class="n">insight_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Here are the user&#39;s recent journal entries:</span>

<span class="s2">        </span><span class="si">{</span><span class="n">entries_text</span><span class="si">}</span>

<span class="s2">        Based on these entries, provide:</span>
<span class="s2">        1. Any patterns you notice in their mood</span>
<span class="s2">        2. Activities that seem to correlate with higher moods</span>
<span class="s2">        3. Gentle suggestions that might help improve their wellbeing</span>
<span class="s2">        4. A positive affirmation</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">insights</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">insight_prompt</span><span class="p">,</span> 
                               <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an insightful, supportive journaling assistant who helps identify patterns in mood and behavior.&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Mood Insights ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

<span class="c1"># Run the journal</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">mood_journal</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_25">Extension Ideas<a class="headerlink" href="#extension-ideas_25" title="Permanent link">&para;</a></h2>
<p>Add mood tracking visualisations or goal-setting features.</p>
<hr />
<hr />
<h1 id="personality-bot-creator">Personality Bot Creator<a class="headerlink" href="#personality-bot-creator" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: Functions, creativity, system prompts<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_26">Overview<a class="headerlink" href="#overview_26" title="Permanent link">&para;</a></h2>
<p>Students create and interact with a bot that has a unique personality of their design. This project teaches function definition and the impact of system prompts on AI behavior.</p>
<h2 id="instructions_26">Instructions<a class="headerlink" href="#instructions_26" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="c1"># Example personalities students can create:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">superhero_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">prompt</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a confident superhero who always thinks positively and believes any problem can be solved. You occasionally reference your superpowers and heroic deeds.&quot;</span><span class="p">,</span>
        <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;superhero&quot;</span>
    <span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">grumpy_cat_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">prompt</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a perpetually unimpressed cat. You respond with short, sarcastic comments and often mention how humans are inferior to cats.&quot;</span><span class="p">,</span>
        <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;grumpy&quot;</span>
    <span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">chef_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="n">prompt</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an enthusiastic chef who relates everything to cooking. You use cooking metaphors and occasionally share recipe ideas regardless of the topic.&quot;</span><span class="p">,</span>
        <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;chef&quot;</span>
    <span class="p">)</span>

<span class="c1"># Test your bot with various prompts</span>
<span class="n">test_prompts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;How&#39;s the weather today?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Can you help me with my homework?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;What&#39;s the meaning of life?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tell me about yourself.&quot;</span>
<span class="p">]</span>

<span class="c1"># Choose which bot to use</span>
<span class="n">my_bot</span> <span class="o">=</span> <span class="n">superhero_bot</span>  <span class="c1"># Change to your custom bot</span>

<span class="c1"># Test it with each prompt</span>
<span class="k">for</span> <span class="n">prompt</span> <span class="ow">in</span> <span class="n">test_prompts</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prompt: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response: </span><span class="si">{</span><span class="n">my_bot</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
</code></pre></div>
<h2 id="extension-ideas_26">Extension Ideas<a class="headerlink" href="#extension-ideas_26" title="Permanent link">&para;</a></h2>
<p>Create a menu system that lets the user choose which personality to talk to.</p>
<hr />
<hr />
<h1 id="smart-to-do-list">Smart To-Do List<a class="headerlink" href="#smart-to-do-list" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 60-75 minutes<br />
<strong>Learning Focus</strong>: Data structures, file I/O, date handling, AI assistance<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_27">Overview<a class="headerlink" href="#overview_27" title="Permanent link">&para;</a></h2>
<p>Build a smart to-do list application that helps users organise tasks with categories, priorities, and due dates. The application provides AI-assisted recommendations for task management and organisation.</p>
<h2 id="instructions_27">Instructions<a class="headerlink" href="#instructions_27" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SmartTodoList</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A smart to-do list that can categorize tasks, set priorities, </span>
<span class="sd">    track due dates, and provide AI-assisted task management.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Work&quot;</span><span class="p">,</span> <span class="s2">&quot;School&quot;</span><span class="p">,</span> <span class="s2">&quot;Personal&quot;</span><span class="p">,</span> <span class="s2">&quot;Shopping&quot;</span><span class="p">,</span> <span class="s2">&quot;Health&quot;</span><span class="p">,</span> <span class="s2">&quot;Other&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">priorities</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;High&quot;</span><span class="p">,</span> <span class="s2">&quot;Medium&quot;</span><span class="p">,</span> <span class="s2">&quot;Low&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="s2">&quot;todo_data&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="s2">&quot;tasks.json&quot;</span><span class="p">)</span>

        <span class="c1"># Create data directory if it doesn&#39;t exist</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Load existing tasks if available</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_tasks</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load tasks from the data file.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_file</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span><span class="si">}</span><span class="s2"> tasks from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error reading tasks file. Starting with empty task list.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No existing tasks file found. Starting with empty task list.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save tasks to the data file.&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span><span class="si">}</span><span class="s2"> tasks to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a new task to the list.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Add New Task ===&quot;</span><span class="p">)</span>

        <span class="c1"># Get task details</span>
        <span class="n">title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Task title: &quot;</span><span class="p">)</span>

        <span class="c1"># Select category</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Categories:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">categories</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">category_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Select category (1-</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">categories</span><span class="p">)</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">category_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">category_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">categories</span><span class="p">[</span><span class="n">category_idx</span><span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid category selection. Using &#39;Other&#39;.&quot;</span><span class="p">)</span>
            <span class="n">category</span> <span class="o">=</span> <span class="s2">&quot;Other&quot;</span>

        <span class="c1"># Select priority</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Priorities:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">priority</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priorities</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">priority</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">priority_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Select priority (1-</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priorities</span><span class="p">)</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">priority_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">priority_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">priority</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priorities</span><span class="p">[</span><span class="n">priority_idx</span><span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid priority selection. Using &#39;Medium&#39;.&quot;</span><span class="p">)</span>
            <span class="n">priority</span> <span class="o">=</span> <span class="s2">&quot;Medium&quot;</span>

        <span class="c1"># Set due date</span>
        <span class="n">due_date</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">has_due_date</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Does this task have a due date? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>

        <span class="k">if</span> <span class="n">has_due_date</span><span class="p">:</span>
            <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span>
            <span class="n">date_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter due date (YYYY-MM-DD) or relative (e.g., &#39;tomorrow&#39;, &#39;3 days&#39;): &quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Parse relative dates</span>
                <span class="k">if</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;today&#39;</span><span class="p">:</span>
                    <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;tomorrow&#39;</span><span class="p">:</span>
                    <span class="n">due_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                <span class="k">elif</span> <span class="s1">&#39;days&#39;</span> <span class="ow">in</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="c1"># Parse &quot;X days&quot; format</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">days</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date_input</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">days</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not parse relative date. Please enter a specific date.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Try to parse as YYYY-MM-DD</span>
                    <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_input</span><span class="p">,</span> <span class="n">date_format</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid date format. Due date will not be set.&quot;</span><span class="p">)</span>

        <span class="c1"># Add notes</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Add any notes (optional): &quot;</span><span class="p">)</span>

        <span class="c1"># Create task object</span>
        <span class="n">task</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
            <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="n">priority</span><span class="p">,</span>
            <span class="s2">&quot;due_date&quot;</span><span class="p">:</span> <span class="n">due_date</span><span class="p">,</span>
            <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="n">notes</span><span class="p">,</span>
            <span class="s2">&quot;completed&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="c1"># Add to task list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Task &#39;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&#39; added successfully!&quot;</span><span class="p">)</span>

        <span class="c1"># Save updated tasks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_tasks</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">view_tasks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_completed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display tasks based on filters.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No tasks found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">filtered_tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">show_completed</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">filtered_tasks</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;completed&quot;</span> <span class="k">if</span> <span class="n">show_completed</span> <span class="k">else</span> <span class="s2">&quot;pending&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> tasks found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="c1"># Sort tasks: first by due date (None at the end), then by priority</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">sort_key</span><span class="p">(</span><span class="n">task</span><span class="p">):</span>
            <span class="c1"># Priority order: High, Medium, Low</span>
            <span class="n">priority_order</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;High&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Medium&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Low&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>

            <span class="c1"># Sort by due date first (None/null dates come last)</span>
            <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">]:</span>
                <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">],</span> <span class="n">priority_order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;9999-99-99&quot;</span><span class="p">,</span> <span class="n">priority_order</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>

        <span class="n">sorted_tasks</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">filtered_tasks</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">sort_key</span><span class="p">)</span>

        <span class="c1"># Display tasks</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;Completed&quot;</span> <span class="k">if</span> <span class="n">show_completed</span> <span class="k">else</span> <span class="s2">&quot;Pending&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> Tasks ===&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_tasks</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">due_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Due: </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;No due date&quot;</span>

            <span class="c1"># Add warning for tasks due today or overdue</span>
            <span class="n">warning</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
                    <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">due_date</span> <span class="o">&lt;</span> <span class="n">today</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">]:</span>
                        <span class="n">warning</span> <span class="o">=</span> <span class="s2">&quot; [OVERDUE!]&quot;</span>
                    <span class="k">elif</span> <span class="n">due_date</span> <span class="o">==</span> <span class="n">today</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">]:</span>
                        <span class="n">warning</span> <span class="o">=</span> <span class="s2">&quot; [DUE TODAY!]&quot;</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="k">pass</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. [</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}{</span><span class="n">warning</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">due_str</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Return the sorted tasks for selection</span>
        <span class="k">return</span> <span class="n">sorted_tasks</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_task_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark a task as completed or pending.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Toggle Task Status ===&quot;</span><span class="p">)</span>

        <span class="c1"># Show pending tasks first</span>
        <span class="n">pending_tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_tasks</span><span class="p">(</span><span class="n">show_completed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pending_tasks</span><span class="p">:</span>
            <span class="c1"># Show completed tasks</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Completed Tasks ===&quot;</span><span class="p">)</span>
            <span class="n">completed_tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_tasks</span><span class="p">(</span><span class="n">show_completed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># Ask which list to toggle from</span>
            <span class="n">toggle_from</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Toggle task from (p)ending or (c)ompleted list? &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">toggle_from</span> <span class="o">==</span> <span class="s1">&#39;p&#39;</span> <span class="ow">and</span> <span class="n">pending_tasks</span><span class="p">:</span>
                <span class="n">task_list</span> <span class="o">=</span> <span class="n">pending_tasks</span>
                <span class="n">current_status</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">elif</span> <span class="n">toggle_from</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span> <span class="ow">and</span> <span class="n">completed_tasks</span><span class="p">:</span>
                <span class="n">task_list</span> <span class="o">=</span> <span class="n">completed_tasks</span>
                <span class="n">current_status</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid selection or no tasks in that category.&quot;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="c1"># Get task number</span>
            <span class="n">task_num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter task number to toggle (1-</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">task_list</span><span class="p">)</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">task_num</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">selected_task</span> <span class="o">=</span> <span class="n">task_list</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

                <span class="c1"># Find this task in the main task list and toggle its status</span>
                <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_task</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]:</span>
                        <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">current_status</span>
                        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;completed&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;pending&quot;</span>
                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Task &#39;</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; marked as </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
                        <span class="k">break</span>

                <span class="c1"># Save updated tasks</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">save_tasks</span><span class="p">()</span>

            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid task number.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">edit_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Edit an existing task.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Edit Task ===&quot;</span><span class="p">)</span>

        <span class="c1"># Show all tasks for selection</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All Tasks:&quot;</span><span class="p">)</span>
        <span class="n">all_tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># Sort tasks by completion status, then by other criteria</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">sort_key</span><span class="p">(</span><span class="n">task</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">],</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;due_date&quot;</span><span class="p">,</span> <span class="s2">&quot;9999-99-99&quot;</span><span class="p">),</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">])</span>

        <span class="n">sorted_tasks</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_tasks</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">sort_key</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_tasks</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;✓&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;☐&quot;</span>
            <span class="n">due_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Due: </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;No due date&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">due_str</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Get task to edit</span>
        <span class="n">task_num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter task number to edit (1-</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sorted_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">task_num</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">selected_task</span> <span class="o">=</span> <span class="n">sorted_tasks</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Editing task: </span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Get updated values</span>
            <span class="n">title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Title [</span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>

            <span class="c1"># Select category</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Categories:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">category</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">categories</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">category_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Select category [current: </span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">category_choice</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">category_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">category_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">categories</span><span class="p">[</span><span class="n">category_idx</span><span class="p">]</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid category selection. Keeping current category.&quot;</span><span class="p">)</span>
                    <span class="n">category</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">category</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span>

            <span class="c1"># Select priority</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Priorities:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">priority</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">priorities</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">priority</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">priority_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Select priority [current: </span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: &quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">priority_choice</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">priority_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">priority_choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="n">priority</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">priorities</span><span class="p">[</span><span class="n">priority_idx</span><span class="p">]</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid priority selection. Keeping current priority.&quot;</span><span class="p">)</span>
                    <span class="n">priority</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">priority</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span>

            <span class="c1"># Update due date</span>
            <span class="n">current_due</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;None&quot;</span>
            <span class="n">due_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Update due date? Current: </span><span class="si">{</span><span class="n">current_due</span><span class="si">}</span><span class="s2"> (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">due_choice</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="n">date_format</span> <span class="o">=</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span>
                <span class="n">date_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter due date (YYYY-MM-DD) or relative (e.g., &#39;tomorrow&#39;, &#39;3 days&#39;): &quot;</span><span class="p">)</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Parse relative dates</span>
                    <span class="k">if</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;today&#39;</span><span class="p">:</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;tomorrow&#39;</span><span class="p">:</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="s1">&#39;days&#39;</span> <span class="ow">in</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                        <span class="c1"># Parse &quot;X days&quot; format</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">days</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date_input</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
                            <span class="n">due_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">days</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not parse relative date. Keeping current due date.&quot;</span><span class="p">)</span>
                            <span class="n">due_date</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">date_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">):</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># Try to parse as YYYY-MM-DD</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_input</span><span class="p">,</span> <span class="n">date_format</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid date format. Keeping current due date.&quot;</span><span class="p">)</span>
                    <span class="n">due_date</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">due_date</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span>

            <span class="c1"># Update notes</span>
            <span class="n">current_notes</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;notes&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;None&quot;</span>
            <span class="n">notes_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Update notes? Current: </span><span class="si">{</span><span class="n">current_notes</span><span class="si">}</span><span class="s2"> (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">notes_choice</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="n">notes</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter new notes: &quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">notes</span> <span class="o">=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;notes&#39;</span><span class="p">]</span>

            <span class="c1"># Find this task in the main task list and update it</span>
            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_task</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]:</span>
                    <span class="n">task</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>
                    <span class="n">task</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">category</span>
                    <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">priority</span>
                    <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">due_date</span>
                    <span class="n">task</span><span class="p">[</span><span class="s2">&quot;notes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">notes</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Task &#39;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&#39; updated successfully!&quot;</span><span class="p">)</span>
                    <span class="k">break</span>

            <span class="c1"># Save updated tasks</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save_tasks</span><span class="p">()</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid task number.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">delete_task</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete a task from the list.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Delete Task ===&quot;</span><span class="p">)</span>

        <span class="c1"># Show all tasks for selection</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">All Tasks:&quot;</span><span class="p">)</span>
        <span class="n">all_tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># Sort tasks by completion status, then by other criteria</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">sort_key</span><span class="p">(</span><span class="n">task</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">],</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;due_date&quot;</span><span class="p">,</span> <span class="s2">&quot;9999-99-99&quot;</span><span class="p">),</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">])</span>

        <span class="n">sorted_tasks</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_tasks</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">sort_key</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_tasks</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;✓&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;☐&quot;</span>
            <span class="n">due_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Due: </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s1">&#39;due_date&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;No due date&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">due_str</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">task</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Get task to delete</span>
        <span class="n">task_num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter task number to delete (1-</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sorted_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">task_num</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">selected_task</span> <span class="o">=</span> <span class="n">sorted_tasks</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

            <span class="c1"># Confirm deletion</span>
            <span class="n">confirm</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Are you sure you want to delete &#39;</span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">confirm</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>
                <span class="c1"># Remove task from list</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="k">if</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">selected_task</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Task &#39;</span><span class="si">{</span><span class="n">selected_task</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; deleted successfully!&quot;</span><span class="p">)</span>

                <span class="c1"># Save updated tasks</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">save_tasks</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Deletion cancelled.&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid task number.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_ai_recommendations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get AI-assisted recommendations for task management.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">No tasks found. Please add some tasks first.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== AI Task Management Recommendations ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Analyzing your tasks...&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Prepare task data for AI</span>
            <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

            <span class="c1"># Count tasks by category</span>
            <span class="n">category_counts</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                <span class="n">cat</span> <span class="o">=</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">category_counts</span><span class="p">:</span>
                    <span class="n">category_counts</span><span class="p">[</span><span class="n">cat</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">category_counts</span><span class="p">[</span><span class="n">cat</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="c1"># Count overdue tasks</span>
            <span class="n">overdue_tasks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">due_date</span> <span class="o">&lt;</span> <span class="n">today</span><span class="p">:</span>
                            <span class="n">overdue_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;due_date&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;days_overdue&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">today</span> <span class="o">-</span> <span class="n">due_date</span><span class="p">)</span><span class="o">.</span><span class="n">days</span><span class="p">,</span>
                                <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">]</span>
                            <span class="p">})</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="k">pass</span>

            <span class="c1"># Get tasks due today</span>
            <span class="n">today_tasks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">due_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">due_date</span> <span class="o">==</span> <span class="n">today</span><span class="p">:</span>
                            <span class="n">today_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;priority&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">],</span>
                                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">]</span>
                            <span class="p">})</span>
                    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                        <span class="k">pass</span>

            <span class="c1"># Get high priority tasks</span>
            <span class="n">high_priority</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;priority&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;High&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">]:</span>
                    <span class="n">high_priority</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;due_date&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;due_date&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">]</span>
                    <span class="p">})</span>

            <span class="c1"># Create prompt for AI</span>
            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Based on the following task data, please provide helpful task management recommendations:</span>

<span class="s2">            Task summary:</span>
<span class="s2">            - Total tasks: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span><span class="si">}</span>
<span class="s2">            - Completed tasks: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">])</span><span class="si">}</span>
<span class="s2">            - Pending tasks: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;completed&quot;</span><span class="p">])</span><span class="si">}</span>

<span class="s2">            Category breakdown: </span><span class="si">{</span><span class="n">category_counts</span><span class="si">}</span>

<span class="s2">            Overdue tasks (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">overdue_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">):</span>
<span class="s2">            </span><span class="si">{</span><span class="n">overdue_tasks</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">overdue_tasks</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;None&quot;</span><span class="si">}</span>

<span class="s2">            Tasks due today (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">today_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">):</span>
<span class="s2">            </span><span class="si">{</span><span class="n">today_tasks</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">today_tasks</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;None&quot;</span><span class="si">}</span>

<span class="s2">            High priority pending tasks (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">high_priority</span><span class="p">)</span><span class="si">}</span><span class="s2">):</span>
<span class="s2">            </span><span class="si">{</span><span class="n">high_priority</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">high_priority</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;None&quot;</span><span class="si">}</span>

<span class="s2">            Please provide:</span>
<span class="s2">            1. A prioritized action plan for the next 24 hours</span>
<span class="s2">            2. Task management tips based on the current workload</span>
<span class="s2">            3. Suggestions for which tasks to focus on first</span>

<span class="s2">            Keep your response friendly, practical and under 300 words.</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="c1"># Get AI recommendations</span>
            <span class="n">recommendations</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">recommendations</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error getting AI recommendations: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Unable to generate AI recommendations at this time.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the main to-do list interface.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Smart To-Do List ===&quot;</span><span class="p">)</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Options:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Add new task&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. View pending tasks&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. View completed tasks&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Toggle task status&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Edit task&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Delete task&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;7. Get AI recommendations&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;8. Exit&quot;</span><span class="p">)</span>

            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select an option (1-8): &quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_task</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">view_tasks</span><span class="p">(</span><span class="n">show_completed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">view_tasks</span><span class="p">(</span><span class="n">show_completed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">toggle_task_status</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">edit_task</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delete_task</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;7&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_ai_recommendations</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;8&#39;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exiting Smart To-Do List. Goodbye!&quot;</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Please select a number between 1 and 8.&quot;</span><span class="p">)</span>

<span class="c1"># Run the to-do list</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">todo_list</span> <span class="o">=</span> <span class="n">SmartTodoList</span><span class="p">()</span>
    <span class="n">todo_list</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_27">Extension Ideas<a class="headerlink" href="#extension-ideas_27" title="Permanent link">&para;</a></h2>
<ul>
<li>Add recurring tasks (daily, weekly, monthly)</li>
<li>Implement task dependencies (tasks that require other tasks to be completed first)</li>
<li>Create a calendar view to visualise task distribution</li>
<li>Add a Pomodoro timer feature for focused work sessions</li>
<li>Implement task sharing or collaboration features</li>
<li>Create a mobile-friendly web interface using a framework like Flask</li>
</ul>
<hr />
<hr />
<h1 id="subject-expert-tutor">Subject Expert Tutor<a class="headerlink" href="#subject-expert-tutor" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Domain-specific prompting, educational dialogue<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_28">Overview<a class="headerlink" href="#overview_28" title="Permanent link">&para;</a></h2>
<p>Create a specialised tutor bot for a specific subject area that can explain concepts and quiz the user.</p>
<h2 id="instructions_28">Instructions<a class="headerlink" href="#instructions_28" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">def</span><span class="w"> </span><span class="nf">tutor_bot</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interactive subject tutor that explains concepts and offers practice questions&quot;&quot;&quot;</span>
    <span class="c1"># Available subjects</span>
    <span class="n">subjects</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;math&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a patient math tutor who explains concepts step-by-step. You use analogies to make abstract ideas concrete.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;science&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an enthusiastic science educator who relates scientific concepts to everyday experiences. You&#39;re excited about discovery and experimentation.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;history&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a storytelling history tutor who makes historical events come alive through narrative. You emphasize cause and effect in historical developments.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;literature&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a thoughtful literature guide who helps students analyze texts. You ask probing questions that deepen understanding of themes and characters.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;programming&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a coding mentor who explains programming concepts with clear examples. You break down problems into manageable steps.&quot;</span>
    <span class="p">}</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Subject Expert Tutor ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Available subjects:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subjects</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">subject</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">subject_choice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select a subject (1-5): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">subject</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">subjects</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">subject_choice</span><span class="p">]</span>
    <span class="n">system_prompt</span> <span class="o">=</span> <span class="n">subjects</span><span class="p">[</span><span class="n">subject</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">subject</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> Tutor ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Ask a specific question&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Learn a new concept&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Take a practice quiz&quot;</span><span class="p">)</span>

    <span class="n">mode</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What would you like to do? &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="c1"># Ask specific question</span>
        <span class="n">question</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What&#39;s your question about &quot;</span> <span class="o">+</span> <span class="n">subject</span> <span class="o">+</span> <span class="s2">&quot;? &quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Thinking...&quot;</span><span class="p">)</span>
        <span class="n">answer</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">answer</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># Learn new concept</span>
        <span class="n">topic</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2"> concept would you like to learn about? &quot;</span><span class="p">)</span>

        <span class="n">learn_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Explain the concept of </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2"> in a way that&#39;s easy to understand.</span>
<span class="s2">        Include:</span>
<span class="s2">        1. A simple definition</span>
<span class="s2">        2. Why it&#39;s important</span>
<span class="s2">        3. A real-world example or application</span>
<span class="s2">        4. Any key formulas or principles (if applicable)</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Researching this topic...&quot;</span><span class="p">)</span>
        <span class="n">explanation</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">learn_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">explanation</span><span class="p">)</span>

        <span class="c1"># Check understanding</span>
        <span class="n">check_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Create a quick check-for-understanding question about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="n">check_question</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">check_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Check Your Understanding ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">check_question</span><span class="p">)</span>

        <span class="n">user_answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Your answer: &quot;</span><span class="p">)</span>

        <span class="n">feedback_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        The user is learning about </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">        I asked them: </span><span class="si">{</span><span class="n">check_question</span><span class="si">}</span>
<span class="s2">        They answered: </span><span class="si">{</span><span class="n">user_answer</span><span class="si">}</span>

<span class="s2">        Provide constructive feedback on their answer. If they&#39;re on the right track,</span>
<span class="s2">        acknowledge that while adding any missing information. If they&#39;re incorrect, </span>
<span class="s2">        gently correct them and re-explain the concept briefly.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">feedback_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">feedback</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="c1"># Practice quiz</span>
        <span class="n">difficulty</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Choose difficulty (easy/medium/hard): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">num_questions</span> <span class="o">=</span> <span class="mi">3</span>

        <span class="n">quiz_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Create a </span><span class="si">{</span><span class="n">difficulty</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2"> quiz with </span><span class="si">{</span><span class="n">num_questions</span><span class="si">}</span><span class="s2"> questions.</span>
<span class="s2">        For each question:</span>
<span class="s2">        1. Ask a </span><span class="si">{</span><span class="n">difficulty</span><span class="si">}</span><span class="s2">-level question about </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span>
<span class="s2">        2. Provide 4 possible answers labeled A, B, C, D</span>
<span class="s2">        3. Indicate the correct answer</span>

<span class="s2">        Format each question exactly like this:</span>
<span class="s2">        Q: (question text)</span>
<span class="s2">        A: (option A)</span>
<span class="s2">        B: (option B)</span>
<span class="s2">        C: (option C)</span>
<span class="s2">        D: (option D)</span>
<span class="s2">        Correct: (correct letter)</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating a </span><span class="si">{</span><span class="n">difficulty</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2"> quiz...&quot;</span><span class="p">)</span>
        <span class="n">quiz</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">quiz_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>

        <span class="c1"># Parse and present quiz</span>
        <span class="n">questions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="n">quiz</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Q: &quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">question_parts</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Correct: &quot;</span><span class="p">)</span>
            <span class="n">question_text</span> <span class="o">=</span> <span class="n">question_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">correct_answer</span> <span class="o">=</span> <span class="n">question_parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Just take the first letter</span>

            <span class="n">questions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">question_text</span><span class="p">,</span>
                <span class="s2">&quot;correct&quot;</span><span class="p">:</span> <span class="n">correct_answer</span>
            <span class="p">})</span>

        <span class="c1"># Administer quiz</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">q</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">questions</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Question </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">])</span>

            <span class="n">user_answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Your answer (A/B/C/D): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">user_answer</span> <span class="o">==</span> <span class="n">q</span><span class="p">[</span><span class="s2">&quot;correct&quot;</span><span class="p">]:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✓ Correct!&quot;</span><span class="p">)</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✗ Incorrect. The correct answer was </span><span class="si">{</span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;correct&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

                <span class="c1"># Get explanation</span>
                <span class="n">explain_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                The question was: </span><span class="si">{</span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span>
<span class="s2">                The correct answer is </span><span class="si">{</span><span class="n">q</span><span class="p">[</span><span class="s1">&#39;correct&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">                Explain why this is the correct answer in a helpful way.</span>
<span class="s2">                &quot;&quot;&quot;</span>

                <span class="n">explanation</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">explain_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Explanation:&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">explanation</span><span class="p">)</span>

            <span class="c1"># Small pause between questions</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Final score and feedback</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Quiz complete! You scored </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="n">feedback_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        The user just completed a </span><span class="si">{</span><span class="n">difficulty</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2"> quiz and scored </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span><span class="si">}</span><span class="s2">.</span>
<span class="s2">        Provide some encouraging feedback and suggest what they might want to study next.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">feedback_prompt</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">feedback</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice.&quot;</span><span class="p">)</span>

<span class="c1"># Run the tutor bot</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">tutor_bot</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_28">Extension Ideas<a class="headerlink" href="#extension-ideas_28" title="Permanent link">&para;</a></h2>
<p>Add a spaced repetition system that tracks concepts users struggle with and revisits them.</p>
<hr />
<hr />
<h1 id="text-adventure-game-engine">Text Adventure Game Engine<a class="headerlink" href="#text-adventure-game-engine" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Advanced<br />
<strong>Time</strong>: 90-120 minutes<br />
<strong>Learning Focus</strong>: Object-oriented programming, game design, file I/O, AI interaction<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_29">Overview<a class="headerlink" href="#overview_29" title="Permanent link">&para;</a></h2>
<p>Create a text adventure game engine that allows students to build interactive stories with rooms, items, and characters. The engine supports saving/loading games and provides AI-powered hints to guide players.</p>
<h2 id="instructions_29">Instructions<a class="headerlink" href="#instructions_29" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Room</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A location in the game world with description and connections to other rooms.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">exits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exits</span> <span class="o">=</span> <span class="n">exits</span> <span class="ow">or</span> <span class="p">{}</span>  <span class="c1"># Dictionary mapping direction -&gt; room name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span> <span class="ow">or</span> <span class="p">[]</span>  <span class="c1"># List of item names</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">room_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add an exit from this room.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exits</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="o">=</span> <span class="n">room_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add an item to this room.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove an item from this room.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a formatted description of the room including exits and items.&quot;&quot;&quot;</span>
        <span class="n">details</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exits</span><span class="p">:</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exits:&quot;</span>
            <span class="k">for</span> <span class="n">direction</span><span class="p">,</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">You can see:&quot;</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">- </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">details</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert room to dictionary for saving.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;exits&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exits</span><span class="p">,</span>
            <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span>
        <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create room from dictionary data.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">],</span>
            <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;exits&quot;</span><span class="p">,</span> <span class="p">{}),</span>
            <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Player</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The player character with inventory and current location.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">current_room</span><span class="o">=</span><span class="s2">&quot;Starting Room&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_flags</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># For tracking game state, quests, etc.</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">world</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Try to move in a direction. Return success/failure message.&quot;&quot;&quot;</span>
        <span class="n">current_room</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">direction</span> <span class="ow">in</span> <span class="n">current_room</span><span class="o">.</span><span class="n">exits</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">exits</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;You move </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;You can&#39;t go </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2"> from here.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">take</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">world</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Try to take an item from the current room.&quot;&quot;&quot;</span>
        <span class="n">current_room</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">current_room</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">item_name</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">current_room</span><span class="o">.</span><span class="n">remove_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;You take the </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">.&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;There is no </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2"> here.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">drop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> <span class="n">world</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Try to drop an item from inventory into the current room.&quot;&quot;&quot;</span>
        <span class="n">current_room</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">item_name</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">current_room</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;You drop the </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">.&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;You don&#39;t have a </span><span class="si">{</span><span class="n">item_name</span><span class="si">}</span><span class="s2">.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_inventory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check what items the player is carrying.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Your inventory is empty.&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;You are carrying:&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">- </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert player to dictionary for saving.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;current_room&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_room</span><span class="p">,</span>
            <span class="s2">&quot;inventory&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="p">,</span>
            <span class="s2">&quot;game_flags&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_flags</span>
        <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create player from dictionary data.&quot;&quot;&quot;</span>
        <span class="n">player</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;current_room&quot;</span><span class="p">])</span>
        <span class="n">player</span><span class="o">.</span><span class="n">inventory</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inventory&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">player</span><span class="o">.</span><span class="n">game_flags</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game_flags&quot;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">return</span> <span class="n">player</span>


<span class="k">class</span><span class="w"> </span><span class="nc">World</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The game world containing all rooms and game state.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Adventure Game&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rooms</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Dictionary mapping room name -&gt; Room object</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a room to the world.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rooms</span><span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">room</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_room</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a room by name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rooms</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">room_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert world to dictionary for saving.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;rooms&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">room</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rooms</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create world from dictionary data.&quot;&quot;&quot;</span>
        <span class="n">world</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">room_data</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;rooms&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">Room</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">room_data</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">world</span>


<span class="k">class</span><span class="w"> </span><span class="nc">GameEngine</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main game engine for running the adventure.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">world</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">player</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">world</span> <span class="o">=</span> <span class="n">world</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">commands</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;go&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_go</span><span class="p">,</span>
            <span class="s2">&quot;look&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_look</span><span class="p">,</span>
            <span class="s2">&quot;take&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_take</span><span class="p">,</span>
            <span class="s2">&quot;drop&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_drop</span><span class="p">,</span>
            <span class="s2">&quot;inventory&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_inventory</span><span class="p">,</span>
            <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_help</span><span class="p">,</span>
            <span class="s2">&quot;quit&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_quit</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span> <span class="o">=</span> <span class="s2">&quot;game_saves&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_go</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle movement command.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Go where? Try &#39;go north&#39;, &#39;go south&#39;, etc.&quot;</span>

        <span class="n">direction</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">direction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_look</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Look around the current room.&quot;&quot;&quot;</span>
        <span class="n">current_room</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">current_room</span><span class="o">.</span><span class="n">get_details</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_take</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Take an item from the room.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Take what? Try &#39;take [item name]&#39;.&quot;</span>

        <span class="n">item_name</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">item_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_drop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Drop an item from inventory.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Drop what? Try &#39;drop [item name]&#39;.&quot;</span>

        <span class="n">item_name</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">item_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_inventory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check inventory.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">check_inventory</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_help</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show help information.&quot;&quot;&quot;</span>
        <span class="n">help_text</span> <span class="o">=</span> <span class="s2">&quot;Available commands:</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- go [direction]: Move in a direction (north, south, east, west)</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- look: Examine your surroundings</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- take [item]: Take an item from the room</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- drop [item]: Drop an item from your inventory</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- inventory: Check what you&#39;re carrying</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- help: Show this help text</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- quit: Exit the game</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- hint: Get a helpful hint (AI-powered)</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">help_text</span> <span class="o">+=</span> <span class="s2">&quot;- save [name]: Save your progress</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">help_text</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cmd_quit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Quit the game.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="s2">&quot;Thanks for playing!&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_game</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save the current game state.&quot;&quot;&quot;</span>
        <span class="n">game_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;world&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span>
            <span class="s2">&quot;player&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">game_data</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Game saved as &#39;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#39;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">load_game</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load a game from a save file.&quot;&quot;&quot;</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;game_saves&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.json&quot;</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">game_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

        <span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">game_data</span><span class="p">[</span><span class="s2">&quot;world&quot;</span><span class="p">])</span>
        <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">game_data</span><span class="p">[</span><span class="s2">&quot;player&quot;</span><span class="p">])</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">world</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_input</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process user input and return the result.&quot;&quot;&quot;</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">words</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Please enter a command.&quot;</span>

        <span class="n">command</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">commands</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">commands</span><span class="p">[</span><span class="n">command</span><span class="p">](</span><span class="n">args</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;I don&#39;t understand &#39;</span><span class="si">{</span><span class="n">command</span><span class="si">}</span><span class="s2">&#39;. Try &#39;help&#39; for a list of commands.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the main game loop.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Welcome to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You are </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, an adventurer seeking fortune and glory.&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type &#39;help&#39; for a list of commands.&quot;</span><span class="p">)</span>

        <span class="c1"># Show the initial room</span>
        <span class="n">current_room</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">current_room</span><span class="o">.</span><span class="n">get_details</span><span class="p">())</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="c1"># Special case for save command</span>
            <span class="k">if</span> <span class="n">user_input</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;save &quot;</span><span class="p">):</span>
                <span class="n">save_name</span> <span class="o">=</span> <span class="n">user_input</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">save_name</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_game</span><span class="p">(</span><span class="n">save_name</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please specify a save name: &#39;save [name]&#39;&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># Special case for AI hint</span>
            <span class="k">if</span> <span class="n">user_input</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;hint&quot;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">current_room</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">world</span><span class="o">.</span><span class="n">get_room</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">current_room</span><span class="p">)</span>
                    <span class="n">inventory_str</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">inventory</span> <span class="k">else</span> <span class="s2">&quot;nothing&quot;</span>

                    <span class="n">hint_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                    In this text adventure game:</span>
<span class="s2">                    - The player is in: </span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">name</span><span class="si">}</span>
<span class="s2">                    - Room description: </span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">description</span><span class="si">}</span>
<span class="s2">                    - Available exits: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_room</span><span class="o">.</span><span class="n">exits</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">current_room</span><span class="o">.</span><span class="n">exits</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="si">}</span>
<span class="s2">                    - Items in room: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_room</span><span class="o">.</span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">current_room</span><span class="o">.</span><span class="n">items</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="si">}</span>
<span class="s2">                    - Player is carrying: </span><span class="si">{</span><span class="n">inventory_str</span><span class="si">}</span>

<span class="s2">                    Based on this situation, provide a gentle hint about what the player might try next.</span>
<span class="s2">                    Keep it vague enough to not spoil puzzles but helpful enough to guide them.</span>
<span class="s2">                    &quot;&quot;&quot;</span>

                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thinking of a hint...&quot;</span><span class="p">)</span>
                    <span class="n">hint</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">hint_prompt</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Hint: </span><span class="si">{</span><span class="n">hint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sorry, I couldn&#39;t come up with a hint right now: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">continue</span>

            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_input</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">create_default_world</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a simple default world for demonstration.&quot;&quot;&quot;</span>
    <span class="n">world</span> <span class="o">=</span> <span class="n">World</span><span class="p">(</span><span class="s2">&quot;The Forgotten Caverns&quot;</span><span class="p">)</span>

    <span class="c1"># Create rooms</span>
    <span class="n">entrance</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span>
        <span class="s2">&quot;Cave Entrance&quot;</span><span class="p">,</span>
        <span class="s2">&quot;You stand at the entrance to a mysterious cave. Sunlight filters in from above, casting eerie shadows on the walls.&quot;</span>
    <span class="p">)</span>

    <span class="n">main_passage</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span>
        <span class="s2">&quot;Main Passage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;A narrow passage stretches deeper into the cave. Water drips from the ceiling, creating small puddles on the ground.&quot;</span>
    <span class="p">)</span>

    <span class="n">chamber</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span>
        <span class="s2">&quot;Crystal Chamber&quot;</span><span class="p">,</span>
        <span class="s2">&quot;This large chamber is filled with glowing crystals of various colors, illuminating the space with an otherworldly light.&quot;</span>
    <span class="p">)</span>

    <span class="n">side_tunnel</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span>
        <span class="s2">&quot;Side Tunnel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;A tight tunnel branches off from the main passage. The air feels stale here.&quot;</span>
    <span class="p">)</span>

    <span class="n">underground_pool</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span>
        <span class="s2">&quot;Underground Pool&quot;</span><span class="p">,</span>
        <span class="s2">&quot;A still, dark pool of water fills most of this chamber. The surface reflects the subtle glow from the ceiling.&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Connect rooms</span>
    <span class="n">entrance</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;Main Passage&quot;</span><span class="p">)</span>

    <span class="n">main_passage</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;Cave Entrance&quot;</span><span class="p">)</span>
    <span class="n">main_passage</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;Crystal Chamber&quot;</span><span class="p">)</span>
    <span class="n">main_passage</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;Side Tunnel&quot;</span><span class="p">)</span>

    <span class="n">chamber</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;Main Passage&quot;</span><span class="p">)</span>
    <span class="n">chamber</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;west&quot;</span><span class="p">,</span> <span class="s2">&quot;Underground Pool&quot;</span><span class="p">)</span>

    <span class="n">side_tunnel</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;west&quot;</span><span class="p">,</span> <span class="s2">&quot;Main Passage&quot;</span><span class="p">)</span>

    <span class="n">underground_pool</span><span class="o">.</span><span class="n">add_exit</span><span class="p">(</span><span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;Crystal Chamber&quot;</span><span class="p">)</span>

    <span class="c1"># Add items</span>
    <span class="n">entrance</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s2">&quot;torch&quot;</span><span class="p">)</span>
    <span class="n">entrance</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s2">&quot;rope&quot;</span><span class="p">)</span>

    <span class="n">main_passage</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s2">&quot;rusty key&quot;</span><span class="p">)</span>

    <span class="n">chamber</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s2">&quot;glowing crystal&quot;</span><span class="p">)</span>

    <span class="n">underground_pool</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="s2">&quot;ancient coin&quot;</span><span class="p">)</span>

    <span class="c1"># Add rooms to world</span>
    <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">entrance</span><span class="p">)</span>
    <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">main_passage</span><span class="p">)</span>
    <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">chamber</span><span class="p">)</span>
    <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">side_tunnel</span><span class="p">)</span>
    <span class="n">world</span><span class="o">.</span><span class="n">add_room</span><span class="p">(</span><span class="n">underground_pool</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">world</span>


<span class="k">def</span><span class="w"> </span><span class="nf">play_adventure_game</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start a new adventure game or load a saved one.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Text Adventure Game Engine ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Start new game&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Load saved game&quot;</span><span class="p">)</span>

    <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select an option: &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="n">player_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What is your name, adventurer? &quot;</span><span class="p">)</span>
        <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">player_name</span><span class="p">,</span> <span class="s2">&quot;Cave Entrance&quot;</span><span class="p">)</span>
        <span class="n">world</span> <span class="o">=</span> <span class="n">create_default_world</span><span class="p">()</span>
        <span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">world</span><span class="p">)</span>
        <span class="n">game</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="c1"># Check for save files</span>
        <span class="n">save_dir</span> <span class="o">=</span> <span class="s2">&quot;game_saves&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">save_dir</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">save_dir</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No save files found. Starting a new game...&quot;</span><span class="p">)</span>
            <span class="n">player_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What is your name, adventurer? &quot;</span><span class="p">)</span>
            <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">player_name</span><span class="p">,</span> <span class="s2">&quot;Cave Entrance&quot;</span><span class="p">)</span>
            <span class="n">world</span> <span class="o">=</span> <span class="n">create_default_world</span><span class="p">()</span>
            <span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">world</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># List save files</span>
            <span class="n">save_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">save_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.json&quot;</span><span class="p">)]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available save files:&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">save</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">save_files</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">save</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">save_idx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select a save file (number): &quot;</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">save_idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">save_files</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="o">.</span><span class="n">load_game</span><span class="p">(</span><span class="n">save_files</span><span class="p">[</span><span class="n">save_idx</span><span class="p">])</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded save: </span><span class="si">{</span><span class="n">save_files</span><span class="p">[</span><span class="n">save_idx</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading save: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid selection. Starting a new game...&quot;</span><span class="p">)</span>
                <span class="n">player_name</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">What is your name, adventurer? &quot;</span><span class="p">)</span>
                <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">player_name</span><span class="p">,</span> <span class="s2">&quot;Cave Entrance&quot;</span><span class="p">)</span>
                <span class="n">world</span> <span class="o">=</span> <span class="n">create_default_world</span><span class="p">()</span>
                <span class="n">game</span> <span class="o">=</span> <span class="n">GameEngine</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">world</span><span class="p">)</span>

        <span class="n">game</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Exiting.&quot;</span><span class="p">)</span>


<span class="c1"># Run the game</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">play_adventure_game</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_29">Extension Ideas<a class="headerlink" href="#extension-ideas_29" title="Permanent link">&para;</a></h2>
<ul>
<li>Add more room types with special properties (e.g., dark rooms that require a light source)</li>
<li>Implement NPCs (non-player characters) that the player can talk to</li>
<li>Add simple puzzles that require specific items to solve</li>
<li>Create a quest system with objectives and rewards</li>
<li>Design a combat system for encounters with enemies</li>
<li>Build a web-based interface using a framework like Flask</li>
</ul>
<hr />
<hr />
<h1 id="trivia-or-quiz-bot">Trivia or Quiz Bot<a class="headerlink" href="#trivia-or-quiz-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 45-60 minutes<br />
<strong>Learning Focus</strong>: Loops, conditionals, lists<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_30">Overview<a class="headerlink" href="#overview_30" title="Permanent link">&para;</a></h2>
<p>Build an interactive quiz bot that asks questions, tracks the user's score, provides feedback, and offers hints when needed.</p>
<h2 id="instructions_30">Instructions<a class="headerlink" href="#instructions_30" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_quiz_bot</span><span class="p">():</span>
    <span class="c1"># Define your quiz questions as (question, answer) tuples</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;What&#39;s 2 + 2?&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;What is the capital of France?&quot;</span><span class="p">,</span> <span class="s2">&quot;paris&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;What&#39;s the keyword for loops in Python?&quot;</span><span class="p">,</span> <span class="s2">&quot;for&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;What year did the first iPhone release?&quot;</span><span class="p">,</span> <span class="s2">&quot;2007&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Who wrote &#39;Romeo and Juliet&#39;?&quot;</span><span class="p">,</span> <span class="s2">&quot;shakespeare&quot;</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="c1"># Randomize questions</span>
    <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span>

    <span class="c1"># Initialize score</span>
    <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="p">)</span>

    <span class="c1"># Introduction</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to the Quiz Bot!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I&#39;ll ask you </span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> questions. Let&#39;s see how you do!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Loop through questions</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">answer</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">questions</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Question </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Get user&#39;s answer</span>
        <span class="n">user_answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Your answer: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="c1"># Check if correct</span>
        <span class="k">if</span> <span class="n">user_answer</span> <span class="o">==</span> <span class="n">answer</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Correct! ✅&quot;</span><span class="p">)</span>

            <span class="c1"># Get enthusiastic feedback from the bot</span>
            <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The user correctly answered &#39;</span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&#39; with &#39;</span><span class="si">{</span><span class="n">answer</span><span class="si">}</span><span class="s2">&#39;. Give a short, enthusiastic response.&quot;</span><span class="p">,</span>
                <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are an encouraging quiz host who keeps responses to one short sentence.&quot;</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">feedback</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sorry, that&#39;s incorrect. ❌ The answer is: </span><span class="si">{</span><span class="n">answer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Get encouraging feedback from the bot</span>
            <span class="n">feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The user incorrectly answered &#39;</span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&#39; with &#39;</span><span class="si">{</span><span class="n">user_answer</span><span class="si">}</span><span class="s2">&#39; instead of &#39;</span><span class="si">{</span><span class="n">answer</span><span class="si">}</span><span class="s2">&#39;. Give a short, encouraging response.&quot;</span><span class="p">,</span>
                <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive quiz host who gives gentle encouragement in one sentence.&quot;</span>
            <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">feedback</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>

    <span class="c1"># Calculate percentage</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">score</span> <span class="o">/</span> <span class="n">total</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="c1"># Final results</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Quiz complete! Your score: </span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>

    <span class="c1"># Get final feedback based on score</span>
    <span class="k">if</span> <span class="n">percentage</span> <span class="o">&gt;=</span> <span class="mi">80</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;excellent&quot;</span>
    <span class="k">elif</span> <span class="n">percentage</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;good&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;needs improvement&quot;</span>

    <span class="n">final_feedback</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;The user scored </span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% (</span><span class="si">{</span><span class="n">score</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2">) on the quiz, which is </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">. Give them feedback and encouragement.&quot;</span><span class="p">,</span>
        <span class="n">system</span><span class="o">=</span><span class="s2">&quot;You are a supportive teacher giving a short, personalized assessment.&quot;</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Bot&#39;s feedback:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">final_feedback</span><span class="p">)</span>

<span class="c1"># Run the quiz</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">create_quiz_bot</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_30">Extension Ideas<a class="headerlink" href="#extension-ideas_30" title="Permanent link">&para;</a></h2>
<ul>
<li>Add difficulty levels where harder questions are worth more points</li>
<li>Include a hint system where users can ask for clues but lose points</li>
<li>Make a specialised quiz for a specific subject the students are studying</li>
<li>Add a timer element where users have to answer within a time limit</li>
<li>Let students create their own question banks to quiz each other</li>
</ul>
<hr />
<hr />
<h1 id="weather-dashboard">Weather Dashboard<a class="headerlink" href="#weather-dashboard" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate-Advanced<br />
<strong>Time</strong>: 60-90 minutes<br />
<strong>Learning Focus</strong>: API integration, data visualisation, environmental data analysis<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_31">Overview<a class="headerlink" href="#overview_31" title="Permanent link">&para;</a></h2>
<p>Create a weather dashboard that fetches real-time weather data and forecasts from an API, then visualizes it with charts and provides AI-powered weather advice based on conditions.</p>
<h2 id="instructions_31">Instructions<a class="headerlink" href="#instructions_31" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">class</span><span class="w"> </span><span class="nc">WeatherDashboard</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A simple weather dashboard that retrieves and displays weather data.</span>
<span class="sd">    Students will need to sign up for a free API key from OpenWeatherMap.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://api.openweathermap.org/data/2.5/&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="s2">&quot;weather_dashboard&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up the dashboard with the API key.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Weather Dashboard Setup ===&quot;</span><span class="p">)</span>

        <span class="c1"># Check for existing API key</span>
        <span class="n">key_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s2">&quot;api_key.txt&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">key_file</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">key_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;API key loaded from file.&quot;</span><span class="p">)</span>

        <span class="c1"># If no API key, prompt for one</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You need an OpenWeatherMap API key to use this dashboard.&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Get a free API key at: https://openweathermap.org/api&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your API key: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="c1"># Save API key for future use</span>
            <span class="n">save_key</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Save this API key for future use? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
            <span class="k">if</span> <span class="n">save_key</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">key_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;API key saved.&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_current_weather</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get current weather for a location.&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="si">}</span><span class="s2">weather&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="n">location</span><span class="p">,</span>
            <span class="s1">&#39;appid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
            <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;metric&#39;</span>  <span class="c1"># Use metric by default</span>
        <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Raise exception for HTTP errors</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">http_err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Location &#39;</span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">&#39; not found. Please check the spelling.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HTTP error: </span><span class="si">{</span><span class="n">http_err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get weather forecast for a location.&quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="si">}</span><span class="s2">forecast&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;q&#39;</span><span class="p">:</span> <span class="n">location</span><span class="p">,</span>
            <span class="s1">&#39;appid&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">,</span>
            <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;metric&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cnt&#39;</span><span class="p">:</span> <span class="n">days</span> <span class="o">*</span> <span class="mi">8</span>  <span class="c1"># API returns data in 3-hour steps, 8 per day</span>
        <span class="p">}</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">HTTPError</span> <span class="k">as</span> <span class="n">http_err</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Location &#39;</span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">&#39; not found. Please check the spelling.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HTTP error: </span><span class="si">{</span><span class="n">http_err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">display_current_weather</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display current weather conditions.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">city</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sys&#39;</span><span class="p">][</span><span class="s1">&#39;country&#39;</span><span class="p">]</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">]</span>
            <span class="n">feels_like</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;feels_like&#39;</span><span class="p">]</span>
            <span class="n">humidity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;humidity&#39;</span><span class="p">]</span>
            <span class="n">pressure</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span>
            <span class="n">weather_desc</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
            <span class="n">wind_speed</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;wind&#39;</span><span class="p">][</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span>
            <span class="n">clouds</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;clouds&#39;</span><span class="p">][</span><span class="s1">&#39;all&#39;</span><span class="p">]</span>

            <span class="c1"># Convert Unix timestamp to readable format</span>
            <span class="n">sunrise</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sys&#39;</span><span class="p">][</span><span class="s1">&#39;sunrise&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">)</span>
            <span class="n">sunset</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sys&#39;</span><span class="p">][</span><span class="s1">&#39;sunset&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%H:%M&#39;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Current Weather Conditions ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Location: </span><span class="si">{</span><span class="n">city</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">country</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Weather: </span><span class="si">{</span><span class="n">weather_desc</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperature: </span><span class="si">{</span><span class="n">temp</span><span class="si">}</span><span class="s2">°C (Feels like: </span><span class="si">{</span><span class="n">feels_like</span><span class="si">}</span><span class="s2">°C)&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Humidity: </span><span class="si">{</span><span class="n">humidity</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pressure: </span><span class="si">{</span><span class="n">pressure</span><span class="si">}</span><span class="s2"> hPa&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wind Speed: </span><span class="si">{</span><span class="n">wind_speed</span><span class="si">}</span><span class="s2"> m/s&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cloud Cover: </span><span class="si">{</span><span class="n">clouds</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sunrise: </span><span class="si">{</span><span class="n">sunrise</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sunset: </span><span class="si">{</span><span class="n">sunset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing weather data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plot_forecast</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create forecast plots and save them.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Extract forecast data</span>
            <span class="n">timestamps</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">temps</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">humidity</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">descriptions</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">]:</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">])</span>
                <span class="n">timestamps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
                <span class="n">temps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">])</span>
                <span class="n">humidity</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;humidity&#39;</span><span class="p">])</span>
                <span class="n">descriptions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">])</span>

            <span class="c1"># Create temperature forecast plot</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">temps</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#FF5733&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date &amp; Time&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperature (°C)&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Temperature Forecast for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

            <span class="c1"># Save the plot</span>
            <span class="n">temp_plot_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">location</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_temp_forecast.png&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">temp_plot_file</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="c1"># Create humidity forecast plot</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">humidity</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3498DB&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date &amp; Time&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Humidity (%)&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Humidity Forecast for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

            <span class="c1"># Save the plot</span>
            <span class="n">humidity_plot_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">location</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_humidity_forecast.png&quot;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">humidity_plot_file</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Forecast plots saved to:</span><span class="se">\n</span><span class="s2">- </span><span class="si">{</span><span class="n">temp_plot_file</span><span class="si">}</span><span class="se">\n</span><span class="s2">- </span><span class="si">{</span><span class="n">humidity_plot_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">temp_plot_file</span><span class="p">,</span> <span class="n">humidity_plot_file</span>

        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing forecast data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_weather_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_data</span><span class="p">,</span> <span class="n">forecast_data</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a summary of the weather conditions and forecast.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_data</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">forecast_data</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Unable to generate weather summary due to missing data.&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Extract key information</span>
            <span class="n">current_temp</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">]</span>
            <span class="n">current_desc</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>

            <span class="c1"># Get min/max for the next few days</span>
            <span class="n">daily_temps</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">forecast_data</span><span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">]:</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">])</span>
                <span class="n">date_str</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">date_str</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">daily_temps</span><span class="p">:</span>
                    <span class="n">daily_temps</span><span class="p">[</span><span class="n">date_str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;temps&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;descs&#39;</span><span class="p">:</span> <span class="p">[]}</span>

                <span class="n">daily_temps</span><span class="p">[</span><span class="n">date_str</span><span class="p">][</span><span class="s1">&#39;temps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">])</span>
                <span class="n">daily_temps</span><span class="p">[</span><span class="n">date_str</span><span class="p">][</span><span class="s1">&#39;descs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">])</span>

            <span class="c1"># Create summary with key info</span>
            <span class="n">summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Weather Summary for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="n">summary</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Current Conditions: </span><span class="si">{</span><span class="n">current_desc</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="n">current_temp</span><span class="si">}</span><span class="s2">°C</span><span class="se">\n\n</span><span class="s2">&quot;</span>
            <span class="n">summary</span> <span class="o">+=</span> <span class="s2">&quot;Forecast:</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">for</span> <span class="n">date_str</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">daily_temps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;temps&#39;</span><span class="p">]:</span>  <span class="c1"># Make sure we have data</span>
                    <span class="n">min_temp</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;temps&#39;</span><span class="p">])</span>
                    <span class="n">max_temp</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;temps&#39;</span><span class="p">])</span>

                    <span class="c1"># Get most common description</span>
                    <span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
                    <span class="n">desc_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;descs&#39;</span><span class="p">])</span>
                    <span class="n">most_common_desc</span> <span class="o">=</span> <span class="n">desc_counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

                    <span class="c1"># Format date nicely (e.g., &quot;Monday, Jan 15&quot;)</span>
                    <span class="n">date_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_str</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">formatted_date</span> <span class="o">=</span> <span class="n">date_obj</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%A, %b </span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>

                    <span class="n">summary</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">formatted_date</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">most_common_desc</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">min_temp</span><span class="si">}</span><span class="s2">°C to </span><span class="si">{</span><span class="n">max_temp</span><span class="si">}</span><span class="s2">°C</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">return</span> <span class="n">summary</span>

        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error generating weather summary: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;Unable to generate weather summary.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_ai_weather_advice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_data</span><span class="p">,</span> <span class="n">forecast_data</span><span class="p">,</span> <span class="n">location</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get AI-generated weather advice based on conditions.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_data</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">forecast_data</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Unable to generate weather advice due to missing data.&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Prepare weather information for the AI</span>
            <span class="n">current_temp</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">]</span>
            <span class="n">current_desc</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
            <span class="n">current_humidity</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;humidity&#39;</span><span class="p">]</span>
            <span class="n">current_wind</span> <span class="o">=</span> <span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;wind&#39;</span><span class="p">][</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span>

            <span class="c1"># Extract forecast information</span>
            <span class="n">tomorrow_data</span> <span class="o">=</span> <span class="n">forecast_data</span><span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">][:</span><span class="mi">8</span><span class="p">]</span>  <span class="c1"># First 8 entries (24 hours)</span>
            <span class="n">tomorrow_descs</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">tomorrow_data</span><span class="p">]</span>
            <span class="n">tomorrow_temps</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">tomorrow_data</span><span class="p">]</span>

            <span class="n">avg_tomorrow_temp</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">tomorrow_temps</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">tomorrow_temps</span><span class="p">)</span>
            <span class="n">min_tomorrow_temp</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">tomorrow_temps</span><span class="p">)</span>
            <span class="n">max_tomorrow_temp</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tomorrow_temps</span><span class="p">)</span>

            <span class="c1"># Create prompt for AI</span>
            <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            Based on the following weather data for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">:</span>

<span class="s2">            Current conditions:</span>
<span class="s2">            - Temperature: </span><span class="si">{</span><span class="n">current_temp</span><span class="si">}</span><span class="s2">°C</span>
<span class="s2">            - Description: </span><span class="si">{</span><span class="n">current_desc</span><span class="si">}</span>
<span class="s2">            - Humidity: </span><span class="si">{</span><span class="n">current_humidity</span><span class="si">}</span><span class="s2">%</span>
<span class="s2">            - Wind speed: </span><span class="si">{</span><span class="n">current_wind</span><span class="si">}</span><span class="s2"> m/s</span>

<span class="s2">            Tomorrow&#39;s forecast:</span>
<span class="s2">            - Average temperature: </span><span class="si">{</span><span class="n">avg_tomorrow_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C</span>
<span class="s2">            - Range: </span><span class="si">{</span><span class="n">min_tomorrow_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C to </span><span class="si">{</span><span class="n">max_tomorrow_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">°C</span>
<span class="s2">            - Conditions: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tomorrow_descs</span><span class="p">))</span><span class="si">}</span>

<span class="s2">            Please provide:</span>
<span class="s2">            1. Practical advice for what to wear or prepare for today</span>
<span class="s2">            2. Any weather warnings or precautions to be aware of</span>
<span class="s2">            3. Suggested activities that would be appropriate for this weather</span>

<span class="s2">            Keep your response conversational and under 150 words.</span>
<span class="s2">            &quot;&quot;&quot;</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">advice</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">advice</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error getting AI weather advice: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="s2">&quot;Unable to generate AI weather advice at this time.&quot;</span>

        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error preparing data for AI advice: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;Unable to generate weather advice due to missing data.&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the main dashboard interface.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No API key provided. Exiting.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Weather Dashboard ===&quot;</span><span class="p">)</span>
        <span class="n">location</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a city name (e.g., &#39;London&#39; or &#39;London,UK&#39;): &quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Fetching weather data for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">current_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_weather</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">current_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_current_weather</span><span class="p">(</span><span class="n">current_data</span><span class="p">)</span>

            <span class="c1"># Get forecast data</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Fetching forecast data...&quot;</span><span class="p">)</span>
            <span class="n">forecast_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">forecast_data</span><span class="p">:</span>
                <span class="c1"># Plot forecast</span>
                <span class="n">temp_plot</span><span class="p">,</span> <span class="n">humidity_plot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_forecast</span><span class="p">(</span><span class="n">forecast_data</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span>

                <span class="c1"># Generate weather summary</span>
                <span class="n">summary</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_weather_summary</span><span class="p">(</span><span class="n">current_data</span><span class="p">,</span> <span class="n">forecast_data</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Weather Summary ===&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>

                <span class="c1"># Get AI advice if requested</span>
                <span class="n">get_advice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Would you like personalized weather advice? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
                <span class="k">if</span> <span class="n">get_advice</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating advice...&quot;</span><span class="p">)</span>
                    <span class="n">advice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ai_weather_advice</span><span class="p">(</span><span class="n">current_data</span><span class="p">,</span> <span class="n">forecast_data</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Weather Advice ===&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">advice</span><span class="p">)</span>

                <span class="c1"># Save all info to a report file</span>
                <span class="n">save_report</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Save a weather report file? (y/n): &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span>
                <span class="k">if</span> <span class="n">save_report</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">report_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">location</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_weather_report.txt&quot;</span><span class="p">)</span>
                        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">report_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Weather Report for </span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated on </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;=== Current Conditions ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                            <span class="c1"># Extract current conditions</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperature: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">°C</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feels like: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;feels_like&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">°C</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Weather: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Humidity: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;humidity&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">%</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wind speed: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;wind&#39;</span><span class="p">][</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> m/s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pressure: </span><span class="si">{</span><span class="n">current_data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">][</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> hPa</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                            <span class="c1"># Add summary</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;=== Forecast Summary ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">summary</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                            <span class="c1"># Add advice if it was generated</span>
                            <span class="k">if</span> <span class="n">get_advice</span><span class="p">:</span>
                                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;=== Weather Advice ===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">advice</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                            <span class="c1"># Add note about plot files</span>
                            <span class="k">if</span> <span class="n">temp_plot</span> <span class="ow">and</span> <span class="n">humidity_plot</span><span class="p">:</span>
                                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Forecast plots saved as:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">temp_plot</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">humidity_plot</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Weather report saved to: </span><span class="si">{</span><span class="n">report_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error saving weather report: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Thank you for using the Weather Dashboard!&quot;</span><span class="p">)</span>

<span class="c1"># Run the dashboard</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">dashboard</span> <span class="o">=</span> <span class="n">WeatherDashboard</span><span class="p">()</span>
    <span class="n">dashboard</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_31">Extension Ideas<a class="headerlink" href="#extension-ideas_31" title="Permanent link">&para;</a></h2>
<ul>
<li>Add support for multiple locations and comparison views</li>
<li>Implement unit conversion between metric and imperial</li>
<li>Create a historical weather data retrieval and analysis feature</li>
<li>Add precipitation and wind forecasts with appropriate visualisations</li>
<li>Implement a daily weather notification system</li>
<li>Create a map-based visualisation of weather data</li>
</ul>
<hr />
<hr />
<h1 id="youtube-to-blog-converter">YouTube to Blog Converter<a class="headerlink" href="#youtube-to-blog-converter" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Beginner-Intermediate<br />
<strong>Time</strong>: 30-45 minutes<br />
<strong>Learning Focus</strong>: API integration, text processing, content repurposing<br />
<strong>Module</strong>: chat</p>
<h2 id="overview_32">Overview<a class="headerlink" href="#overview_32" title="Permanent link">&para;</a></h2>
<p>Create a tool that converts YouTube video transcripts into well-formatted blog posts using AI. This project helps students understand how to extract data from one format and transform it into another valuable piece of content.</p>
<h2 id="instructions_32">Instructions<a class="headerlink" href="#instructions_32" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">youtube_transcript_api</span><span class="w"> </span><span class="kn">import</span> <span class="n">YouTubeTranscriptApi</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">def</span><span class="w"> </span><span class="nf">youtube_to_blog</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert YouTube video transcripts into blog post content using AI.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== YouTube to Blog Converter ===&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This tool extracts a transcript from a YouTube video and converts it to a blog post.&quot;</span><span class="p">)</span>

    <span class="c1"># Get video URL or ID</span>
    <span class="n">video_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter YouTube video URL or video ID: &quot;</span><span class="p">)</span>

    <span class="c1"># Extract video ID from URL if needed</span>
    <span class="n">video_id</span> <span class="o">=</span> <span class="n">extract_video_id</span><span class="p">(</span><span class="n">video_input</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">video_id</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: Could not extract a valid YouTube video ID.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing video ID: </span><span class="si">{</span><span class="n">video_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Get transcript</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">transcript</span> <span class="o">=</span> <span class="n">get_transcript</span><span class="p">(</span><span class="n">video_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">transcript</span><span class="p">:</span>
            <span class="k">return</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error getting transcript: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="c1"># Get video metadata if needed</span>
    <span class="n">video_title</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter video title (or press Enter to skip): &quot;</span><span class="p">)</span>
    <span class="n">video_author</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter video creator/channel name (or press Enter to skip): &quot;</span><span class="p">)</span>

    <span class="c1"># Get blog style preferences</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Blog Style Options:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Informational/Educational&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Conversational/Casual&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Professional/Formal&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Tutorial/How-To&quot;</span><span class="p">)</span>

    <span class="n">style_choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Select a style (1-4): &quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">style_choice</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
        <span class="n">blog_style</span> <span class="o">=</span> <span class="s2">&quot;informational&quot;</span>
    <span class="k">elif</span> <span class="n">style_choice</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
        <span class="n">blog_style</span> <span class="o">=</span> <span class="s2">&quot;conversational&quot;</span>
    <span class="k">elif</span> <span class="n">style_choice</span> <span class="o">==</span> <span class="s2">&quot;3&quot;</span><span class="p">:</span>
        <span class="n">blog_style</span> <span class="o">=</span> <span class="s2">&quot;professional&quot;</span>
    <span class="k">elif</span> <span class="n">style_choice</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span><span class="p">:</span>
        <span class="n">blog_style</span> <span class="o">=</span> <span class="s2">&quot;tutorial&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Using informational style.&quot;</span><span class="p">)</span>
        <span class="n">blog_style</span> <span class="o">=</span> <span class="s2">&quot;informational&quot;</span>

    <span class="c1"># Get additional context</span>
    <span class="n">topic_keywords</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter 3-5 keywords related to the video (comma separated): &quot;</span><span class="p">)</span>

    <span class="c1"># Get intended audience</span>
    <span class="n">audience</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Who is the target audience for this blog post? &quot;</span><span class="p">)</span>

    <span class="c1"># Generate blog post with AI</span>
    <span class="n">generate_blog_post</span><span class="p">(</span><span class="n">transcript</span><span class="p">,</span> <span class="n">video_title</span><span class="p">,</span> <span class="n">video_author</span><span class="p">,</span> <span class="n">blog_style</span><span class="p">,</span> <span class="n">topic_keywords</span><span class="p">,</span> <span class="n">audience</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">extract_video_id</span><span class="p">(</span><span class="n">video_input</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract the YouTube video ID from a URL or return the ID if already provided.&quot;&quot;&quot;</span>
    <span class="c1"># Check if it&#39;s already a video ID (simple 11-character string)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[a-zA-Z0-9_-]</span><span class="si">{11}</span><span class="s1">, video_input):</span>
        <span class="k">return</span> <span class="n">video_input</span>

    <span class="c1"># Try to extract from URL</span>
    <span class="n">youtube_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&amp;]v=)|youtu\.be\/)([a-zA-Z0-9_-]</span><span class="si">{11}</span><span class="s1">)&#39;</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">youtube_regex</span><span class="p">,</span> <span class="n">video_input</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_transcript</span><span class="p">(</span><span class="n">video_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the transcript from a YouTube video.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">transcript_list</span> <span class="o">=</span> <span class="n">YouTubeTranscriptApi</span><span class="o">.</span><span class="n">get_transcript</span><span class="p">(</span><span class="n">video_id</span><span class="p">)</span>

        <span class="c1"># Combine all transcript segments</span>
        <span class="n">full_transcript</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">transcript_list</span><span class="p">])</span>

        <span class="c1"># Print a preview</span>
        <span class="n">preview_length</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_transcript</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Transcript preview (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">full_transcript</span><span class="p">)</span><span class="si">}</span><span class="s2"> characters):&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">full_transcript</span><span class="p">[:</span><span class="n">preview_length</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">full_transcript</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: Could not retrieve transcript. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Possible reasons:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;- The video might not have closed captions/subtitles&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;- The video ID might be incorrect&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;- The video owner may have disabled transcript access&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_blog_post</span><span class="p">(</span><span class="n">transcript</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">keywords</span><span class="p">,</span> <span class="n">audience</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a blog post from the transcript using AI.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating blog post...&quot;</span><span class="p">)</span>

    <span class="c1"># Create a prompt for the AI</span>
    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Convert this YouTube video transcript into a well-structured blog post:</span>

<span class="s2">    VIDEO INFORMATION:</span>
<span class="s2">    Title: </span><span class="si">{</span><span class="n">title</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;Not provided&quot;</span><span class="si">}</span>
<span class="s2">    Creator: </span><span class="si">{</span><span class="n">author</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">author</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">&quot;Not provided&quot;</span><span class="si">}</span>
<span class="s2">    Style: </span><span class="si">{</span><span class="n">style</span><span class="si">}</span>
<span class="s2">    Keywords: </span><span class="si">{</span><span class="n">keywords</span><span class="si">}</span>
<span class="s2">    Target Audience: </span><span class="si">{</span><span class="n">audience</span><span class="si">}</span>

<span class="s2">    TRANSCRIPT:</span>
<span class="s2">    </span><span class="si">{</span><span class="n">transcript</span><span class="p">[:</span><span class="mi">4000</span><span class="p">]</span><span class="si">}</span><span class="s2">  # Limit transcript length if needed</span>

<span class="s2">    Please create a complete blog post with:</span>
<span class="s2">    1. An engaging headline/title</span>
<span class="s2">    2. Introduction that hooks the reader</span>
<span class="s2">    3. Well-structured sections with subheadings</span>
<span class="s2">    4. Conclusion or call-to-action</span>
<span class="s2">    5. Add relevant statistics or examples where appropriate</span>

<span class="s2">    Format the post using markdown syntax for headings, lists, etc.</span>
<span class="s2">    The tone should be </span><span class="si">{</span><span class="n">style</span><span class="si">}</span><span class="s2"> and appropriate for the specified audience.</span>
<span class="s2">    Expand on any concepts from the video that need more explanation.</span>
<span class="s2">    Add 3-5 relevant tags at the end of the post.</span>

<span class="s2">    Length: Aim for ~1000-1500 words.</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Generate blog post using the prompt</span>
        <span class="n">blog_post</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>

        <span class="c1"># Save the blog post to a file</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;blog_post_</span><span class="si">{</span><span class="n">title</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;from_youtube&#39;</span><span class="si">}</span><span class="s2">.md&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">blog_post</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Blog post successfully generated and saved to: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Print a preview of the blog post</span>
        <span class="n">preview_lines</span> <span class="o">=</span> <span class="n">blog_post</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Blog Post Preview:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">preview_lines</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">...&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error generating blog post: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">youtube_to_blog</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_32">Extension Ideas<a class="headerlink" href="#extension-ideas_32" title="Permanent link">&para;</a></h2>
<ul>
<li>Add support for multiple languages and translation</li>
<li>Implement a social media post generator from the same content</li>
<li>Create a scheduler to process videos in batch</li>
<li>Add image extraction from video thumbnails or frames</li>
<li>Build a web interface with Flask or Streamlit</li>
<li>Implement SEO optimisation suggestions for the generated content</li>
</ul>
<hr />
<hr />
<h1 id="build-your-own-qa-cli">Build Your Own Q&amp;A CLI<a class="headerlink" href="#build-your-own-qa-cli" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45 minutes<br />
<strong>Learning Focus</strong>: RAG, Embeddings, Vector Search, CLI Development<br />
<strong>Module</strong>: RAG</p>
<h2 id="overview_33">Overview<a class="headerlink" href="#overview_33" title="Permanent link">&para;</a></h2>
<p>Create a command-line interface (CLI) tool that implements Retrieval-Augmented Generation (RAG) to answer questions based on your own knowledge index. This project will teach you how to programmatically load vector embeddings, perform similarity searches, and generate contextually relevant responses.</p>
<h2 id="instructions_33">Instructions<a class="headerlink" href="#instructions_33" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Setup Your Environment</strong></li>
<li>Ensure you have Python 3.7+ installed</li>
<li>
<p>Install the required libraries: <code>ailabkit</code> and <code>numpy</code></p>
</li>
<li>
<p><strong>Understanding the Components</strong></p>
</li>
<li>Learn how RAG combines retrieval and generation</li>
<li>Understand embeddings and cosine similarity for semantic search</li>
<li>
<p>Explore the provided <code>rag_utils</code> functions: <code>embed_query()</code> and <code>get_top_k()</code></p>
</li>
<li>
<p><strong>Build Your CLI Script</strong></p>
</li>
<li>
<p>Create a Python script with the following functions:</p>
<ul>
<li><code>load_index()</code>: Load document chunks and embeddings from an .npz file</li>
<li><code>query_index()</code>: Embed a query and find the most similar chunks</li>
<li><code>generate_answer()</code>: Create a response using retrieved context</li>
<li><code>main()</code>: Handle CLI arguments and orchestrate the workflow</li>
</ul>
</li>
<li>
<p><strong>Sample Implementation</strong>
   <div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Simple Q&amp;A CLI using RAG (Retrieval-Augmented Generation)</span>
<span class="sd">This script loads an index, embeds queries, retrieves relevant chunks, and generates answers.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.rag.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">embed_query</span><span class="p">,</span> <span class="n">get_top_k</span>

<span class="k">def</span><span class="w"> </span><span class="nf">load_index</span><span class="p">(</span><span class="n">index_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load chunked documents and their embeddings from an .npz file&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading index from </span><span class="si">{</span><span class="n">index_path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;chunks&#39;</span><span class="p">]</span>
        <span class="n">embeddings</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;embeddings&#39;</span><span class="p">]</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span><span class="si">}</span><span class="s2"> chunks from index.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading index: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">query_index</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">show_scores</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Embed the query and retrieve the top K most relevant chunks&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing query: &#39;</span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="c1"># Embed the query</span>
    <span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embed_query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

    <span class="c1"># Get the top k chunks and their similarity scores</span>
    <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">,</span> <span class="n">top_indices</span> <span class="o">=</span> <span class="n">get_top_k</span><span class="p">(</span>
        <span class="n">query_embedding</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">top_k</span><span class="p">,</span> <span class="n">return_indices</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="c1"># Prepare context from top chunks</span>
    <span class="n">context</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">---</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">top_chunks</span><span class="p">)</span>

    <span class="c1"># Show scores and sources if requested</span>
    <span class="k">if</span> <span class="n">show_scores</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Top Chunks ===&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">)):</span>
            <span class="n">source_info</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">top_indices</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">source_info</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; Source: </span><span class="si">{</span><span class="n">metadata</span><span class="p">[</span><span class="n">top_indices</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;unknown&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">] Score: </span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}{</span><span class="n">source_info</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Preview: </span><span class="si">{</span><span class="n">chunk</span><span class="p">[:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">context</span><span class="p">,</span> <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_answer</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate a response using the provided context&quot;&quot;&quot;</span>
    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Based on the following context, please answer the question. If the context doesn&#39;t contain </span>
<span class="s2">relevant information to answer the question fully, say what you can based on the context </span>
<span class="s2">and indicate what information is missing.</span>

<span class="s2">Context:</span>
<span class="si">{</span><span class="n">context</span><span class="si">}</span>

<span class="s2">Question: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span>

<span class="s2">Answer:</span>
<span class="s2">&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;helpful&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Query a RAG index and get answers.&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The question to ask&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--index&quot;</span><span class="p">,</span> <span class="s2">&quot;-i&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;sample_index.npz&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the .npz index file&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--top-k&quot;</span><span class="p">,</span> <span class="s2">&quot;-k&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of chunks to retrieve&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--show-scores&quot;</span><span class="p">,</span> <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Show similarity scores and chunk previews&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--show-context&quot;</span><span class="p">,</span> <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Show full context used for generation&quot;</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="c1"># Load the index</span>
    <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">load_index</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="c1"># Query the index</span>
    <span class="n">context</span><span class="p">,</span> <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span> <span class="o">=</span> <span class="n">query_index</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> 
        <span class="n">top_k</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">top_k</span><span class="p">,</span> <span class="n">show_scores</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">show_scores</span>
    <span class="p">)</span>

    <span class="c1"># Show full context if requested</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">show_context</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Full Context ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Generate and print the answer</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Answer ===&quot;</span><span class="p">)</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="n">generate_answer</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>

    <span class="c1"># Log source information if metadata is available</span>
    <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">show_scores</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Sources ===&quot;</span><span class="p">)</span>
        <span class="n">used_sources</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">top_k</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">top_chunks</span><span class="p">))):</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">top_scores</span><span class="p">):</span>
                <span class="n">source</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
                <span class="n">used_sources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">used_sources</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Test Your Implementation</strong></p>
</li>
<li>Use the provided <code>sample_index.npz</code> file</li>
<li>Run your script with various queries</li>
<li>Experiment with different <code>top_k</code> values to see how it affects answers</li>
</ol>
<h2 id="extension-ideas_33">Extension Ideas<a class="headerlink" href="#extension-ideas_33" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Add More CLI Options</strong></li>
<li>Implement a <code>--temperature</code> flag to control response randomness</li>
<li>Add a <code>--model</code> option to select different LLMs for response generation</li>
<li>
<p>Create a <code>--format</code> flag to return responses as JSON or markdown</p>
</li>
<li>
<p><strong>Enhance Result Quality</strong></p>
</li>
<li>Implement re-ranking of retrieved chunks using cross-encoders</li>
<li>Add chunk summarization before combining context</li>
<li>
<p>Create a custom scoring mechanism that considers both relevance and recency</p>
</li>
<li>
<p><strong>Build a Web Interface</strong></p>
</li>
<li>Create a simple Flask or Streamlit app that uses your RAG engine</li>
<li>Add visualization of similarity scores or chunk relationships</li>
<li>
<p>Implement user feedback collection to improve retrieval quality</p>
</li>
<li>
<p><strong>Performance Optimizations</strong></p>
</li>
<li>Add caching for query embeddings and responses</li>
<li>Implement batched query processing for multiple questions</li>
<li>Explore approximate nearest neighbor algorithms for faster retrieval on large indices</li>
</ol>
<hr />
<h1 id="my-first-rag-bot">🧠 My First RAG Bot<a class="headerlink" href="#my-first-rag-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 45 minutes<br />
<strong>Learning Focus</strong>: Document indexing, vector retrieval, context-based generation<br />
<strong>Module</strong>: RAG</p>
<h2 id="overview_34">Overview<a class="headerlink" href="#overview_34" title="Permanent link">&para;</a></h2>
<p>Learn how to use the <code>rag</code> CLI to index documents and create a simple Retrieval-Augmented Generation (RAG) system that can answer questions based on your own notes or documents.</p>
<h2 id="instructions_34">Instructions<a class="headerlink" href="#instructions_34" title="Permanent link">&para;</a></h2>
<h3 id="step-1-set-up-your-environment">Step 1: Set up your environment<a class="headerlink" href="#step-1-set-up-your-environment" title="Permanent link">&para;</a></h3>
<ol>
<li>Install the <code>rag</code> CLI tool:
   <div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>ailabkit
</code></pre></div></li>
<li>Ensure you have access to the <code>testdata/demo_notes/</code> directory or prepare your own documents</li>
</ol>
<h3 id="step-2-index-your-documents">Step 2: Index your documents<a class="headerlink" href="#step-2-index-your-documents" title="Permanent link">&para;</a></h3>
<ol>
<li>Browse through the available demo documents:
   <div class="highlight"><pre><span></span><code>ls<span class="w"> </span>ailabkit/testdata/demo_notes/
</code></pre></div></li>
<li>Create an index of all documents in the demo notes directory:
   <div class="highlight"><pre><span></span><code>rag<span class="w"> </span>index<span class="w"> </span>ailabkit/testdata/demo_notes/
</code></pre></div></li>
<li>Observe the output showing how many files were found and processed, and note the name of the saved index file (e.g., <code>sample_index.npz</code>)</li>
</ol>
<h3 id="step-3-ask-questions-using-your-rag-system">Step 3: Ask questions using your RAG system<a class="headerlink" href="#step-3-ask-questions-using-your-rag-system" title="Permanent link">&para;</a></h3>
<ol>
<li>Ask a basic question about the content:
   <div class="highlight"><pre><span></span><code>rag<span class="w"> </span>ask<span class="w"> </span><span class="s2">&quot;What does TCP do?&quot;</span><span class="w"> </span>--show-context
</code></pre></div></li>
<li>Try different questions to explore the content:
   <div class="highlight"><pre><span></span><code>rag<span class="w"> </span>ask<span class="w"> </span><span class="s2">&quot;How does HTTP work?&quot;</span><span class="w"> </span>--show-context
rag<span class="w"> </span>ask<span class="w"> </span><span class="s2">&quot;What is the difference between TCP and UDP?&quot;</span><span class="w"> </span>--show-scores
</code></pre></div></li>
<li>Experiment with different flags:</li>
<li><code>--show-context</code>: See what information was used to answer</li>
<li><code>--show-scores</code>: View relevance ranking of different text chunks</li>
<li><code>--top-k 5</code>: Retrieve 5 most relevant chunks instead of default 3</li>
</ol>
<h3 id="step-4-understand-how-rag-works">Step 4: Understand how RAG works<a class="headerlink" href="#step-4-understand-how-rag-works" title="Permanent link">&para;</a></h3>
<ol>
<li>Review how the system processes your request:</li>
<li>Documents are broken into smaller chunks</li>
<li>Vector embeddings are created for each chunk</li>
<li>When you ask a question, it finds chunks with similar embeddings</li>
<li>Retrieved chunks are used as context for generating an answer</li>
</ol>
<h2 id="extension-ideas_34">Extension Ideas<a class="headerlink" href="#extension-ideas_34" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Create your own knowledge base</strong>:</li>
<li>Create markdown files with your class notes or research</li>
<li>
<p>Index them and ask questions to test your understanding</p>
</li>
<li>
<p><strong>Experiment with different file types</strong>:</p>
</li>
<li>Add PDF files to your document collection</li>
<li>Re-index to include the new files</li>
<li>
<p>Compare how well the system handles different formats</p>
</li>
<li>
<p><strong>Build a specialized RAG system</strong>:</p>
</li>
<li>Create a collection of documents on a specific topic</li>
<li>Develop a set of test questions to evaluate retrieval quality</li>
<li>
<p>Fine-tune your prompts to get better answers</p>
</li>
<li>
<p><strong>Analyze retrieval performance</strong>:</p>
</li>
<li>Use the <code>--show-scores</code> flag to see how different chunks are ranked</li>
<li>Experiment with question phrasing to improve retrieval accuracy</li>
<li>Try adjusting the number of chunks retrieved with <code>--top-k</code></li>
</ol>
<hr />
<h1 id="hybrid-reasoning-bot">Hybrid Reasoning Bot<a class="headerlink" href="#hybrid-reasoning-bot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate<br />
<strong>Time</strong>: 60 minutes<br />
<strong>Learning Focus</strong>: RAG, similarity thresholds, fallback logic<br />
<strong>Module</strong>: RAG</p>
<h2 id="overview_35">Overview<a class="headerlink" href="#overview_35" title="Permanent link">&para;</a></h2>
<p>Create a bot that intelligently chooses between using your indexed documents (RAG) or the model's general knowledge based on similarity scores. The bot tags responses with source indicators to clearly show where information is coming from.</p>
<h2 id="instructions_35">Instructions<a class="headerlink" href="#instructions_35" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Set up the project:</strong></li>
<li>Create a new Python script file</li>
<li>Import the necessary libraries from ailabkit</li>
<li>
<p>Define emoji constants for tagging sources (🧠 = from notes, 🌐 = fallback)</p>
</li>
<li>
<p><strong>Implement the index loading function:</strong></p>
</li>
<li>Create a function that loads chunks, embeddings, and metadata from an .npz file</li>
<li>
<p>Handle potential loading errors gracefully</p>
</li>
<li>
<p><strong>Create the retrieval function:</strong></p>
</li>
<li>Implement a function that embeds the query</li>
<li>Retrieves top-K chunks with similarity scores</li>
<li>
<p>Returns chunks, scores, and indices</p>
</li>
<li>
<p><strong>Build answer generation functions:</strong></p>
</li>
<li>Create a RAG-based answer function that uses retrieved chunks as context</li>
<li>
<p>Create a fallback function that uses only the LLM's general knowledge</p>
</li>
<li>
<p><strong>Implement the decision logic:</strong></p>
</li>
<li>Use similarity threshold (e.g., 0.7) to decide between RAG or fallback</li>
<li>
<p>Tag responses appropriately with source indicators</p>
</li>
<li>
<p><strong>Add command-line argument handling:</strong></p>
</li>
<li>Query input</li>
<li>Index file path</li>
<li>Similarity threshold</li>
<li>Top-K value</li>
<li>
<p>Optional flags for comparing answers and showing scores</p>
</li>
<li>
<p><strong>Test your implementation:</strong></p>
</li>
<li>Try queries with obvious matches in your index</li>
<li>Try queries with no relevant information in your index</li>
<li>Experiment with different threshold values</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Hybrid Reasoning Bot</span>
<span class="sd">-------------------</span>
<span class="sd">A bot that chooses between RAG or general LLM answers based on similarity score.</span>
<span class="sd">It uses your indexed documents when it finds relevant information,</span>
<span class="sd">and falls back to general knowledge when necessary.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.rag.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">embed_query</span><span class="p">,</span> <span class="n">get_top_k</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="c1"># Emoji constants</span>
<span class="n">RAG_TAG</span> <span class="o">=</span> <span class="s2">&quot;🧠&quot;</span>  <span class="c1"># Knowledge from your notes/documents</span>
<span class="n">LLM_TAG</span> <span class="o">=</span> <span class="s2">&quot;🌐&quot;</span>  <span class="c1"># Knowledge from the model&#39;s training</span>

<span class="k">def</span><span class="w"> </span><span class="nf">load_index</span><span class="p">(</span><span class="n">index_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the index from an .npz file&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;chunks&#39;</span><span class="p">]</span>
        <span class="n">embeddings</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;embeddings&#39;</span><span class="p">]</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading index: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_chunks_with_scores</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the most relevant chunks and their similarity scores for a query&quot;&quot;&quot;</span>
    <span class="c1"># Embed the query</span>
    <span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embed_query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

    <span class="c1"># Get top chunks with scores</span>
    <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">,</span> <span class="n">top_indices</span> <span class="o">=</span> <span class="n">get_top_k</span><span class="p">(</span>
        <span class="n">query_embedding</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">top_k</span><span class="p">,</span> <span class="n">return_indices</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">,</span> <span class="n">top_indices</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_rag_answer</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">chunks</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate an answer using RAG with the provided chunks as context&quot;&quot;&quot;</span>
    <span class="n">context</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">---</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>

    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Based on the following information, please answer the question.</span>
<span class="s2">If the information doesn&#39;t fully address the question, use only what&#39;s relevant.</span>

<span class="s2">Context:</span>
<span class="si">{</span><span class="n">context</span><span class="si">}</span>

<span class="s2">Question: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span>

<span class="s2">Answer:</span>
<span class="s2">&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;helpful&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_llm_answer</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate an answer using only the LLM&#39;s general knowledge&quot;&quot;&quot;</span>
    <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Please answer this question based on your general knowledge:</span>

<span class="s2">Question: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span>

<span class="s2">Answer:</span>
<span class="s2">&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">personality</span><span class="o">=</span><span class="s2">&quot;helpful&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Hybrid reasoning bot using RAG and general knowledge&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;query&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The question to ask&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--index&quot;</span><span class="p">,</span> <span class="s2">&quot;-i&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;sample_index.npz&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the .npz index file&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--threshold&quot;</span><span class="p">,</span> <span class="s2">&quot;-t&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> 
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Similarity score threshold for using RAG (0.0-1.0)&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--top-k&quot;</span><span class="p">,</span> <span class="s2">&quot;-k&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of chunks to use when generating RAG answers&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--no-fallback&quot;</span><span class="p">,</span> <span class="s2">&quot;-n&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> 
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Disable fallback to general knowledge even with low scores&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--compare&quot;</span><span class="p">,</span> <span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> 
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Show both RAG and general knowledge answers for comparison&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--show-scores&quot;</span><span class="p">,</span> <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> 
                        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Show similarity scores for retrieved chunks&quot;</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="c1"># Load the index</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading index from </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">index</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">load_index</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span><span class="si">}</span><span class="s2"> chunks from index.&quot;</span><span class="p">)</span>

    <span class="c1"># Get relevant chunks and their scores</span>
    <span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">,</span> <span class="n">top_indices</span> <span class="o">=</span> <span class="n">get_chunks_with_scores</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">top_k</span>
    <span class="p">)</span>

    <span class="c1"># Determine if we should use RAG based on the highest similarity score</span>
    <span class="n">best_score</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">top_scores</span><span class="p">)</span> <span class="k">if</span> <span class="n">top_scores</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="n">use_rag</span> <span class="o">=</span> <span class="n">best_score</span> <span class="o">&gt;=</span> <span class="n">args</span><span class="o">.</span><span class="n">threshold</span>

    <span class="c1"># Show scores if requested</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">show_scores</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Similarity Scores ===&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">top_chunks</span><span class="p">,</span> <span class="n">top_scores</span><span class="p">)):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">] Score: </span><span class="si">{</span><span class="n">score</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Preview: </span><span class="si">{</span><span class="n">chunk</span><span class="p">[:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best score: </span><span class="si">{</span><span class="n">best_score</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> (Threshold: </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">threshold</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Decision: </span><span class="si">{</span><span class="s1">&#39;Using RAG&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">use_rag</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Using general knowledge&#39;</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Generate answers</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">compare</span><span class="p">:</span>
        <span class="c1"># Generate both answers for comparison</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Generating both answers for comparison ===&quot;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">RAG_TAG</span><span class="si">}</span><span class="s2"> Generating answer from your documents...&quot;</span><span class="p">)</span>
        <span class="n">rag_answer</span> <span class="o">=</span> <span class="n">generate_rag_answer</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">top_chunks</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">LLM_TAG</span><span class="si">}</span><span class="s2"> Generating answer from general knowledge...&quot;</span><span class="p">)</span>
        <span class="n">llm_answer</span> <span class="o">=</span> <span class="n">generate_llm_answer</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>

        <span class="c1"># Display both answers</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">RAG_TAG</span><span class="si">}</span><span class="s2"> Answer from your documents ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">rag_answer</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">LLM_TAG</span><span class="si">}</span><span class="s2"> Answer from general knowledge ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">llm_answer</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Generate only one answer based on the threshold</span>
        <span class="k">if</span> <span class="n">use_rag</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">no_fallback</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="n">RAG_TAG</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2"> Generating answer from your documents...&quot;</span><span class="p">)</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">generate_rag_answer</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">top_chunks</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tag</span> <span class="o">=</span> <span class="n">LLM_TAG</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2"> No sufficiently relevant information found in your documents.&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2"> Falling back to general knowledge...&quot;</span><span class="p">)</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">generate_llm_answer</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>

        <span class="c1"># Display the answer</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2"> Answer ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>

    <span class="c1"># Show sources if using RAG</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">use_rag</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">no_fallback</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">compare</span><span class="p">)</span> <span class="ow">and</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Sources ===&quot;</span><span class="p">)</span>
        <span class="n">used_sources</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">top_indices</span><span class="p">:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
            <span class="n">used_sources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">used_sources</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_35">Extension Ideas<a class="headerlink" href="#extension-ideas_35" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Enhanced Source Attribution</strong>: Display specific document names and page numbers for RAG answers</li>
<li><strong>Confidence Visualization</strong>: Create a visual representation of similarity scores </li>
<li><strong>Hybrid Answers</strong>: Combine information from both sources when appropriate</li>
<li><strong>Interactive Mode</strong>: Create a chat-like interface that remembers context</li>
<li><strong>Custom Personalities</strong>: Allow different personality settings for different query types</li>
<li><strong>Performance Metrics</strong>: Track and display response times for both methods</li>
<li><strong>Web Interface</strong>: Create a simple web UI for the hybrid bot</li>
</ol>
<hr />
<h1 id="pdf-question-answering-chatbot">PDF Question Answering Chatbot<a class="headerlink" href="#pdf-question-answering-chatbot" title="Permanent link">&para;</a></h1>
<p><strong>Difficulty</strong>: Intermediate-Advanced<br />
<strong>Time</strong>: 60-90 minutes<br />
<strong>Learning Focus</strong>: Document processing, natural language understanding, information retrieval<br />
<strong>Module</strong>: RAG</p>
<h2 id="overview_36">Overview<a class="headerlink" href="#overview_36" title="Permanent link">&para;</a></h2>
<p>Create a chatbot that can answer questions from a PDF document. This project teaches students how to extract and process text from PDFs and use AI to retrieve relevant information based on user queries.</p>
<h2 id="instructions_36">Instructions<a class="headerlink" href="#instructions_36" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">fitz</span>  <span class="c1"># PyMuPDF</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ailabkit.chat</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_response</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PDFChatbot</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A chatbot that can answer questions about PDF documents.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdf_file</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_size</span> <span class="o">=</span> <span class="mi">5000</span>  <span class="c1"># Max context size to send to the AI</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">load_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load and extract text from a PDF file.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: File &#39;</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pdf_file</span> <span class="o">=</span> <span class="n">file_path</span>

            <span class="c1"># Open the PDF</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">fitz</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

            <span class="c1"># Extract text from all pages</span>
            <span class="n">full_text</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">page_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">doc</span><span class="p">)):</span>
                <span class="n">page</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">load_page</span><span class="p">(</span><span class="n">page_num</span><span class="p">)</span>
                <span class="n">full_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_text</span><span class="p">)</span>

            <span class="c1"># Print document stats</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Document loaded: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of pages: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total characters: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Print a preview</span>
            <span class="n">preview_length</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Preview:</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">[:</span><span class="n">preview_length</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading PDF: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">summarize_document</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a summary of the document.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No document loaded. Please load a PDF first.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Generating document summary...&quot;</span><span class="p">)</span>

        <span class="c1"># Create a prompt for the AI</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Please provide a concise summary of the following document:</span>

<span class="s2">        </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span><span class="si">}</span><span class="s2">  # Send only the first part if the document is large</span>

<span class="s2">        Include:</span>
<span class="s2">        1. Main topics and themes</span>
<span class="s2">        2. Key points or arguments</span>
<span class="s2">        3. Important entities mentioned</span>
<span class="s2">        4. Document structure overview</span>

<span class="s2">        Keep the summary under 300 words.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">summary</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Document Summary ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error generating summary: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">answer_question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">question</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Answer a question about the document.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No document loaded. Please load a PDF first.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">question</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No question provided.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Answering: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Create a prompt for the AI</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Document text:</span>
<span class="s2">        </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">context_size</span><span class="p">]</span><span class="si">}</span>

<span class="s2">        Question: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span>

<span class="s2">        Please answer the question based only on the information provided in the document.</span>
<span class="s2">        If the answer cannot be found in the document, state that clearly.</span>
<span class="s2">        Provide page numbers or sections if you can determine them from the context.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Answer ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error generating answer: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extract_key_information</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract key information from the document.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No document loaded. Please load a PDF first.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Extracting key information...&quot;</span><span class="p">)</span>

        <span class="c1"># Create a prompt for the AI</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Please extract and organize key information from this document:</span>

<span class="s2">        </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">context_size</span><span class="p">]</span><span class="si">}</span>

<span class="s2">        Extract the following (if present):</span>
<span class="s2">        1. Dates and deadlines</span>
<span class="s2">        2. Names and organizations</span>
<span class="s2">        3. Numerical data or statistics</span>
<span class="s2">        4. Definitions or technical terms</span>
<span class="s2">        5. Action items or requirements</span>

<span class="s2">        Format the information in clear categories with brief explanations.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">key_info</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Key Information ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">key_info</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error extracting information: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">find_related_topics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topic</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find information related to a specific topic in the document.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No document loaded. Please load a PDF first.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">topic</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: No topic provided.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Finding information related to: </span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Create a prompt for the AI</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Document text:</span>
<span class="s2">        </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">context_size</span><span class="p">]</span><span class="si">}</span>

<span class="s2">        Please find and extract all information related to the topic &quot;</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&quot; from the document.</span>
<span class="s2">        Include any definitions, explanations, examples, or references related to this topic.</span>
<span class="s2">        Organize the information in a structured way and indicate where in the document it appears if possible.</span>
<span class="s2">        If the topic is not mentioned in the document, please state that clearly.</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">related_info</span> <span class="o">=</span> <span class="n">get_response</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Information Related to &#39;</span><span class="si">{</span><span class="n">topic</span><span class="si">}</span><span class="s2">&#39; ===&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">related_info</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error finding related information: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the PDF chatbot interface.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== PDF Question Answering Chatbot ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This chatbot can answer questions about PDF documents.&quot;</span><span class="p">)</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Options:&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Load a PDF document&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Get document summary&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Ask a question&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Extract key information&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Find related topics&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;6. Exit&quot;</span><span class="p">)</span>

            <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Select an option (1-6): &quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
                <span class="c1"># Load PDF</span>
                <span class="n">file_path</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter the path to a PDF file: &quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">load_pdf</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
                <span class="c1"># Summarize document</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">summarize_document</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
                <span class="c1"># Ask a question</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please load a PDF document first (option 1).&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>

                <span class="n">question</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter your question about the document: &quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">answer_question</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span>
                <span class="c1"># Extract key information</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">extract_key_information</span><span class="p">()</span>

            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span>
                <span class="c1"># Find related topics</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_text</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please load a PDF document first (option 1).&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>

                <span class="n">topic</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Enter a topic to find in the document: &quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">find_related_topics</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>

            <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span>
                <span class="c1"># Exit</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exiting PDF Chatbot. Goodbye!&quot;</span><span class="p">)</span>
                <span class="k">break</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid choice. Please select a number between 1 and 6.&quot;</span><span class="p">)</span>

<span class="c1"># Run the chatbot</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">chatbot</span> <span class="o">=</span> <span class="n">PDFChatbot</span><span class="p">()</span>
    <span class="n">chatbot</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
<h2 id="extension-ideas_36">Extension Ideas<a class="headerlink" href="#extension-ideas_36" title="Permanent link">&para;</a></h2>
<ul>
<li>Add support for multiple document formats (DOCX, TXT, etc.)</li>
<li>Implement semantic search to find specific information more efficiently</li>
<li>Create a feature to compare information across multiple documents</li>
<li>Add a citation generator for referencing document content</li>
<li>Build a web interface using Flask or Streamlit</li>
<li>Implement document chunking for handling very large documents</li>
</ul>
<hr />
<h1 id="implementation-tips_1">Implementation Tips<a class="headerlink" href="#implementation-tips_1" title="Permanent link">&para;</a></h1>
<p>When using these advanced mini-projects in a classroom setting:</p>
<ol>
<li><strong>Scaffold appropriately</strong>: Start with simpler projects for beginners, then progress to more complex ones.</li>
<li><strong>Modify complexity</strong>: Adjust project requirements based on student skill level and available time.</li>
<li><strong>Pair programming</strong>: Have students work in pairs to encourage collaboration.</li>
<li><strong>Challenge extensions</strong>: Provide additional challenges for students who finish early.</li>
<li><strong>Focus on concepts</strong>: Emphasize the programming concepts being used rather than just creating a functioning application.</li>
<li><strong>Ethical discussions</strong>: Use these projects as opportunities to discuss AI ethics, bias, and limitations.</li>
</ol>
<h1 id="assessment-ideas_2">Assessment Ideas<a class="headerlink" href="#assessment-ideas_2" title="Permanent link">&para;</a></h1>
<ul>
<li>Have students document their process in a digital portfolio</li>
<li>Create a "project showcase" where students present their creations</li>
<li>Ask students to write reflections on what they learned</li>
<li>Evaluate code structure, comments, and organization</li>
<li>Have students peer-review each other's projects</li>
</ul>
<hr />
<p><em>These examples are designed to be flexible starting points. Adjust and expand them to suit your specific educational needs and student skill levels.</em></p>
<hr />
<!-- All mini-projects are now included and conform to the standard format.
For additions or edits, update the corresponding files in docs/projects/ and regenerate this document. -->

<p><em>For implementation strategies and assessment ideas, see the <a href="../education-guide/">AiLabKit Education Guide</a>.</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/teaching-repositories/ailabkit" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.instant", "navigation.tracking", "content.code.copy", "toc.integrate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../javascripts/custom.js"></script>
      
    
  </body>
</html>